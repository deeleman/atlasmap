!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/http"),require("@angular/forms"),require("rxjs/Observable"),require("rxjs/operator/distinctUntilChanged"),require("rxjs/operator/map"),require("rxjs/BehaviorSubject"),require("rxjs/operator/observeOn"),require("rxjs/operator/scan"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/map"),require("rxjs/Subject"),require("rxjs/add/observable/from"),require("rxjs/add/operator/debounceTime"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/toArray"),require("rxjs/add/operator/toPromise"),require("rxjs/add/observable/forkJoin"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/http","@angular/forms","rxjs/Observable","rxjs/operator/distinctUntilChanged","rxjs/operator/map","rxjs/BehaviorSubject","rxjs/operator/observeOn","rxjs/operator/scan","rxjs/add/operator/filter","rxjs/add/operator/map","rxjs/Subject","rxjs/add/observable/from","rxjs/add/operator/debounceTime","rxjs/add/operator/mergeMap","rxjs/add/operator/toArray","rxjs/add/operator/toPromise","rxjs/add/observable/forkJoin","@angular/platform-browser"],t):t(e["atlasmap-data-mapper"]={},e.ng.core,e.ng.common,e.ng.http,e.ng.forms,e.Rx,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable,e.ng.platformBrowser)}(this,function(e,t,n,i,a,o,r,s,l,p,c,d,u,h,f,g,m,v,y,b,_){"use strict";function C(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}function w(e){return e&&!isNaN(e.getTime())}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function I(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=function(e){return e<0?Math.ceil(e)||0:Math.floor(e)}(t)),n}function F(e,t,n,i){var a=i;if(e&&(Ye[e]=a),t){var o=t[0];Ye[o]=function(e,n,i){return C(a.apply(null,arguments),t[1],t[2])}}n&&(Ye[n]=function(t,n,i){return i.ordinal(a.apply(null,arguments),e)})}function O(e,t,n,i,a,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0);var r=new Date;return new Date(e||r.getFullYear(),t,n,i,a,o)}function k(e,t){var n=Object.assign({},$e,t);return O(e.getFullYear()+n.year,e.getMonth()+n.month,e.getDate()+n.day,e.getHours()+n.hour,e.getMinutes()+n.minute,e.getSeconds()+n.seconds)}function T(e,t){return O(P(e.getFullYear(),t.year),P(e.getMonth(),t.month),P(e.getDate(),t.day),P(e.getHours(),t.hour),P(e.getMinutes(),t.minute),P(e.getSeconds(),t.seconds))}function P(e,t){return"number"==typeof t?t:e}function E(e,t){return void 0===t&&(t=!1),t?e.getUTCHours():e.getHours()}function A(e,t){return void 0===t&&(t=!1),t?e.getUTCMinutes():e.getMinutes()}function N(e,t){return void 0===t&&(t=!1),t?e.getUTCSeconds():e.getSeconds()}function L(e,t){return void 0===t&&(t=!1),t?e.getUTCDay():e.getDay()}function R(e,t){return void 0===t&&(t=!1),t?e.getUTCDate():e.getDate()}function j(e,t){return void 0===t&&(t=!1),t?e.getUTCMonth():e.getMonth()}function V(e,t){return void 0===t&&(t=!1),t?e.getUTCFullYear():e.getFullYear()}function H(e,t){return!(!e||!t)&&(B(e,t)&&j(e)===j(t))}function B(e,t){return!(!e||!t)&&V(e)===V(t)}function z(e,t){return!(!e||!t)&&(B(e,t)&&H(e,t)&&R(e)===R(t))}function U(e){return V(e).toString()}function W(e,t){return T(e,function(e){var t={};switch(e){case"year":t.month=0;case"month":t.day=1;case"week":case"day":t.hour=0;case"hour":t.minute=0;case"minute":t.seconds=0}return t}(t))}function J(e,t){var n=k(W(e,t),(i={},i[t]=1,i));return n.setMilliseconds(-1),n;var i}function Y(e){var t=+W(e,"day")-+W(e,"year");return Math.round(t/864e5)+1}function G(e,t,n){var i=7+t-n;return-((7+function(e,t,n,i,a,o,r){var s=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(s.getUTCFullYear())&&s.setUTCFullYear(e),s}(e,0,i).getUTCDay()-t)%7)+i-1}function $(e,t,n){var i,a,o=G(V(e),t,n),r=Math.floor((Y(e)-o-1)/7)+1;return r<1?i=r+X(a=V(e)-1,t,n):r>X(V(e),t,n)?(i=r-X(V(e),t,n),a=V(e)+1):(a=V(e),i=r),{week:i,year:a}}function X(e,t,n){var i=G(e,t,n),a=G(e+1,t,n);return(function(e){return function(e){return e%4==0&&e%100!=0||e%400==0}(e)?366:365}(e)-i+a)/7}function q(e){return e?function(e){return st[e]}(e):Xe}function Z(e,t){var n;return e&&(n=function(e){return void 0===e}(t)?q(e):K(e,t))&&(Xe=n),Xe._abbr}function K(e,t){return null===t?(delete st[e],null):(t.abbr=e,st[e]=new ot(function(e,t){var n=Object.assign({},e);for(var i in t)D(t,i)&&(x(e[i])&&x(t[i])?(n[i]={},Object.assign(n[i],e[i]),Object.assign(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(var a in e)D(e,a)&&!D(t,a)&&x(e[a])&&(n[a]=Object.assign({},n[a]));return n}(rt,t)),lt[e]&&lt[e].forEach(function(e){K(e.name,e.config)}),Z(e),st[e])}function Q(){return void 0===pt||("undefined"==typeof pt.__theme?qe?"bs3"===qe:"bs3"===(qe=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==pt.__theme)}function ee(e){return function(e,t){var n=" __"+t+"Value";Object.defineProperty(e,t,{get:function(){return this[n]},set:function(e){var i=this[n];this[n]=e,i!==e&&this[t+"Change"]&&this[t+"Change"].emit(e)}})}}function te(e){return E(e)%12||12}function ne(e,t){F(e,null,null,function(e,n,i){return i.meridiem(E(e),A(e),t)})}function ie(e,t,n){void 0===n&&(n="en");var i=q(n);if(!i)throw new Error('Locale "'+n+'" is not defined, please add it with "defineLocale(...)"');var a=function(e,t,n){if(!w(e))return n.invalidDate;var i=function(e,t){var n=e,i=5,a=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o=function(e){return t.formatLongDate(e)||e};a.lastIndex=0;for(;i>=0&&a.test(n);)n=n.replace(a,o),a.lastIndex=0,i-=1;return n}(t,n);return Je[i]=Je[i]||function(e){for(var t=e.match(Ge),n=t.length,i=new Array(n),a=0;a<n;a++)i[a]=Ye[t[a]]?Ye[t[a]]:function(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}(t[a]);return function(t,a){for(var o="",r=0;r<n;r++)o+=S(i[r])?i[r].call(null,t,e,a):i[r];return o}}(i),Je[i](e,n)}(e,t,i);return i.postformat(a)}function ae(){try{return Ht.apply(this,arguments)}catch(e){return Yt.errorObject.e=e,Yt.errorObject}}function oe(e){return e.reduce(function(e,t){return e.concat(t instanceof Xt.UnsubscriptionError?t.errors:t)},[])}function re(e,t,n){return void 0===n&&(n="milliseconds"),!(!e||!t)&&("milliseconds"===n?e.valueOf()>t.valueOf():t.valueOf()<W(e,n).valueOf())}function se(e,t,n){return void 0===n&&(n="milliseconds"),!(!e||!t)&&("milliseconds"===n?e.valueOf()<t.valueOf():J(e,n).valueOf()<t.valueOf())}function le(e,t,n){if(void 0===n&&(n="milliseconds"),!e||!t)return!1;if("milliseconds"===n)return e.valueOf()===t.valueOf();var i=t.valueOf();return W(e,n).valueOf()<=i&&i<=J(e,n).valueOf()}function pe(e,t,n){return le(e,t,n)||re(e,t,n)}function ce(e,t,n){return le(e,t,n)||se(e,t,n)}function de(e,t,n){var i=t&&ce(J(e,"month"),t,"day"),a=n&&pe(W(e,"month"),n,"day");return i||a}function ue(e,t,n){var i=t&&ce(J(e,"year"),t,"day"),a=n&&pe(W(e,"year"),n,"day");return i||a}function he(e,t){for(var n=e.initialDate,i=new Array(e.height),a=0;a<e.height;a++){i[a]=new Array(e.width);for(var o=0;o<e.width;o++)i[a][o]=t(n),n=k(n,e.shift)}return i}function fe(e,t){var n=function(e){return O(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds())}(e),i=function(e,t){return function(e,t){return e.getDay()===t}(e,t.firstDayOfWeek)?e:k(e,{day:-function(e,t){if(0===t)return e;var n=e-t%7;return n<0?n+7:n}(L(e),t.firstDayOfWeek)})}(n,t);return{daysMatrix:he({width:t.width,height:t.height,initialDate:i,shift:{day:1}},function(e){return e}),month:n}}function ge(e,t,n){return{month:e.month,monthTitle:ie(e.month,t.monthTitle,t.locale),yearTitle:ie(e.month,t.yearTitle,t.locale),weekNumbers:function(e,t,n){return e.map(function(e){return e[0]?ie(e[0],t,n):""})}(e.daysMatrix,t.weekNumbers,t.locale),weekdays:function(e){var t=q(e),n=t.weekdaysShort(),i=t.firstDayOfWeek();return n.slice(i).concat(n.slice(0,i))}(t.locale),weeks:e.daysMatrix.map(function(e,i){return{days:e.map(function(e,a){return{date:e,label:ie(e,t.dayLabel,t.locale),monthIndex:n,weekIndex:i,dayIndex:a}})}})}}function me(e,t){var n=W(e,"year");return{months:he({width:un,height:dn,initialDate:n,shift:hn},function(e){return{date:e,label:ie(e,t.monthLabel,t.locale)}}),monthTitle:"",yearTitle:ie(e,t.yearTitle,t.locale)}}function ve(e,t){var n=k(e,{year:vn}),i=he({width:gn,height:fn,initialDate:n,shift:yn},function(e){return{date:e,label:ie(e,t.yearLabel,t.locale)}});return{years:i,monthTitle:"",yearTitle:function(e,t){var n=ie(e[0][0].date,t.yearTitle,t.locale),i=ie(e[fn-1][gn-1].date,t.yearTitle,t.locale);return n+" - "+i}(i,t)}}function ye(e,t){switch(void 0===e&&(e=At),t.type){case Ot.CALCULATE:return function(e){var t=e.displayMonths,n=e.view.date;if("day"===e.view.mode){e.monthViewOptions.firstDayOfWeek=q(e.locale).firstDayOfWeek();for(var i=new Array(t),a=0;a<t;a++)i[a]=fe(n,e.monthViewOptions),n=k(n,{month:1});return Object.assign({},e,{monthsModel:i})}if("month"===e.view.mode){for(var o=new Array(t),r=0;r<t;r++)o[r]=me(n,be(e)),n=k(n,{year:1});return Object.assign({},e,{monthsCalendar:o})}if("year"===e.view.mode){for(var s=new Array(t),r=0;r<t;r++)s[r]=ve(n,be(e)),n=k(n,{year:mn});return Object.assign({},e,{yearsCalendarModel:s})}return e}(e);case Ot.FORMAT:return function(e,t){if("day"===e.view.mode){var n=e.monthsModel.map(function(t,n){return ge(t,be(e),n)});return Object.assign({},e,{formattedMonths:n})}var i=e.displayMonths,a=e.view.date;if("month"===e.view.mode){for(var o=new Array(i),r=0;r<i;r++)o[r]=me(a,be(e)),a=k(a,{year:1});return Object.assign({},e,{monthsCalendar:o})}if("year"===e.view.mode){for(var s=new Array(i),r=0;r<i;r++)s[r]=ve(a,be(e)),a=k(a,{year:16});return Object.assign({},e,{yearsCalendarModel:s})}return e}(e);case Ot.FLAG:return function(e,t){if("day"===e.view.mode){var n=e.formattedMonths.map(function(t,n){return function(e,t){return e.weeks.forEach(function(n,i){n.days.forEach(function(i,a){var o=!H(i.date,e.month),r=!o&&z(i.date,t.hoveredDate),s=!o&&t.selectedRange&&z(i.date,t.selectedRange[0]),l=!o&&t.selectedRange&&z(i.date,t.selectedRange[1]),p=!o&&z(i.date,t.selectedDate)||s||l,c=!o&&t.selectedRange&&function(e,t,n){return!(!e||!t[0])&&(t[1]?e>t[0]&&e<=t[1]:!!n&&(e>t[0]&&e<=n))}(i.date,t.selectedRange,t.hoveredDate),d=t.isDisabled||se(i.date,t.minDate,"day")||re(i.date,t.maxDate,"day"),u=Object.assign({},i,{isOtherMonth:o,isHovered:r,isSelected:p,isSelectionStart:s,isSelectionEnd:l,isInRange:c,isDisabled:d});i.isOtherMonth===u.isOtherMonth&&i.isHovered===u.isHovered&&i.isSelected===u.isSelected&&i.isSelectionStart===u.isSelectionStart&&i.isSelectionEnd===u.isSelectionEnd&&i.isDisabled===u.isDisabled&&i.isInRange===u.isInRange||(n.days[a]=u)})}),e.hideLeftArrow=t.isDisabled||t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.isDisabled||t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=de(k(e.month,{month:-1}),t.minDate,t.maxDate),e.disableRightArrow=de(k(e.month,{month:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredDate:e.hoveredDate,selectedDate:e.selectedDate,selectedRange:e.selectedRange,displayMonths:e.displayMonths,monthIndex:n})});return Object.assign({},e,{flaggedMonths:n})}if("month"===e.view.mode){var i=e.monthsCalendar.map(function(t,n){return function(e,t){return e.months.forEach(function(n,i){n.forEach(function(n,a){var o=H(n.date,t.hoveredMonth),r=t.isDisabled||de(n.date,t.minDate,t.maxDate),s=Object.assign(n,{isHovered:o,isDisabled:r});n.isHovered===s.isHovered&&n.isDisabled===s.isDisabled||(e.months[i][a]=s)})}),e.hideLeftArrow=t.monthIndex>0&&t.monthIndex!==t.displayMonths,e.hideRightArrow=t.monthIndex<t.displayMonths&&t.monthIndex+1!==t.displayMonths,e.disableLeftArrow=ue(k(e.months[0][0].date,{year:-1}),t.minDate,t.maxDate),e.disableRightArrow=ue(k(e.months[0][0].date,{year:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredMonth:e.hoveredMonth,displayMonths:e.displayMonths,monthIndex:n})});return Object.assign({},e,{flaggedMonthsCalendar:i})}if("year"===e.view.mode){var a=e.yearsCalendarModel.map(function(t,n){return function(e,t){e.years.forEach(function(n,i){n.forEach(function(n,a){var o=B(n.date,t.hoveredYear),r=t.isDisabled||ue(n.date,t.minDate,t.maxDate),s=Object.assign(n,{isHovered:o,isDisabled:r});n.isHovered===s.isHovered&&n.isDisabled===s.isDisabled||(e.years[i][a]=s)})}),e.hideLeftArrow=t.yearIndex>0&&t.yearIndex!==t.displayMonths,e.hideRightArrow=t.yearIndex<t.displayMonths&&t.yearIndex+1!==t.displayMonths,e.disableLeftArrow=ue(k(e.years[0][0].date,{year:-1}),t.minDate,t.maxDate);var n=e.years.length-1,i=e.years[n].length-1;return e.disableRightArrow=ue(k(e.years[n][i].date,{year:1}),t.minDate,t.maxDate),e}(t,{isDisabled:e.isDisabled,minDate:e.minDate,maxDate:e.maxDate,hoveredYear:e.hoveredYear,displayMonths:e.displayMonths,yearIndex:n})});return Object.assign({},e,{yearsCalendarFlagged:a})}return e}(e);case Ot.NAVIGATE_OFFSET:var n=k(W(e.view.date,"month"),t.payload),i={view:{mode:e.view.mode,date:n}};return Object.assign({},e,i);case Ot.NAVIGATE_TO:var a=t.payload,i={view:{date:n=T(e.view.date,a.unit),mode:o=a.viewMode}};return Object.assign({},e,i);case Ot.CHANGE_VIEWMODE:if(t.payload,!1)return e;var n=e.view.date,o=t.payload,i={view:{date:n,mode:o}};return Object.assign({},e,i);case Ot.HOVER:return Object.assign({},e,{hoveredDate:t.payload});case Ot.SELECT:i={selectedDate:t.payload,view:e.view};return t.payload&&(i.view={date:t.payload,mode:e.view.mode}),Object.assign({},e,i);case Ot.SET_OPTIONS:return(i=t.payload).value&&(i.view=e.view,M(i.value)?(i.view={mode:e.view.mode,date:w(i.value[0])?i.value[0]:i.view.date},i.selectedRange=i.value):(i.view={mode:e.view.mode,date:i.value},i.selectedDate=i.value)),Object.assign({},e,i);case Ot.SELECT_RANGE:return Object.assign({},e,{selectedRange:t.payload});case Ot.SET_MIN_DATE:return Object.assign({},e,{minDate:t.payload});case Ot.SET_MAX_DATE:return Object.assign({},e,{maxDate:t.payload});case Ot.SET_IS_DISABLED:return Object.assign({},e,{isDisabled:t.payload});default:return e}}function be(e){return{locale:e.locale,monthTitle:e.monthTitle,yearTitle:e.yearTitle,dayLabel:e.dayLabel,monthLabel:e.monthLabel,yearLabel:e.yearLabel,weekNumbers:e.weekNumbers}}function _e(e,t){var n=function(e,t){void 0===t&&(t=On);var n=(e||"").trim();if(0===n.length)return[];var i=n.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var n=t[e[0]]||e;return new Ct(n[0],n[1])}),a=i.filter(function(e){return e.isManual()});if(a.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===a.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var a=[],o=[],r=function(){o.forEach(function(e){return a.push(e())}),o.length=0};return n.forEach(function(n){var s=n.open===n.close,l=s?t.toggle:t.show;s||o.push(function(){return e.listen(i,n.close,t.hide)}),a.push(e.listen(i,n.open,function(){return l(r)}))}),function(){a.forEach(function(e){return e()})}}function Ce(e){return"string"==typeof e?document.querySelector(e):e instanceof t.ElementRef?e.nativeElement:e}function we(e){!t.isDevMode()||Xn||e in $n||($n[e]=!0,console.warn(e))}function Se(e){return!!e&&(!(e instanceof Date&&isNaN(e.getHours()))&&("string"!=typeof e||Se(new Date(e))))}function Me(e){return"number"==typeof e?e:parseInt(e,Ci)}function De(e,t){void 0===t&&(t=!1);var n=Me(e);return isNaN(n)||n<0||n>(t?Si:wi)?NaN:n}function xe(e){var t=Me(e);return isNaN(t)||t<0||t>Mi?NaN:t}function Ie(e){var t=Me(e);return isNaN(t)||t<0||t>Di?NaN:t}function Fe(e){return"string"==typeof e?new Date(e):e}function Oe(e,t){if(!e)return Oe(ke(new Date,0,0,0),t);var n=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return t.hour&&(n=(n+Me(t.hour))%wi)<0&&(n+=wi),t.minute&&(i+=Me(t.minute)),t.seconds&&(a+=Me(t.seconds)),ke(e,n,i,a)}function ke(e,t,n,i){var a=e||new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),t,n,i,a.getMilliseconds())}function Te(e){var t=e.toString();return t.length>1?t:"0"+t}function Pe(e,t,n,i){return void 0===n&&(n="0"),!(isNaN(De(e,i))||isNaN(xe(t))||isNaN(Ie(n)))}function Ee(e,t){if(e.readonlyInput)return!1;if(t){if("wheel"===t.source&&!e.mousewheel)return!1;if("key"===t.source&&!e.arrowkeys)return!1}return!0}function Ae(e){return{hourStep:e.hourStep,minuteStep:e.minuteStep,secondsStep:e.secondsStep,readonlyInput:e.readonlyInput,mousewheel:e.mousewheel,arrowkeys:e.arrowkeys,showSpinners:e.showSpinners,showMeridian:e.showMeridian,showSeconds:e.showSeconds,meridians:e.meridians,min:e.min,max:e.max}}function Ne(e,t){switch(void 0===e&&(e=Ii),t.type){case _i.WRITE_VALUE:return Object.assign({},e,{value:t.payload});case _i.CHANGE_HOURS:if(!Ee(e.config,t.payload)||!function(e,t){return!(!e.step||e.step>0&&!t.canIncrementHours||e.step<0&&!t.canDecrementHours)}(t.payload,e.controls))return e;n=Oe(e.value,{hour:t.payload.step});return Object.assign({},e,{value:n});case _i.CHANGE_MINUTES:if(!Ee(e.config,t.payload)||!function(e,t){return!(!e.step||e.step>0&&!t.canIncrementMinutes||e.step<0&&!t.canDecrementMinutes)}(t.payload,e.controls))return e;n=Oe(e.value,{minute:t.payload.step});return Object.assign({},e,{value:n});case _i.CHANGE_SECONDS:if(!Ee(e.config,t.payload)||!function(e,t){return!(!e.step||e.step>0&&!t.canIncrementSeconds||e.step<0&&!t.canDecrementSeconds)}(t.payload,e.controls))return e;n=Oe(e.value,{seconds:t.payload.step});return Object.assign({},e,{value:n});case _i.SET_TIME_UNIT:if(!Ee(e.config))return e;var n=function(e,t){var n=De(t.hour),i=xe(t.minute),a=Ie(t.seconds)||0;return t.isPM&&(n+=Si),e?isNaN(n)||isNaN(i)?e:ke(e,n,i,a):isNaN(n)||isNaN(i)?e:ke(new Date,n,i,a)}(e.value,t.payload);return Object.assign({},e,{value:n});case _i.UPDATE_CONTROLS:var i=function(e,t){var n=t.min,i=t.max,a=t.hourStep,o=t.minuteStep,r=t.secondsStep,s=t.showSeconds,l={canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0};if(!e)return l;i&&(p=Oe(e,{hour:a}),l.canIncrementHours=i>p,l.canIncrementHours||(c=Oe(e,{minute:o}),l.canIncrementMinutes=s?i>c:i>=c),l.canIncrementMinutes||(d=Oe(e,{seconds:r}),l.canIncrementSeconds=i>=d));if(n){var p=Oe(e,{hour:-a});if(l.canDecrementHours=n<p,!l.canDecrementHours){var c=Oe(e,{minute:-o});l.canDecrementMinutes=s?n<c:n<=c}if(!l.canDecrementMinutes){var d=Oe(e,{seconds:-r});l.canDecrementSeconds=n<=d}}return l}(e.value,t.payload),a={value:e.value,config:t.payload,controls:i};return e.config.showMeridian!==a.config.showMeridian&&(a.value=new Date(e.value)),Object.assign({},e,a);default:return e}}function Le(e){return e?e.replace(/[^A-Za-z0-9\[\] ]/g,function(e){return ji[e]||e}):""}function Re(e,t,n){void 0===t&&(t=" "),void 0===n&&(n="");for(var i,a="(?:["+n+"])([^"+n+"]+)(?:["+n+"])|([^"+t+"]+)",o=e.split(new RegExp(a,"g")),r=[],s=o.length,l=new RegExp("["+n+"]+","g"),p=0;p<s;p+=1)(i=o[p])&&i.length&&i!==t&&r.push(i.replace(l,""));return r}function je(e,t){if(!t||"object"!=typeof e)return e.toString();if(t.endsWith("()")){return e[t.slice(0,t.length-2)]().toString()}for(var n=0,i=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");n<i.length;n++){var a=i[n];a in e&&(e=e[a])}return e?e.toString():""}function Ve(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function He(e,t,n,i){var a=e+" ";switch(n){case"s":return t||i?"pár sekund":"pár sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?a+(Ve(e)?"minuty":"minut"):a+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?a+(Ve(e)?"hodiny":"hodin"):a+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?a+(Ve(e)?"dny":"dní"):a+"dny";case"M":return t||i?"měsíc":"měsícem";case"MM":return t||i?a+(Ve(e)?"měsíce":"měsíců"):a+"měsíci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?a+(Ve(e)?"roky":"let"):a+"lety"}}function Be(e,t,n,i){var a=e.toString(),o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return t?o[n][0]:o[n][1]}function ze(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function Ue(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return i+(ze(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return i+(ze(e)?"godziny":"godzin");case"MM":return i+(ze(e)?"miesiące":"miesięcy");case"yy":return i+(ze(e)?"lata":"lat")}}function We(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n],+e)}var Je={},Ye={},Ge=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$e={year:0,month:0,day:0,hour:0,minute:0,seconds:0};F("Y",null,null,function(e){var t=V(e);return t<=9999?""+t:"+"+t}),F(null,["YY",2],null,function(e){return(V(e)%100).toString(10)}),F(null,["YYYY",4],null,U),F(null,["YYYYY",5],null,U),F(null,["YYYYYY",6,!0],null,U),F("DDD",["DDDD",3],"DDDo",function(e){return Y(e).toString(10)});var Xe,qe,Ze,Ke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),it="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),at={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ot=function(){function e(e){e&&this.set(e)}return e.prototype.set=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this[S(n)?t:"_"+t]=n}this._config=e},e.prototype.months=function(e,t){if(!e)return M(this._months)?this._months:this._months.standalone;if(M(this._months))return this._months[j(e)];var n=(this._months.isFormat||Ke).test(t)?"format":"standalone";return this._months[n][j(e)]},e.prototype.monthsShort=function(e,t){if(!e)return M(this._monthsShort)?this._monthsShort:this._monthsShort.standalone;if(M(this._monthsShort))return this._monthsShort[j(e)];var n=Ke.test(t)?"format":"standalone";return this._monthsShort[n][j(e)]},e.prototype.weekdays=function(e,t){var n=M(this._weekdays);if(!e)return n?this._weekdays:this._weekdays.standalone;if(n)return this._weekdays[L(e)];var i=this._weekdays.isFormat.test(t)?"format":"standalone";return this._weekdays[i][L(e)]},e.prototype.weekdaysMin=function(e){return e?this._weekdaysShort[L(e)]:this._weekdaysShort},e.prototype.weekdaysShort=function(e){return e?this._weekdaysMin[L(e)]:this._weekdaysMin},e.prototype.week=function(e){return $(e,this._week.dow,this._week.doy).week},e.prototype.firstDayOfWeek=function(){return this._week.dow},e.prototype.firstDayOfYear=function(){return this._week.doy},e.prototype.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},e.prototype.ordinal=function(e,t){return this._ordinal.replace("%d",e.toString(10))},e.prototype.preparse=function(e){return e},e.prototype.postformat=function(e){return e},e.prototype.formatLongDate=function(e){this._longDateFormat=this._longDateFormat?this._longDateFormat:at;var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},e}(),rt={invalidDate:"Invalid date",months:Qe,monthsShort:et,week:{dow:0,doy:6},weekdays:tt,weekdaysMin:it,weekdaysShort:nt,meridiemParse:/[ap]\.?m?\.?/i},st={},lt={},pt="undefined"!=typeof window&&window||{},ct=pt.document,dt=(pt.location,pt.gc,pt.performance&&pt.performance,pt.Event,pt.MouseEvent,pt.KeyboardEvent,pt.EventTarget,pt.History,pt.Location,pt.EventListener,function(){function e(){this.closeOthers=!1}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),ut=function(){function e(e){this.groups=[],Object.assign(this,e)}return e.prototype.closeOtherPanels=function(e){this.closeOthers&&this.groups.forEach(function(t){t!==e&&(t.isOpen=!1)})},e.prototype.addGroup=function(e){this.groups.push(e)},e.prototype.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)},e.decorators=[{type:t.Component,args:[{selector:"accordion",template:"<ng-content></ng-content>",host:{"[attr.aria-multiselectable]":"closeOthers",role:"tablist","class":"panel-group",style:"display: block"}}]}],e.ctorParameters=function(){return[{type:dt}]},e.propDecorators={closeOthers:[{type:t.Input}]},e}(),ht=(function(){function e(e){this.isOpenChange=new t.EventEmitter,this._isOpen=!1,this.accordion=e}Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){var t=this;e!==this.isOpen&&(e&&this.accordion.closeOtherPanels(this),this._isOpen=e,Promise.resolve(null).then(function(){t.isOpenChange.emit(e)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs3",{get:function(){return Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.panelClass=this.panelClass||"panel-default",this.accordion.addGroup(this)},e.prototype.ngOnDestroy=function(){this.accordion.removeGroup(this)},e.prototype.toggleOpen=function(e){this.isDisabled||(this.isOpen=!this.isOpen)},e.decorators=[{type:t.Component,args:[{selector:"accordion-group, accordion-panel",template:'<div class="panel card" [ngClass]="panelClass"> <div class="panel-heading card-header" role="tab" (click)="toggleOpen($event)"> <div class="panel-title"> <div role="button" class="accordion-toggle" [attr.aria-expanded]="isOpen"> <div *ngIf="heading" [ngClass]="{\'text-muted\': isDisabled}"> {{ heading }} </div> <ng-content select="[accordion-heading]"></ng-content> </div> </div> </div> <div class="panel-collapse collapse" role="tabpanel" [collapse]="!isOpen"> <div class="panel-body card-block card-body"> <ng-content></ng-content> </div> </div> </div> ',host:{"class":"panel",style:"display: block"}}]}],e.ctorParameters=function(){return[{type:ut,decorators:[{type:t.Inject,args:[ut]}]}]},e.propDecorators={heading:[{type:t.Input}],panelClass:[{type:t.Input}],isDisabled:[{type:t.Input}],isOpenChange:[{type:t.Output}],isOpen:[{type:t.HostBinding,args:["class.panel-open"]},{type:t.Input}]}}(),function(){function e(e,n){this._el=e,this._renderer=n,this.collapsed=new t.EventEmitter,this.expanded=new t.EventEmitter,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1}Object.defineProperty(e.prototype,"collapse",{get:function(){return this.isExpanded},set:function(e){this.isExpanded=e,this.toggle()},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.isExpanded?this.hide():this.show()},e.prototype.hide=function(){this.isCollapse=!1,this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapse=!0,this.isCollapsing=!1,this.display="none",this.collapsed.emit(this)},e.prototype.show=function(){this.isCollapse=!1,this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.display="block",this.isCollapse=!0,this.isCollapsing=!1,this._renderer.setStyle(this._el.nativeElement,"overflow","visible"),this._renderer.setStyle(this._el.nativeElement,"height","auto"),this.expanded.emit(this)},e.decorators=[{type:t.Directive,args:[{selector:"[collapse]",exportAs:"bs-collapse",host:{"[class.collapse]":"true"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={collapsed:[{type:t.Output}],expanded:[{type:t.Output}],display:[{type:t.HostBinding,args:["style.display"]}],isExpanded:[{type:t.HostBinding,args:["class.in"]},{type:t.HostBinding,args:["class.show"]},{type:t.HostBinding,args:["attr.aria-expanded"]}],isCollapsed:[{type:t.HostBinding,args:["attr.aria-hidden"]}],isCollapse:[{type:t.HostBinding,args:["class.collapse"]}],isCollapsing:[{type:t.HostBinding,args:["class.collapsing"]}],collapse:[{type:t.Input}]}}(),function(){function e(){this.type="warning",this.dismissible=!1,this.dismissOnTimeout=undefined}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),ft=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},gt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mt=(function(){function e(e,n){var i=this;this.changeDetection=n,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new t.EventEmitter,this.onClosed=new t.EventEmitter,this.classes="",this.dismissibleChange=new t.EventEmitter,Object.assign(this,e),this.dismissibleChange.subscribe(function(e){i.classes=i.dismissible?"alert-dismissible":"",i.changeDetection.markForCheck()})}e.prototype.ngOnInit=function(){var e=this;this.dismissOnTimeout&&setTimeout(function(){return e.close()},parseInt(this.dismissOnTimeout,10))},e.prototype.close=function(){this.isOpen&&(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))},e.decorators=[{type:t.Component,args:[{selector:"alert,bs-alert",template:'<ng-template [ngIf]="isOpen"> <div [class]="\'alert alert-\' + type" role="alert" [ngClass]="classes"> <ng-template [ngIf]="dismissible"> <button type="button" class="close" aria-label="Close" (click)="close()"> <span aria-hidden="true">&times;</span> <span class="sr-only">Close</span> </button> </ng-template> <ng-content></ng-content> </div> </ng-template> ',changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:ht},{type:t.ChangeDetectorRef}]},e.propDecorators={type:[{type:t.Input}],dismissible:[{type:t.Input}],dismissOnTimeout:[{type:t.Input}],isOpen:[{type:t.Input}],onClose:[{type:t.Output}],onClosed:[{type:t.Output}]},ft([ee(),gt("design:type",Object)],e.prototype,"dismissible",void 0)}(),{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return vt}),multi:!0}),vt=function(){function e(){this.btnCheckboxTrue=!0,this.btnCheckboxFalse=!1,this.state=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype}return e.prototype.onClick=function(){this.isDisabled||(this.toggle(!this.state),this.onChange(this.value))},e.prototype.ngOnInit=function(){this.toggle(this.trueValue===this.value)},Object.defineProperty(e.prototype,"trueValue",{get:function(){return"undefined"==typeof this.btnCheckboxTrue||this.btnCheckboxTrue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"falseValue",{get:function(){return"undefined"!=typeof this.btnCheckboxFalse&&this.btnCheckboxFalse},enumerable:!0,configurable:!0}),e.prototype.toggle=function(e){this.state=e,this.value=this.state?this.trueValue:this.falseValue},e.prototype.writeValue=function(e){this.state=this.trueValue===e,this.value=e?this.trueValue:this.falseValue},e.prototype.setDisabledState=function(e){this.isDisabled=e},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:t.Directive,args:[{selector:"[btnCheckbox]",providers:[mt]}]}],e.ctorParameters=function(){return[]},e.propDecorators={btnCheckboxTrue:[{type:t.Input}],btnCheckboxFalse:[{type:t.Input}],state:[{type:t.HostBinding,args:["class.active"]}],onClick:[{type:t.HostListener,args:["click"]}]},e}(),yt={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return bt}),multi:!0},bt=function(){function e(e,t){this.el=e,this.cdr=t,this.onChange=Function.prototype,this.onTouched=Function.prototype}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this.btnRadio===this.value},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){if(!this.el.nativeElement.attributes.disabled)return this.uncheckable&&this.btnRadio===this.value?(this.value=undefined,this.onTouched(),void this.onChange(this.value)):void(this.btnRadio!==this.value&&(this.value=this.btnRadio,this.onTouched(),this.onChange(this.value)))},e.prototype.ngOnInit=function(){this.uncheckable="undefined"!=typeof this.uncheckable},e.prototype.onBlur=function(){this.onTouched()},e.prototype.writeValue=function(e){this.value=e,this.cdr.markForCheck()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:t.Directive,args:[{selector:"[btnRadio]",providers:[yt]}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ChangeDetectorRef}]},e.propDecorators={btnRadio:[{type:t.Input}],uncheckable:[{type:t.Input}],value:[{type:t.Input}],isActive:[{type:t.HostBinding,args:["class.active"]}],onClick:[{type:t.HostListener,args:["click"]}]},e}(),_t=function(){function e(){this.length=0,this.asArray=[]}return e.prototype.get=function(e){if(!(0===this.length||e<0||e>=this.length)){for(var t=this.head,n=0;n<e;n++)t=t.next;return t.value}},e.prototype.add=function(e,t){if(void 0===t&&(t=this.length),t<0||t>this.length)throw new Error("Position is out of the list");var n={value:e,next:undefined,previous:undefined};if(0===this.length)this.head=n,this.tail=n,this.current=n;else if(0===t)n.next=this.head,this.head.previous=n,this.head=n;else if(t===this.length)this.tail.next=n,n.previous=this.tail,this.tail=n;else{var i=this.getNode(t-1),a=i.next;i.next=n,a.previous=n,n.previous=i,n.next=a}this.length++,this.createInternalArrayRepresentation()},e.prototype.remove=function(e){if(void 0===e&&(e=0),0===this.length||e<0||e>=this.length)throw new Error("Position is out of the list");if(0===e)this.head=this.head.next,this.head?this.head.previous=undefined:this.tail=undefined;else if(e===this.length-1)this.tail=this.tail.previous,this.tail.next=undefined;else{var t=this.getNode(e);t.next.previous=t.previous,t.previous.next=t.next}this.length--,this.createInternalArrayRepresentation()},e.prototype.set=function(e,t){if(0===this.length||e<0||e>=this.length)throw new Error("Position is out of the list");this.getNode(e).value=t,this.createInternalArrayRepresentation()},e.prototype.toArray=function(){return this.asArray},e.prototype.findAll=function(e){for(var t=this.head,n=[],i=0;i<this.length;i++)e(t.value,i)&&n.push({index:i,value:t.value}),t=t.next;return n},e.prototype.push=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){e.add(t)}),this.length},e.prototype.pop=function(){if(0===this.length)return undefined;var e=this.tail;return this.remove(this.length-1),e.value},e.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reverse(),t.forEach(function(t){e.add(t,0)}),this.length},e.prototype.shift=function(){if(0===this.length)return undefined;var e=this.head.value;return this.remove(),e},e.prototype.forEach=function(e){for(var t=this.head,n=0;n<this.length;n++)e(t.value,n),t=t.next},e.prototype.indexOf=function(e){for(var t=this.head,n=0,i=0;i<this.length;i++){if(t.value===e){n=i;break}t=t.next}return n},e.prototype.some=function(e){for(var t=this.head,n=!1;t&&!n;){if(e(t.value)){n=!0;break}t=t.next}return n},e.prototype.every=function(e){for(var t=this.head,n=!0;t&&n;)e(t.value)||(n=!1),t=t.next;return n},e.prototype.toString=function(){return"[Linked List]"},e.prototype.find=function(e){for(var t,n=this.head,i=0;i<this.length;i++){if(e(n.value,i)){t=n.value;break}n=n.next}return t},e.prototype.findIndex=function(e){for(var t,n=this.head,i=0;i<this.length;i++){if(e(n.value,i)){t=i;break}n=n.next}return t},e.prototype.getNode=function(e){if(0===this.length||e<0||e>=this.length)throw new Error("Position is out of the list");for(var t=this.head,n=0;n<e;n++)t=t.next;return t},e.prototype.createInternalArrayRepresentation=function(){for(var e=[],t=this.head;t;)e.push(t.value),t=t.next;this.asArray=e},e}(),Ct=function(){function e(e,t){this.open=e,this.close=t||e}return e.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},e}(),wt=function(){function e(){}return e.reflow=function(e){e.offsetHeight},e.getStyles=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=pt),t.getComputedStyle(e)},e}(),St=function(){function e(){this.interval=5e3,this.noPause=!1,this.noWrap=!1}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NEXT=1]="NEXT",e[e.PREV=2]="PREV"}(Ze||(Ze={}));!function(){function e(e,n){this.ngZone=n,this.activeSlideChange=new t.EventEmitter(!1),this._slides=new _t,this.destroyed=!1,Object.assign(this,e)}Object.defineProperty(e.prototype,"activeSlide",{get:function(){return this._currentActiveSlide},set:function(e){this._slides.length&&e!==this._currentActiveSlide&&this._select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=e,this.restartTimer()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slides",{get:function(){return this._slides.toArray()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.destroyed=!0},e.prototype.addSlide=function(e){this._slides.add(e),1===this._slides.length&&(this._currentActiveSlide=void 0,this.activeSlide=0,this.play())},e.prototype.removeSlide=function(e){var t=this,n=this._slides.indexOf(e);if(this._currentActiveSlide===n){var i=void 0;this._slides.length>1&&(i=this.isLast(n)?this.noWrap?n-1:0:n),this._slides.remove(n),setTimeout(function(){t._select(i)},0)}else{this._slides.remove(n);var a=this.getCurrentSlideIndex();setTimeout(function(){t._currentActiveSlide=a,t.activeSlideChange.emit(t._currentActiveSlide)},0)}},e.prototype.nextSlide=function(e){void 0===e&&(e=!1),this.activeSlide=this.findNextSlideIndex(Ze.NEXT,e)},e.prototype.previousSlide=function(e){void 0===e&&(e=!1),this.activeSlide=this.findNextSlideIndex(Ze.PREV,e)},e.prototype.selectSlide=function(e){this.activeSlide=e},e.prototype.play=function(){this.isPlaying||(this.isPlaying=!0,this.restartTimer())},e.prototype.pause=function(){this.noPause||(this.isPlaying=!1,this.resetTimer())},e.prototype.getCurrentSlideIndex=function(){return this._slides.findIndex(function(e){return e.active})},e.prototype.isLast=function(e){return e+1>=this._slides.length},e.prototype.findNextSlideIndex=function(e,t){var n=0;if(t||!this.isLast(this.activeSlide)||e===Ze.PREV||!this.noWrap){switch(e){case Ze.NEXT:n=this.isLast(this._currentActiveSlide)?!t&&this.noWrap?this._currentActiveSlide:0:this._currentActiveSlide+1;break;case Ze.PREV:n=this._currentActiveSlide>0?this._currentActiveSlide-1:!t&&this.noWrap?this._currentActiveSlide:this._slides.length-1;break;default:throw new Error("Unknown direction")}return n}},e.prototype._select=function(e){if(isNaN(e))this.pause();else{var t=this._slides.get(this._currentActiveSlide);t&&(t.active=!1);var n=this._slides.get(e);n&&(this._currentActiveSlide=e,n.active=!0,this.activeSlide=e,this.activeSlideChange.emit(e))}},e.prototype.restartTimer=function(){var e=this;this.resetTimer();var t=+this.interval;!isNaN(t)&&t>0&&(this.currentInterval=this.ngZone.runOutsideAngular(function(){return setInterval(function(){var t=+e.interval;e.ngZone.run(function(){e.isPlaying&&!isNaN(e.interval)&&t>0&&e.slides.length?e.nextSlide():e.pause()})},t)}))},e.prototype.resetTimer=function(){this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0)},e.decorators=[{type:t.Component,args:[{selector:"carousel",template:'<div (mouseenter)="pause()" (mouseleave)="play()" (mouseup)="play()" class="carousel slide"> <ol class="carousel-indicators" *ngIf="slides.length > 1"> <li *ngFor="let slidez of slides; let i = index;" [class.active]="slidez.active === true" (click)="selectSlide(i)"></li> </ol> <div class="carousel-inner"><ng-content></ng-content></div> <a class="left carousel-control carousel-control-prev" [class.disabled]="activeSlide === 0 && noWrap" (click)="previousSlide()" *ngIf="slides.length > 1"> <span class="icon-prev carousel-control-prev-icon" aria-hidden="true"></span> <span *ngIf="isBs4" class="sr-only">Previous</span> </a> <a class="right carousel-control carousel-control-next" (click)="nextSlide()"  [class.disabled]="isLast(activeSlide) && noWrap" *ngIf="slides.length > 1"> <span class="icon-next carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> '}]}],e.ctorParameters=function(){return[{type:St},{type:t.NgZone}]},e.propDecorators={noWrap:[{type:t.Input}],noPause:[{type:t.Input}],activeSlideChange:[{type:t.Output}],activeSlide:[{type:t.Input}],interval:[{type:t.Input}]}}();Z("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===I(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Z("sv",{dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")}}),F("D",["DD",2],"Do",function(e){return R(e).toString(10)}),F("d",null,"do",function(e){return L(e).toString(10)}),F("dd",null,null,function(e,t,n){return n.weekdaysShort(e)}),F("ddd",null,null,function(e,t,n){return n.weekdaysMin(e)}),F("dddd",null,null,function(e,t,n){return n.weekdays(e,t)}),F("e",null,null,function(e){return L(e).toString(10)}),F("E",null,null,function(e){return function(e){return L(e)||7}(e).toString(10)}),F("H",["HH",2],null,function(e,t,n){return E(e).toString(10)}),F("h",["hh",2],null,function(e,t,n){return te(e).toString(10)}),F("k",["kk",2],null,function(e,t,n){return function(e){return E(e)||24}(e).toString(10)}),F("hmm",null,null,function(e,t,n){return""+te(e)+C(A(e),2)}),F("hmmss",null,null,function(e,t,n){return""+te(e)+C(A(e),2)+C(N(e),2)}),F("Hmm",null,null,function(e,t,n){return""+E(e)+C(A(e),2)}),F("Hmmss",null,null,function(e,t,n){return""+E(e)+C(A(e),2)+C(N(e),2)}),ne("a",!0),ne("A",!1),F("m",["mm",2],null,function(e){return A(e).toString(10)}),F("M",["MM",2],"Mo",function(e,t){return(j(e)+1).toString()}),F("MMM",null,null,function(e,t,n){return n.monthsShort(e,t)}),F("MMMM",null,null,function(e,t,n){return n.months(e,t)}),F("s",["ss",2],null,function(e){return N(e).toString(10)}),F("w",["ww",2],"wo",function(e,t,n){return function(e,t){return t.week(e)}(e,n).toString(10)}),F("W",["WW",2],"Wo",function(e){return function(e){return $(e,1,4).week}(e).toString(10)});var Mt=function(){function e(){}return e.prototype.format=function(e,t,n){return ie(e,t,n)},e}(),Dt=function(){function e(){this.selectionDone=new t.EventEmitter(undefined),this.update=new t.EventEmitter(!1),this.activeDateChange=new t.EventEmitter(undefined),this.stepDay={},this.stepMonth={},this.stepYear={},this.modes=["day","month","year"],this.dateFormatter=new Mt}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate},set:function(e){this._activeDate=e},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.uniqueId="datepicker--"+Math.floor(1e4*Math.random()),this.initDate?(this.activeDate=this.initDate,this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate)):this.activeDate===undefined&&(this.activeDate=new Date)},e.prototype.ngOnChanges=function(e){this.refreshView(),this.checkIfActiveDateGotUpdated(e.activeDate)},e.prototype.checkIfActiveDateGotUpdated=function(e){if(e&&!e.firstChange){var t=e.previousValue;t&&t instanceof Date&&t.getTime()!==e.currentValue.getTime()&&this.activeDateChange.emit(this.activeDate)}},e.prototype.setCompareHandler=function(e,t){"day"===t&&(this.compareHandlerDay=e),"month"===t&&(this.compareHandlerMonth=e),"year"===t&&(this.compareHandlerYear=e)},e.prototype.compare=function(e,t){return e===undefined||t===undefined?undefined:"day"===this.datepickerMode&&this.compareHandlerDay?this.compareHandlerDay(e,t):"month"===this.datepickerMode&&this.compareHandlerMonth?this.compareHandlerMonth(e,t):"year"===this.datepickerMode&&this.compareHandlerYear?this.compareHandlerYear(e,t):void 0},e.prototype.setRefreshViewHandler=function(e,t){"day"===t&&(this.refreshViewHandlerDay=e),"month"===t&&(this.refreshViewHandlerMonth=e),"year"===t&&(this.refreshViewHandlerYear=e)},e.prototype.refreshView=function(){"day"===this.datepickerMode&&this.refreshViewHandlerDay&&this.refreshViewHandlerDay(),"month"===this.datepickerMode&&this.refreshViewHandlerMonth&&this.refreshViewHandlerMonth(),"year"===this.datepickerMode&&this.refreshViewHandlerYear&&this.refreshViewHandlerYear()},e.prototype.dateFilter=function(e,t){return this.dateFormatter.format(e,t,this.locale)},e.prototype.isActive=function(e){return 0===this.compare(e.date,this.activeDate)&&(this.activeDateId=e.uid,!0)},e.prototype.createDateObject=function(e,t){var n={};return n.date=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.label=this.dateFilter(e,t),n.selected=0===this.compare(e,this.selectedDate),n.disabled=this.isDisabled(e),n.current=0===this.compare(e,new Date),n.customClass=this.getCustomClassForDate(n.date),n},e.prototype.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.prototype.fixTimeZone=function(e){var t=e.getHours();return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23===t?t+2:0)},e.prototype.select=function(e,t){void 0===t&&(t=!0),this.datepickerMode===this.minMode?(this.activeDate||(this.activeDate=new Date(0,0,0,0,0,0,0)),this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t&&this.selectionDone.emit(this.activeDate)):(this.activeDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t&&(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)-1])),this.selectedDate=new Date(this.activeDate.valueOf()),this.update.emit(this.activeDate),this.refreshView()},e.prototype.move=function(e){var t;if("day"===this.datepickerMode&&(t=this.stepDay),"month"===this.datepickerMode&&(t=this.stepMonth),"year"===this.datepickerMode&&(t=this.stepYear),t){var n=this.activeDate.getFullYear()+e*(t.years||0),i=this.activeDate.getMonth()+e*(t.months||0);this.activeDate=new Date(n,i,1),this.refreshView(),this.activeDateChange.emit(this.activeDate)}},e.prototype.toggleMode=function(e){var t=e||1;this.datepickerMode===this.maxMode&&1===t||this.datepickerMode===this.minMode&&-1===t||(this.datepickerMode=this.modes[this.modes.indexOf(this.datepickerMode)+t],this.refreshView())},e.prototype.getCustomClassForDate=function(e){var t=this;if(!this.customClass)return"";var n=this.customClass.find(function(n){return n.date.valueOf()===e.valueOf()&&n.mode===t.datepickerMode},this);return n===undefined?"":n.clazz},e.prototype.compareDateDisabled=function(e,t){return e===undefined||t===undefined?undefined:"day"===e.mode&&this.compareHandlerDay?this.compareHandlerDay(e.date,t):"month"===e.mode&&this.compareHandlerMonth?this.compareHandlerMonth(e.date,t):"year"===e.mode&&this.compareHandlerYear?this.compareHandlerYear(e.date,t):undefined},e.prototype.isDisabled=function(e){var t=this,n=!1;return this.dateDisabled&&this.dateDisabled.forEach(function(i){0===t.compareDateDisabled(i,e)&&(n=!0)}),n||this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&this.compare(e,this.maxDate)>0},e.decorators=[{type:t.Component,args:[{selector:"datepicker-inner",template:'\n    \x3c!--&lt;!&ndash;ng-keydown="keydown($event)"&ndash;&gt;--\x3e\n    <div *ngIf="datepickerMode" class="well well-sm bg-faded p-a card" role="application" >\n      <ng-content></ng-content>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={locale:[{type:t.Input}],datepickerMode:[{type:t.Input}],startingDay:[{type:t.Input}],yearRange:[{type:t.Input}],minDate:[{type:t.Input}],maxDate:[{type:t.Input}],minMode:[{type:t.Input}],maxMode:[{type:t.Input}],showWeeks:[{type:t.Input}],formatDay:[{type:t.Input}],formatMonth:[{type:t.Input}],formatYear:[{type:t.Input}],formatDayHeader:[{type:t.Input}],formatDayTitle:[{type:t.Input}],formatMonthTitle:[{type:t.Input}],onlyCurrentMonth:[{type:t.Input}],shortcutPropagation:[{type:t.Input}],customClass:[{type:t.Input}],monthColLimit:[{type:t.Input}],yearColLimit:[{type:t.Input}],dateDisabled:[{type:t.Input}],initDate:[{type:t.Input}],selectionDone:[{type:t.Output}],update:[{type:t.Output}],activeDateChange:[{type:t.Output}],activeDate:[{type:t.Input}]},e}(),xt=function(){function e(){this.locale="en",this.datepickerMode="day",this.startingDay=0,this.yearRange=20,this.minMode="day",this.maxMode="year",this.showWeeks=!0,this.formatDay="DD",this.formatMonth="MMMM",this.formatYear="YYYY",this.formatDayHeader="dd",this.formatDayTitle="MMMM YYYY",this.formatMonthTitle="YYYY",this.onlyCurrentMonth=!1,this.monthColLimit=3,this.yearColLimit=5,this.shortcutPropagation=!1}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),It={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return Ft}),multi:!0},Ft=function(){function e(e){this.datepickerMode="day",this.showWeeks=!0,this.selectionDone=new t.EventEmitter(undefined),this.activeDateChange=new t.EventEmitter(undefined),this.onChange=Function.prototype,this.onTouched=Function.prototype,this._now=new Date,this.config=e,this.configureOptions()}return Object.defineProperty(e.prototype,"activeDate",{get:function(){return this._activeDate||this._now},set:function(e){this._activeDate=e},enumerable:!0,configurable:!0}),e.prototype.configureOptions=function(){Object.assign(this,this.config)},e.prototype.onUpdate=function(e){this.activeDate=e,this.onChange(e)},e.prototype.onSelectionDone=function(e){this.selectionDone.emit(e)},e.prototype.onActiveDateChange=function(e){this.activeDateChange.emit(e)},e.prototype.writeValue=function(e){if(0!==this._datePicker.compare(e,this._activeDate))return e&&e instanceof Date?(this.activeDate=e,void this._datePicker.select(e,!1)):void(this.activeDate=e?new Date(e):void 0)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.decorators=[{type:t.Component,args:[{selector:"datepicker",template:'\n    <datepicker-inner [activeDate]="activeDate"\n                      (update)="onUpdate($event)"\n                      [locale]="config.locale"\n                      [datepickerMode]="datepickerMode"\n                      [initDate]="initDate"\n                      [minDate]="minDate"\n                      [maxDate]="maxDate"\n                      [minMode]="minMode"\n                      [maxMode]="maxMode"\n                      [showWeeks]="showWeeks"\n                      [formatDay]="formatDay"\n                      [formatMonth]="formatMonth"\n                      [formatYear]="formatYear"\n                      [formatDayHeader]="formatDayHeader"\n                      [formatDayTitle]="formatDayTitle"\n                      [formatMonthTitle]="formatMonthTitle"\n                      [startingDay]="startingDay"\n                      [yearRange]="yearRange"\n                      [customClass]="customClass"\n                      [dateDisabled]="dateDisabled"\n                      [onlyCurrentMonth]="onlyCurrentMonth"\n                      [shortcutPropagation]="shortcutPropagation"\n                      [monthColLimit]="monthColLimit"\n                      [yearColLimit]="yearColLimit"\n                      (selectionDone)="onSelectionDone($event)"\n                      (activeDateChange)="onActiveDateChange($event)">\n      <daypicker tabindex="0"></daypicker>\n      <monthpicker tabindex="0"></monthpicker>\n      <yearpicker tabindex="0"></yearpicker>\n    </datepicker-inner>\n    ',providers:[It]}]}],e.ctorParameters=function(){return[{type:xt}]},e.propDecorators={datepickerMode:[{type:t.Input}],initDate:[{type:t.Input}],minDate:[{type:t.Input}],maxDate:[{type:t.Input}],minMode:[{type:t.Input}],maxMode:[{type:t.Input}],showWeeks:[{type:t.Input}],formatDay:[{type:t.Input}],formatMonth:[{type:t.Input}],formatYear:[{type:t.Input}],formatDayHeader:[{type:t.Input}],formatDayTitle:[{type:t.Input}],formatMonthTitle:[{type:t.Input}],startingDay:[{type:t.Input}],yearRange:[{type:t.Input}],onlyCurrentMonth:[{type:t.Input}],shortcutPropagation:[{type:t.Input}],monthColLimit:[{type:t.Input}],yearColLimit:[{type:t.Input}],customClass:[{type:t.Input}],dateDisabled:[{type:t.Input}],activeDate:[{type:t.Input}],selectionDone:[{type:t.Output}],activeDateChange:[{type:t.Output}],_datePicker:[{type:t.ViewChild,args:[Dt]}]},e}(),Ot=(function(){function e(e){this.labels=[],this.rows=[],this.weekNumbers=[],this.datePicker=e}Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.datePicker.stepDay={months:1},this.datePicker.setRefreshViewHandler(function(){var t=this.activeDate.getFullYear(),n=this.activeDate.getMonth(),i=new Date(t,n,1),a=this.startingDay-i.getDay(),o=a>0?7-a:-a,r=new Date(i.getTime());o>0&&r.setDate(1-o);for(var s=e.getDates(r,42),l=[],p=0;p<42;p++){var c=this.createDateObject(s[p],this.formatDay);c.secondary=s[p].getMonth()!==n,c.uid=this.uniqueId+"-"+p,l[p]=c}e.labels=[];for(var d=0;d<7;d++)e.labels[d]={},e.labels[d].abbr=this.dateFilter(l[d].date,this.formatDayHeader),e.labels[d].full=this.dateFilter(l[d].date,"EEEE");if(e.title=this.dateFilter(this.activeDate,this.formatDayTitle),e.rows=this.split(l,7),this.showWeeks){e.weekNumbers=[];for(var u=(11-this.startingDay)%7,h=e.rows.length,f=0;f<h;f++)e.weekNumbers.push(e.getISO8601WeekNumber(e.rows[f][u].date))}},"day"),this.datePicker.setCompareHandler(function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.getTime()-i.getTime()},"day"),this.datePicker.refreshView()},e.prototype.getDates=function(e,t){for(var n,i=new Array(t),a=new Date(e.getTime()),o=0;o<t;)n=new Date(a.getTime()),n=this.datePicker.fixTimeZone(n),i[o++]=n,a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+1);return i},e.prototype.getISO8601WeekNumber=function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t.getTime())/864e5)/7)+1},e.decorators=[{type:t.Component,args:[{selector:"daypicker",template:'\n<table *ngIf="datePicker.datepickerMode===\'day\'" role="grid" [attr.aria-labelledby]="datePicker.uniqueId+\'-title\'" aria-activedescendant="activeDateId">\n  <thead>\n    <tr>\n      <th>\n        <button *ngIf="!isBs4"\n                type="button"\n                class="btn btn-default btn-secondary btn-sm pull-left float-left"\n                (click)="datePicker.move(-1)"\n                tabindex="-1">‹</button>\n        <button *ngIf="isBs4"\n                type="button"\n                class="btn btn-default btn-secondary btn-sm pull-left float-left"\n                (click)="datePicker.move(-1)"\n                tabindex="-1">&lt;</button>\n      </th>\n      <th [attr.colspan]="5 + (datePicker.showWeeks ? 1 : 0)">\n        <button [id]="datePicker.uniqueId + \'-title\'"\n                type="button" class="btn btn-default btn-secondary btn-sm"\n                (click)="datePicker.toggleMode()"\n                [disabled]="datePicker.datepickerMode === datePicker.maxMode"\n                [ngClass]="{disabled: datePicker.datepickerMode === datePicker.maxMode}" tabindex="-1" style="width:100%;">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button *ngIf="!isBs4"\n                type="button"\n                class="btn btn-default btn-secondary btn-sm pull-right float-right"\n                (click)="datePicker.move(1)"\n                tabindex="-1">›</button>\n        <button *ngIf="isBs4"\n                type="button"\n                class="btn btn-default btn-secondary btn-sm pull-right float-right"\n                (click)="datePicker.move(1)"\n                tabindex="-1">&gt;\n        </button>\n      </th>\n    </tr>\n    <tr>\n      <th *ngIf="datePicker.showWeeks"></th>\n      <th *ngFor="let labelz of labels" class="text-center">\n        <small aria-label="labelz.full"><b>{{ labelz.abbr }}</b></small>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <ng-template ngFor [ngForOf]="rows" let-rowz="$implicit" let-index="index">\n      <tr *ngIf="!(datePicker.onlyCurrentMonth && rowz[0].secondary && rowz[6].secondary)">\n        <td *ngIf="datePicker.showWeeks" class="h6" class="text-center">\n          <em>{{ weekNumbers[index] }}</em>\n        </td>\n        <td *ngFor="let dtz of rowz" class="text-center" role="gridcell" [id]="dtz.uid">\n          <button type="button" style="min-width:100%;" class="btn btn-sm {{dtz.customClass}}"\n                  *ngIf="!(datePicker.onlyCurrentMonth && dtz.secondary)"\n                  [ngClass]="{\'btn-secondary\': isBs4 && !dtz.selected && !datePicker.isActive(dtz), \'btn-info\': dtz.selected, disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz), \'btn-default\': !isBs4}"\n                  [disabled]="dtz.disabled"\n                  (click)="datePicker.select(dtz.date)" tabindex="-1">\n            <span [ngClass]="{\'text-muted\': dtz.secondary || dtz.current, \'text-info\': !isBs4 && dtz.current}">{{ dtz.label }}</span>\n          </button>\n        </td>\n      </tr>\n    </ng-template>\n  </tbody>\n</table>\n  ',styles:["\n    :host .btn-secondary {\n      color: #292b2c;\n      background-color: #fff;\n      border-color: #ccc;\n    }\n    :host .btn-info .text-muted {\n      color: #292b2c !important;\n    }\n  "]}]}],e.ctorParameters=function(){return[{type:Dt}]}}(),function(){function e(e){this.rows=[],this.datePicker=e}Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.datePicker.stepMonth={years:1},this.datePicker.setRefreshViewHandler(function(){for(var t,n=new Array(12),i=this.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(i,a,1),t=this.fixTimeZone(t),n[a]=this.createDateObject(t,this.formatMonth),n[a].uid=this.uniqueId+"-"+a;e.title=this.dateFilter(this.activeDate,this.formatMonthTitle),e.rows=this.split(n,e.datePicker.monthColLimit)},"month"),this.datePicker.setCompareHandler(function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.getTime()-i.getTime()},"month"),this.datePicker.refreshView()},e.decorators=[{type:t.Component,args:[{selector:"monthpicker",template:'\n<table *ngIf="datePicker.datepickerMode===\'month\'" role="grid">\n  <thead>\n    <tr>\n      <th>\n        <button type="button" class="btn btn-default btn-sm pull-left float-left"\n                (click)="datePicker.move(-1)" tabindex="-1">‹</button></th>\n      <th [attr.colspan]="((datePicker.monthColLimit - 2) <= 0) ? 1 : datePicker.monthColLimit - 2">\n        <button [id]="datePicker.uniqueId + \'-title\'"\n                type="button" class="btn btn-default btn-sm"\n                (click)="datePicker.toggleMode()"\n                [disabled]="datePicker.datepickerMode === maxMode"\n                [ngClass]="{disabled: datePicker.datepickerMode === maxMode}" tabindex="-1" style="width:100%;">\n          <strong>{{ title }}</strong> \n        </button>\n      </th>\n      <th>\n        <button type="button" class="btn btn-default btn-sm pull-right float-right"\n                (click)="datePicker.move(1)" tabindex="-1">›</button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let rowz of rows">\n      <td *ngFor="let dtz of rowz" class="text-center" role="gridcell" id="{{dtz.uid}}" [ngClass]="dtz.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default"\n                [ngClass]="{\'btn-link\': isBs4 && !dtz.selected && !datePicker.isActive(dtz), \'btn-info\': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}"\n                [disabled]="dtz.disabled"\n                (click)="datePicker.select(dtz.date)" tabindex="-1">\n          <span [ngClass]="{\'text-success\': isBs4 && dtz.current, \'text-info\': !isBs4 && dtz.current}">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  ',styles:["\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  "]}]}],e.ctorParameters=function(){return[{type:Dt}]}}(),function(){function e(e){this.rows=[],this.datePicker=e}Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.datePicker.stepYear={years:this.datePicker.yearRange},this.datePicker.setRefreshViewHandler(function(){for(var t,n=new Array(this.yearRange),i=e.getStartingYear(this.activeDate.getFullYear()),a=0;a<this.yearRange;a++)t=new Date(i+a,0,1),t=this.fixTimeZone(t),n[a]=this.createDateObject(t,this.formatYear),n[a].uid=this.uniqueId+"-"+a;e.title=[n[0].label,n[this.yearRange-1].label].join(" - "),e.rows=this.split(n,e.datePicker.yearColLimit)},"year"),this.datePicker.setCompareHandler(function(e,t){return e.getFullYear()-t.getFullYear()},"year"),this.datePicker.refreshView()},e.prototype.getStartingYear=function(e){return(e-1)/this.datePicker.yearRange*this.datePicker.yearRange+1},e.decorators=[{type:t.Component,args:[{selector:"yearpicker",template:'\n<table *ngIf="datePicker.datepickerMode===\'year\'" role="grid">\n  <thead>\n    <tr>\n      <th>\n        <button type="button" class="btn btn-default btn-sm pull-left float-left"\n                (click)="datePicker.move(-1)" tabindex="-1">‹</button>\n      </th>\n      <th [attr.colspan]="((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2">\n        <button [id]="datePicker.uniqueId + \'-title\'" role="heading"\n                type="button" class="btn btn-default btn-sm"\n                (click)="datePicker.toggleMode()"\n                [disabled]="datePicker.datepickerMode === datePicker.maxMode"\n                [ngClass]="{disabled: datePicker.datepickerMode === datePicker.maxMode}" tabindex="-1" style="width:100%;">\n          <strong>{{ title }}</strong>\n        </button>\n      </th>\n      <th>\n        <button type="button" class="btn btn-default btn-sm pull-right float-right"\n                (click)="datePicker.move(1)" tabindex="-1">›</button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor="let rowz of rows">\n      <td *ngFor="let dtz of rowz" class="text-center" role="gridcell">\n        <button type="button" style="min-width:100%;" class="btn btn-default"\n                [ngClass]="{\'btn-link\': isBs4 && !dtz.selected && !datePicker.isActive(dtz), \'btn-info\': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}"\n                [disabled]="dtz.disabled"\n                (click)="datePicker.select(dtz.date)" tabindex="-1">\n          <span [ngClass]="{\'text-success\': isBs4 && dtz.current, \'text-info\': !isBs4 && dtz.current}">{{ dtz.label }}</span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  ',styles:["\n    :host .btn-info .text-success {\n      color: #fff !important;\n    }\n  "]}]}],e.ctorParameters=function(){return[{type:Dt}]}}(),function(){function e(){}return e.prototype.calculate=function(){return{type:e.CALCULATE}},e.prototype.format=function(){return{type:e.FORMAT}},e.prototype.flag=function(){return{type:e.FLAG}},e.prototype.select=function(t){return{type:e.SELECT,payload:t}},e.prototype.changeViewMode=function(t){return{type:e.CHANGE_VIEWMODE,payload:t}},e.prototype.navigateTo=function(t){return{type:e.NAVIGATE_TO,payload:t}},e.prototype.navigateStep=function(t){return{type:e.NAVIGATE_OFFSET,payload:t}},e.prototype.setOptions=function(t){return{type:e.SET_OPTIONS,payload:t}},e.prototype.selectRange=function(t){return{type:e.SELECT_RANGE,payload:t}},e.prototype.hoverDay=function(t){return{type:e.HOVER,payload:t.isHovered?t.cell.date:null}},e.prototype.minDate=function(t){return{type:e.SET_MIN_DATE,payload:t}},e.prototype.maxDate=function(t){return{type:e.SET_MAX_DATE,payload:t}},e.prototype.isDisabled=function(t){return{type:e.SET_IS_DISABLED,payload:t}},e.CALCULATE="[datepicker] calculate dates matrix",e.FORMAT="[datepicker] format datepicker values",e.FLAG="[datepicker] set flags",e.SELECT="[datepicker] select date",e.NAVIGATE_OFFSET="[datepicker] shift view date",e.NAVIGATE_TO="[datepicker] change view date",e.SET_OPTIONS="[datepicker] update render options",e.HOVER="[datepicker] hover date",e.CHANGE_VIEWMODE="[datepicker] switch view mode",e.SET_MIN_DATE="[datepicker] set min date",e.SET_MAX_DATE="[datepicker] set max date",e.SET_IS_DISABLED="[datepicker] set is disabled",e.SELECT_RANGE="[daterangepicker] select dates range",e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),kt=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tt=function(e){function t(t,n,i){var a=e.call(this)||this;return a._dispatcher=t,a._reducer=n,a.source=i,a}return kt(t,e),t.prototype.select=function(e){var t=s.map.call(this,e);return r.distinctUntilChanged.call(t)},t.prototype.lift=function(e){var n=new t(this._dispatcher,this._reducer,this);return n.operator=e,n},t.prototype.dispatch=function(e){this._dispatcher.next(e)},t.prototype.next=function(e){this._dispatcher.next(e)},t.prototype.error=function(e){this._dispatcher.error(e)},t.prototype.complete=function(){},t}(o.Observable),Pt=function(){function e(){this.containerClass="theme-green",this.displayMonths=1,this.showWeekNumbers=!0,this.dateInputFormat="L",this.rangeSeparator=" - ",this.rangeInputFormat="L",this.locale="en",this.monthTitle="MMMM",this.yearTitle="YYYY",this.dayLabel="D",this.monthLabel="MMMM",this.yearLabel="YYYY",this.weekNumbers="w"}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),Et={date:new Date,mode:"day"},At=Object.assign(new Pt,{view:Et,selectedRange:[],monthViewOptions:{width:7,height:6}}),Nt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lt="undefined"!=typeof window&&window,Rt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=Lt||void 0!==Nt&&Nt||Rt,Vt=jt;!function(){if(!jt)throw new Error("RxJS could not find any global context (window, self, global)")}();var Ht,Bt,zt={root:Vt},Ut={isArray:Array.isArray||function(e){return e&&"number"==typeof e.length}},Wt={isObject:function(e){return null!=e&&"object"==typeof e}},Jt={isFunction:function(e){return"function"==typeof e}},Yt={errorObject:{e:{}}},Gt={tryCatch:function(e){return Ht=e,ae}},$t=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Xt={UnsubscriptionError:function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return $t(t,e),t}(Error)},qt={Subscription:function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,a=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var r=-1,s=i?i.length:0;n;)n.remove(this),n=++r<s&&i[r]||null;if(Jt.isFunction(a)){(p=Gt.tryCatch(a).call(this))===Yt.errorObject&&(t=!0,e=e||(Yt.errorObject.e instanceof Xt.UnsubscriptionError?oe(Yt.errorObject.e.errors):[Yt.errorObject.e]))}if(Ut.isArray(o))for(r=-1,s=o.length;++r<s;){var l=o[r];if(Wt.isObject(l)){var p=Gt.tryCatch(l.unsubscribe).call(l);if(p===Yt.errorObject){t=!0,e=e||[];var c=Yt.errorObject.e;c instanceof Xt.UnsubscriptionError?e=e.concat(oe(c.errors)):e.push(c)}}}if(t)throw new Xt.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}()},Zt=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},Kt={Action:function(e){function t(t,n){e.call(this)}return Zt(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(qt.Subscription)},Qt=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},en={AsyncAction:function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n,this.pending=!1}return Qt(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),zt.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?t:zt.root.clearInterval(t)&&undefined||undefined},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,i=undefined;try{this.work(e)}catch(a){n=!0,i=!!a&&a||new Error(a)}if(n)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(Kt.Action)},tn=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},nn={QueueAction:function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return tn(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},t}(en.AsyncAction)},an={Scheduler:function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}()},on=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},rn={AsyncScheduler:function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=undefined}return on(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(an.Scheduler)},sn=Nt&&Nt.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},ln=new({QueueScheduler:function(e){function t(){e.apply(this,arguments)}return sn(t,e),t}(rn.AsyncScheduler)}.QueueScheduler)(nn.QueueAction),pn=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cn=function(e){function t(t,n,i){var a=e.call(this,t)||this,o=p.observeOn.call(n,ln);return c.scan.call(o,function(e,t){return t?i(e,t):e},t).subscribe(function(e){return a.next(e)}),a}return pn(t,e),t}(l.BehaviorSubject),dn=4,un=3,hn={month:1},fn=4,gn=4,mn=fn*gn,vn=-1*(Math.floor(mn/2)-1),yn={year:1},bn=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_n=function(e){function n(){var t=new l.BehaviorSubject({type:"[datepicker] dispatcher init"}),n=new cn(At,t,ye);return e.call(this,t,ye,n)||this}return bn(n,e),n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[]},n}(Tt),Cn=function(){function e(){this._customRangesFish=[]}return Object.defineProperty(e.prototype,"minDate",{set:function(e){this._effects.setMinDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxDate",{set:function(e){this._effects.setMaxDate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{set:function(e){this._effects.setDisabled(e)},enumerable:!0,configurable:!0}),e.prototype.setViewMode=function(e){},e.prototype.navigateTo=function(e){},e.prototype.dayHoverHandler=function(e){},e.prototype.monthHoverHandler=function(e){},e.prototype.yearHoverHandler=function(e){},e.prototype.daySelectHandler=function(e){},e.prototype.monthSelectHandler=function(e){},e.prototype.yearSelectHandler=function(e){},e.prototype._stopPropagation=function(e){e.stopPropagation()},e}(),wn=function(){function e(e){this._actions=e,this._subs=[]}return e.prototype.init=function(e){return this._store=e,this},e.prototype.setValue=function(e){this._store.dispatch(this._actions.select(e))},e.prototype.setRangeValue=function(e){this._store.dispatch(this._actions.selectRange(e))},e.prototype.setMinDate=function(e){return this._store.dispatch(this._actions.minDate(e)),this},e.prototype.setMaxDate=function(e){return this._store.dispatch(this._actions.maxDate(e)),this},e.prototype.setDisabled=function(e){return this._store.dispatch(this._actions.isDisabled(e)),this},e.prototype.setOptions=function(e){return this._store.dispatch(this._actions.setOptions(e)),this},e.prototype.setBindings=function(e){return e.daysCalendar=this._store.select(function(e){return e.flaggedMonths}).filter(function(e){return!!e}),e.monthsCalendar=this._store.select(function(e){return e.flaggedMonthsCalendar}).filter(function(e){return!!e}),e.yearsCalendar=this._store.select(function(e){return e.yearsCalendarFlagged}).filter(function(e){return!!e}),e.viewMode=this._store.select(function(e){return e.view.mode}),e.options=this._store.select(function(e){return e.showWeekNumbers}).map(function(e){return{showWeekNumbers:e}}),this},e.prototype.setEventHandlers=function(e){var t=this;return e.setViewMode=function(e){t._store.dispatch(t._actions.changeViewMode(e))},e.navigateTo=function(e){t._store.dispatch(t._actions.navigateStep(e.step))},e.dayHoverHandler=function(e){var n=e.cell;n.isOtherMonth||n.isDisabled||(t._store.dispatch(t._actions.hoverDay(e)),n.isHovered=e.isHovered)},e.monthHoverHandler=function(e){e.cell.isHovered=e.isHovered},e.yearHoverHandler=function(e){e.cell.isHovered=e.isHovered},e.monthSelectHandler=function(e){e.isDisabled||t._store.dispatch(t._actions.navigateTo({unit:{month:j(e.date)},viewMode:"day"}))},e.yearSelectHandler=function(e){e.isDisabled||t._store.dispatch(t._actions.navigateTo({unit:{year:V(e.date)},viewMode:"month"}))},this},e.prototype.registerDatepickerSideEffects=function(){var e=this;return this._subs.push(this._store.select(function(e){return e.view}).subscribe(function(t){e._store.dispatch(e._actions.calculate())})),this._subs.push(this._store.select(function(e){return e.monthsModel}).filter(function(e){return!!e}).subscribe(function(t){return e._store.dispatch(e._actions.format())})),this._subs.push(this._store.select(function(e){return e.formattedMonths}).filter(function(e){return!!e}).subscribe(function(t){return e._store.dispatch(e._actions.flag())})),this._subs.push(this._store.select(function(e){return e.selectedDate}).filter(function(e){return!!e}).subscribe(function(t){return e._store.dispatch(e._actions.flag())})),this._subs.push(this._store.select(function(e){return e.selectedRange}).filter(function(e){return!!e}).subscribe(function(t){return e._store.dispatch(e._actions.flag())})),this._subs.push(this._store.select(function(e){return e.monthsCalendar}).subscribe(function(){return e._store.dispatch(e._actions.flag())})),this._subs.push(this._store.select(function(e){return e.yearsCalendarModel}).filter(function(e){return!!e}).subscribe(function(){return e._store.dispatch(e._actions.flag())})),this._subs.push(this._store.select(function(e){return e.hoveredDate}).filter(function(e){return!!e}).subscribe(function(t){return e._store.dispatch(e._actions.flag())})),this},e.prototype.destroy=function(){for(var e=0,t=this._subs;e<t.length;e++){t[e].unsubscribe()}},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:Ot}]},e}(),Sn=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(e){function n(n,i,a,o){var r=e.call(this)||this;return r._config=n,r._store=i,r._actions=a,r.valueChange=new t.EventEmitter,r._subs=[],r._effects=o,r}return Sn(n,e),Object.defineProperty(n.prototype,"value",{set:function(e){this._effects.setValue(e)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var e=this;this.containerClass=this._config.containerClass,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(function(e){return e.selectedDate}).subscribe(function(t){return e.valueChange.emit(t)}))},n.prototype.daySelectHandler=function(e){e.isOtherMonth||e.isDisabled||this._store.dispatch(this._actions.select(e.date))},n.prototype.ngOnDestroy=function(){for(var e=0,t=this._subs;e<t.length;e++){t[e].unsubscribe()}this._effects.destroy()},n.decorators=[{type:t.Component,args:[{selector:"bs-datepicker-container",providers:[_n,wn],template:'\x3c!-- days calendar view mode --\x3e <div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async"> <div class="bs-datepicker-container"> \x3c!--calendars--\x3e <div class="bs-calendar-container" [ngSwitch]="viewMode | async"> \x3c!--days calendar--\x3e <div *ngSwitchCase="\'day\'"> <bs-days-calendar-view *ngFor="let calendar of (daysCalendar | async)" [class.bs-datepicker-multiple]="(daysCalendar | async).length > 1" [calendar]="calendar" [options]="options | async" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="dayHoverHandler($event)" (onSelect)="daySelectHandler($event)" ></bs-days-calendar-view> </div> \x3c!--months calendar--\x3e <div *ngSwitchCase="\'month\'"> <bs-month-calendar-view *ngFor="let calendar of (monthsCalendar   | async)" [class.bs-datepicker-multiple]="(daysCalendar   | async).length > 1" [calendar]="calendar" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="monthHoverHandler($event)" (onSelect)="monthSelectHandler($event)" ></bs-month-calendar-view> </div> \x3c!--years calendar--\x3e <div *ngSwitchCase="\'year\'"> <bs-years-calendar-view *ngFor="let calendar of (yearsCalendar   | async)" [class.bs-datepicker-multiple]="(daysCalendar | async).length > 1" [calendar]="calendar" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="yearHoverHandler($event)" (onSelect)="yearSelectHandler($event)" ></bs-years-calendar-view> </div> </div> \x3c!--applycancel buttons--\x3e <div class="bs-datepicker-buttons" *ngIf="false"> <button class="btn btn-success">Apply</button> <button class="btn btn-default">Cancel</button> </div> </div> \x3c!--custom dates or date ranges picker--\x3e <div class="bs-datepicker-custom-range" *ngIf="false"> <bs-custom-date-view [ranges]="_customRangesFish"></bs-custom-date-view> </div> </div> ',host:{"(click)":"_stopPropagation($event)",style:"position: absolute; display: block;"}}]}],n.ctorParameters=function(){return[{type:Pt},{type:_n},{type:Ot},{type:wn}]},n}(Cn);!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(Bt||(Bt={}));var Dn=function(){function e(){this.onNavigate=new t.EventEmitter,this.onViewMode=new t.EventEmitter}return e.prototype.navTo=function(e){this.onNavigate.emit(e?Bt.DOWN:Bt.UP)},e.prototype.view=function(e){this.onViewMode.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"bs-datepicker-navigation-view",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'\n    <button class="previous"\n            [disabled]="calendar.disableLeftArrow"\n            [style.visibility]="calendar.hideLeftArrow ? \'hidden\' : \'visible\'"\n            (click)="navTo(true)"><span>&lsaquo;</span>\n    </button>\n\n    <button class="current"\n            *ngIf="calendar.monthTitle"\n            (click)="view(\'month\')"\n    ><span>{{ calendar.monthTitle }}</span>\n    </button>\n\n    <button class="current" (click)="view(\'year\')"\n    ><span>{{ calendar.yearTitle }}</span></button>\n\n    <button class="next"\n            [disabled]="calendar.disableRightArrow"\n            [style.visibility]="calendar.hideRightArrow ? \'hidden\' : \'visible\'"\n            (click)="navTo(false)"><span>&rsaquo;</span>\n    </button>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={calendar:[{type:t.Input}],onNavigate:[{type:t.Output}],onViewMode:[{type:t.Output}]},e}(),xn=function(){function e(){this.onNavigate=new t.EventEmitter,this.onViewMode=new t.EventEmitter,this.onSelect=new t.EventEmitter,this.onHover=new t.EventEmitter}return e.prototype.navigateTo=function(e){var t=Bt.DOWN===e?-1:1;this.onNavigate.emit({step:{month:t}})},e.prototype.changeViewMode=function(e){this.onViewMode.emit(e)},e.prototype.selectDay=function(e){this.onSelect.emit(e)},e.prototype.hoverDay=function(e,t){this.onHover.emit({cell:e,isHovered:t})},e.decorators=[{type:t.Component,args:[{selector:"bs-days-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      \x3c!--days matrix--\x3e\n      <table role="grid" class="days weeks">\n        <thead>\n        <tr>\n          \x3c!--if show weeks--\x3e\n          <th *ngIf="options.showWeekNumbers"></th>\n          <th *ngFor="let weekday of calendar.weekdays; let i = index"\n              aria-label="weekday">{{ calendar.weekdays[i] }}\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr *ngFor="let week of calendar.weeks; let i = index">\n          <td class="week" *ngIf="options.showWeekNumbers">\n            <span>{{ calendar.weekNumbers[i] }}</span>\n          </td>\n          <td *ngFor="let day of week.days" role="gridcell">\n          <span bsDatepickerDayDecorator\n                [day]="day"\n                (click)="selectDay(day)"\n                (mouseenter)="hoverDay(day, true)"\n                (mouseleave)="hoverDay(day, false)">{{ day.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n    </bs-calendar-layout>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={calendar:[{type:t.Input}],options:[{type:t.Input}],onNavigate:[{type:t.Output}],onViewMode:[{type:t.Output}],onSelect:[{type:t.Output}],onHover:[{type:t.Output}]},e}(),In=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fn=function(e){function n(n,i,a,o){var r=e.call(this)||this;return r._config=n,r._store=i,r._actions=a,r.valueChange=new t.EventEmitter,r._rangeStack=[],r._subs=[],r._effects=o,r}return In(n,e),Object.defineProperty(n.prototype,"value",{set:function(e){this._effects.setRangeValue(e)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var e=this;this.containerClass=this._config.containerClass,this._effects.init(this._store).setOptions(this._config).setBindings(this).setEventHandlers(this).registerDatepickerSideEffects(),this._subs.push(this._store.select(function(e){return e.selectedRange}).subscribe(function(t){return e.valueChange.emit(t)}))},n.prototype.daySelectHandler=function(e){e.isOtherMonth||e.isDisabled||(1===this._rangeStack.length&&(this._rangeStack=e.date>=this._rangeStack[0]?[this._rangeStack[0],e.date]:[e.date]),0===this._rangeStack.length&&(this._rangeStack=[e.date]),this._store.dispatch(this._actions.selectRange(this._rangeStack)),2===this._rangeStack.length&&(this._rangeStack=[]))},n.prototype.ngOnDestroy=function(){for(var e=0,t=this._subs;e<t.length;e++){t[e].unsubscribe()}this._effects.destroy()},n.decorators=[{type:t.Component,args:[{selector:"bs-daterangepicker-container",providers:[_n,wn],template:'\x3c!-- days calendar view mode --\x3e <div class="bs-datepicker" [ngClass]="containerClass" *ngIf="viewMode | async"> <div class="bs-datepicker-container"> \x3c!--calendars--\x3e <div class="bs-calendar-container" [ngSwitch]="viewMode | async"> \x3c!--days calendar--\x3e <div *ngSwitchCase="\'day\'"> <bs-days-calendar-view *ngFor="let calendar of (daysCalendar | async)" [class.bs-datepicker-multiple]="(daysCalendar | async).length > 1" [calendar]="calendar" [options]="options | async" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="dayHoverHandler($event)" (onSelect)="daySelectHandler($event)" ></bs-days-calendar-view> </div> \x3c!--months calendar--\x3e <div *ngSwitchCase="\'month\'"> <bs-month-calendar-view *ngFor="let calendar of (monthsCalendar   | async)" [class.bs-datepicker-multiple]="(daysCalendar   | async).length > 1" [calendar]="calendar" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="monthHoverHandler($event)" (onSelect)="monthSelectHandler($event)" ></bs-month-calendar-view> </div> \x3c!--years calendar--\x3e <div *ngSwitchCase="\'year\'"> <bs-years-calendar-view *ngFor="let calendar of (yearsCalendar   | async)" [class.bs-datepicker-multiple]="(daysCalendar | async).length > 1" [calendar]="calendar" (onNavigate)="navigateTo($event)" (onViewMode)="setViewMode($event)" (onHover)="yearHoverHandler($event)" (onSelect)="yearSelectHandler($event)" ></bs-years-calendar-view> </div> </div> \x3c!--applycancel buttons--\x3e <div class="bs-datepicker-buttons" *ngIf="false"> <button class="btn btn-success">Apply</button> <button class="btn btn-default">Cancel</button> </div> </div> \x3c!--custom dates or date ranges picker--\x3e <div class="bs-datepicker-custom-range" *ngIf="false"> <bs-custom-date-view [ranges]="_customRangesFish"></bs-custom-date-view> </div> </div> ',host:{"(click)":"_stopPropagation($event)",style:"position: absolute; display: block;"}}]}],n.ctorParameters=function(){return[{type:Pt},{type:_n},{type:Ot},{type:wn}]},n}(Cn),On={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},kn=function(){return function(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}(),Tn=function(){function e(e,n,i,a,o,r,s,l){this._viewContainerRef=e,this._renderer=n,this._elementRef=i,this._injector=a,this._componentFactoryResolver=o,this._ngZone=r,this._applicationRef=s,this._posService=l,this.onBeforeShow=new t.EventEmitter,this.onShown=new t.EventEmitter,this.onBeforeHide=new t.EventEmitter,this.onHidden=new t.EventEmitter,this._providers=[],this._isHiding=!1,this._listenOpts={},this._globalListener=Function.prototype}return Object.defineProperty(e.prototype,"isShown",{get:function(){return!this._isHiding&&!!this._componentRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this},e.prototype.to=function(e){return this.container=e||this.container,this},e.prototype.position=function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this},e.prototype.provide=function(e){return this._providers.push(e),this},e.prototype.show=function(e){if(void 0===e&&(e={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context);var n=t.ReflectiveInjector.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof t.ElementRef&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"body"===this.container&&"undefined"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef},e.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this},e.prototype.toggle=function(){this.isShown?this.hide():this.show()},e.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},e.prototype.listen=function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},i=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=_e(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:n,toggle:function(e){t.isShown?n():i(e)}}),this},e.prototype._removeGlobalListener=function(){this._globalListener&&(this._globalListener(),this._globalListener=null)},e.prototype.attachInline=function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this},e.prototype._registerOutsideClick=function(){var e=this;if(this._componentRef&&this._componentRef.location&&this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout(function(){e._globalListener=function(e,t){return t.outsideClick?e.listen("document","click",function(e){t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(function(t){return t.contains(e.target)})||t.hide()}):Function.prototype}(e._renderer,{targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}})})}},e.prototype.getInnerComponent=function(){return this._innerComponent},e.prototype._subscribePositioning=function(){var e=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){e._componentRef&&e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})}))},e.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},e.prototype._getContentRef=function(e,n){if(!e)return new kn([]);if(e instanceof t.TemplateRef){if(this._viewContainerRef){var i=this._viewContainerRef.createEmbeddedView(e,n);return i.markForCheck(),new kn([i.rootNodes],i)}var a=e.createEmbeddedView({});return this._applicationRef.attachView(a),new kn([a.rootNodes],a)}if("function"==typeof e){var o=this._componentFactoryResolver.resolveComponentFactory(e),r=t.ReflectiveInjector.resolveAndCreate(this._providers.slice(),this._injector),s=o.create(r);return this._applicationRef.attachView(s.hostView),new kn([[s.location.nativeElement]],s.hostView,s)}return new kn([[this._renderer.createText(""+e)]])},e}(),Pn=new(function(){function e(){}return e.prototype.position=function(e,t){void 0===t&&(t=!0);var n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position")){var a=e.getBoundingClientRect();n={width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right}}else{var o=this.offsetParent(e);n=this.offset(e,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},a={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i.top,bottom:n.bottom+i.top,left:n.left+i.left,right:n.right+i.left};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},e.prototype.positionElements=function(e,t,n,i){var a=i?this.offset(e,!1):this.position(e,!1),o=this.getAllStyles(t),r={left:a.left,center:a.left+a.width/2-t.offsetWidth/2,right:a.left+a.width},s={top:a.top,center:a.top+a.height/2-t.offsetHeight/2,bottom:a.top+a.height},l=t.getBoundingClientRect(),p=n.split(" ")[0]||"top",c=n.split(" ")[1]||"center",d={height:l.height||t.offsetHeight,width:l.width||t.offsetWidth,top:0,bottom:l.height||t.offsetHeight,left:0,right:l.width||t.offsetWidth};if("auto"===p){var u=this.autoPosition(d,a,t,c);u||(u=this.autoPosition(d,a,t)),u&&(p=u),t.classList.add(p)}switch(p){case"top":d.top=a.top-(t.offsetHeight+parseFloat(o.marginBottom)),d.bottom+=a.top-t.offsetHeight,d.left=r[c],d.right+=r[c];break;case"bottom":d.top=s[p],d.bottom+=s[p],d.left=r[c],d.right+=r[c];break;case"left":d.top=s[c],d.bottom+=s[c],d.left=a.left-(t.offsetWidth+parseFloat(o.marginRight)),d.right+=a.left-t.offsetWidth;break;case"right":d.top=s[c],d.bottom+=s[c],d.left=r[p],d.right+=r[p]}return d.top=Math.round(d.top),d.bottom=Math.round(d.bottom),d.left=Math.round(d.left),d.right=Math.round(d.right),d},e.prototype.autoPosition=function(e,t,n,i){return(!i||"right"===i)&&e.left+t.left-n.offsetWidth<0?"right":(!i||"top"===i)&&e.bottom+t.bottom+n.offsetHeight>window.innerHeight?"top":(!i||"bottom"===i)&&e.top+t.top-n.offsetHeight<0?"bottom":(!i||"left"===i)&&e.right+t.right+n.offsetWidth>window.innerWidth?"left":null},e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e}()),En=function(){function e(){}return e.prototype.position=function(e){var t=e.element,n=e.target,i=e.attachment,a=e.appendToBody;!function(e,t,n,i){var a=Pn.positionElements(e,t,n,i);t.style.top=a.top+"px",t.style.left=a.left+"px"}(Ce(n),Ce(t),i,a)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),An=function(){function e(e,t,n,i,a){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=i,this._applicationRef=a}return e.prototype.createLoader=function(e,t,n){return new Tn(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.NgZone},{type:t.Injector},{type:En},{type:t.ApplicationRef}]},e}(),Nn=function(){function e(e,n,i,a,o){this._config=e,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.bsValueChange=new t.EventEmitter,this._subs=[],this._datepicker=o.createLoader(n,a,i),Object.assign(this,e),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._datepicker.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bsValue",{set:function(e){this._bsValue!==e&&(this._bsValue=e,this.bsValueChange.emit(e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._datepicker.listen({outsideClick:this.outsideClick,triggers:this.triggers,show:function(){return e.show()}})},e.prototype.ngOnChanges=function(e){this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled))},e.prototype.show=function(){var e=this;this._datepicker.isShown||(this._config=Object.assign({},this._config,{displayMonths:2},this.bsConfig,{value:this._bsValue,isDisabled:this.isDisabled,minDate:this.minDate||this._config.minDate,maxDate:this.maxDate||this._config.maxDate}),this._datepickerRef=this._datepicker.provide({provide:Pt,useValue:this._config}).attach(Fn).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe(function(t){e._datepickerRef.instance.value=t})),this._subs.push(this._datepickerRef.instance.valueChange.filter(function(e){return e&&e[0]&&!!e[1]}).subscribe(function(t){e.bsValue=t,e.hide()})))},e.prototype.hide=function(){this.isOpen&&this._datepicker.hide();for(var e=0,t=this._subs;e<t.length;e++){t[e].unsubscribe()}},e.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},e.prototype.ngOnDestroy=function(){this._datepicker.dispose()},e.decorators=[{type:t.Component,args:[{selector:"bs-daterangepicker,[bsDaterangepicker]",exportAs:"bsDaterangepicker",template:" "}]}],e.ctorParameters=function(){return[{type:Pt},{type:t.ElementRef},{type:t.Renderer2},{type:t.ViewContainerRef},{type:An}]},e.propDecorators={placement:[{type:t.Input}],triggers:[{type:t.Input}],outsideClick:[{type:t.Input}],container:[{type:t.Input}],isOpen:[{type:t.Input}],onShown:[{type:t.Output}],onHidden:[{type:t.Output}],bsValue:[{type:t.Input}],bsConfig:[{type:t.Input}],isDisabled:[{type:t.Input}],minDate:[{type:t.Input}],maxDate:[{type:t.Input}],bsValueChange:[{type:t.Output}]},e}(),Ln=function(){function e(e,n,i,a,o){this._config=e,this.placement="bottom",this.triggers="click",this.outsideClick=!0,this.container="body",this.bsValueChange=new t.EventEmitter,this._subs=[],Object.assign(this,this._config),this._datepicker=o.createLoader(n,a,i),this.onShown=this._datepicker.onShown,this.onHidden=this._datepicker.onHidden}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._datepicker.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bsValue",{set:function(e){this._bsValue!==e&&(this._bsValue=e,this.bsValueChange.emit(e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._datepicker.listen({outsideClick:this.outsideClick,triggers:this.triggers,show:function(){return e.show()}})},e.prototype.ngOnChanges=function(e){this._datepickerRef&&this._datepickerRef.instance&&(e.minDate&&(this._datepickerRef.instance.minDate=this.minDate),e.maxDate&&(this._datepickerRef.instance.maxDate=this.maxDate),e.isDisabled&&(this._datepickerRef.instance.isDisabled=this.isDisabled))},e.prototype.show=function(){var e=this;this._datepicker.isShown||(this._config=Object.assign({},this._config,this.bsConfig,{value:this._bsValue,isDisabled:this.isDisabled,minDate:this.minDate||this._config.minDate,maxDate:this.maxDate||this._config.maxDate}),this._datepickerRef=this._datepicker.provide({provide:Pt,useValue:this._config}).attach(Mn).to(this.container).position({attachment:this.placement}).show({placement:this.placement}),this._subs.push(this.bsValueChange.subscribe(function(t){e._datepickerRef.instance.value=t})),this._subs.push(this._datepickerRef.instance.valueChange.subscribe(function(t){e.bsValue=t,e.hide()})))},e.prototype.hide=function(){this.isOpen&&this._datepicker.hide();for(var e=0,t=this._subs;e<t.length;e++){t[e].unsubscribe()}},e.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},e.prototype.ngOnDestroy=function(){this._datepicker.dispose()},e.decorators=[{type:t.Component,args:[{selector:"bs-datepicker,[bsDatepicker]",exportAs:"bsDatepicker",template:"<ng-content></ng-content>"}]}],e.ctorParameters=function(){return[{type:Pt},{type:t.ElementRef},{type:t.Renderer2},{type:t.ViewContainerRef},{type:An}]},e.propDecorators={placement:[{type:t.Input}],triggers:[{type:t.Input}],outsideClick:[{type:t.Input}],container:[{type:t.Input}],isOpen:[{type:t.Input}],onShown:[{type:t.Output}],onHidden:[{type:t.Output}],bsValue:[{type:t.Input}],bsConfig:[{type:t.Input}],isDisabled:[{type:t.Input}],minDate:[{type:t.Input}],maxDate:[{type:t.Input}],bsValueChange:[{type:t.Output}]},e}(),Rn=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"[bsDatepickerDayDecorator]",changeDetection:t.ChangeDetectionStrategy.OnPush,host:{"[class.disabled]":"day.isDisabled","[class.is-highlighted]":"day.isHovered","[class.is-other-month]":"day.isOtherMonth","[class.in-range]":"day.isInRange","[class.select-start]":"day.isSelectionStart","[class.select-end]":"day.isSelectionEnd","[class.selected]":"day.isSelected"},template:"{{ day.label }}"}]}],e.ctorParameters=function(){return[]},e.propDecorators={day:[{type:t.Input}]},e}(),jn=function(){function e(){this.onNavigate=new t.EventEmitter,this.onViewMode=new t.EventEmitter,this.onSelect=new t.EventEmitter,this.onHover=new t.EventEmitter}return e.prototype.navigateTo=function(e){var t=Bt.DOWN===e?-1:1;this.onNavigate.emit({step:{year:t}})},e.prototype.viewMonth=function(e){this.onSelect.emit(e)},e.prototype.hoverMonth=function(e,t){this.onHover.emit({cell:e,isHovered:t})},e.prototype.changeViewMode=function(e){this.onViewMode.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"bs-month-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="months">\n        <tbody>\n        <tr *ngFor="let row of calendar.months">\n          <td *ngFor="let month of row" role="gridcell"\n              (click)="viewMonth(month)"\n              (mouseenter)="hoverMonth(month, true)"\n              (mouseleave)="hoverMonth(month, false)"\n              [class.disabled]="month.isDisabled"\n              [class.is-highlighted]="month.isHovered">\n            <span>{{ month.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={calendar:[{type:t.Input}],onNavigate:[{type:t.Output}],onViewMode:[{type:t.Output}],onSelect:[{type:t.Output}],onHover:[{type:t.Output}]},e}(),Vn=function(){function e(){this.onNavigate=new t.EventEmitter,this.onViewMode=new t.EventEmitter,this.onSelect=new t.EventEmitter,this.onHover=new t.EventEmitter}return e.prototype.navigateTo=function(e){var t=Bt.DOWN===e?-1:1;this.onNavigate.emit({step:{year:t*mn}})},e.prototype.viewYear=function(e){this.onSelect.emit(e)},e.prototype.hoverYear=function(e,t){this.onHover.emit({cell:e,isHovered:t})},e.prototype.changeViewMode=function(e){this.onViewMode.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"bs-years-calendar-view",template:'\n    <bs-calendar-layout>\n      <bs-datepicker-navigation-view\n        [calendar]="calendar"\n        (onNavigate)="navigateTo($event)"\n        (onViewMode)="changeViewMode($event)"\n      ></bs-datepicker-navigation-view>\n\n      <table role="grid" class="years">\n        <tbody>\n        <tr *ngFor="let row of calendar.years">\n          <td *ngFor="let year of row" role="gridcell"\n              (click)="viewYear(year)"\n              (mouseenter)="hoverYear(year, true)"\n              (mouseleave)="hoverYear(year, false)"\n              [class.disabled]="year.isDisabled"\n              [class.is-highlighted]="year.isHovered">\n            <span>{{ year.label }}</span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </bs-calendar-layout>\n  '}]}],e.ctorParameters=function(){return[]},e.propDecorators={calendar:[{type:t.Input}],onNavigate:[{type:t.Output}],onViewMode:[{type:t.Output}],onSelect:[{type:t.Output}],onHover:[{type:t.Output}]},e}(),Hn=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"bs-custom-date-view",template:'\n    <div class="bs-datepicker-predefined-btns">\n      <button *ngFor="let range of ranges">{{ range.label }}</button>\n      <button *ngIf="isCustomRangeShown">Custom Range</button>\n    </div>\n  ',changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[]},e.propDecorators={isCustomRangeShown:[{type:t.Input}],ranges:[{type:t.Input}]},e}(),Bn=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"bs-current-date",template:'<div class="current-timedate"><span>{{ title }}</span></div>'}]}],e.ctorParameters=function(){return[]},e.propDecorators={title:[{type:t.Input}]},e}(),zn=function(){function e(){this.ampm="ok",this.hours=0,this.minutes=0}return e.decorators=[{type:t.Component,args:[{selector:"bs-timepicker",template:'\n    <div class="bs-timepicker-container">\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease">-</button>\n        <input type="text" [value]="hours" placeholder="00">\n        <button class="bs-increase">+</button>\n      </div>\n      <div class="bs-timepicker-controls">\n        <button class="bs-decrease">-</button>\n        <input type="text" [value]="minutes" placeholder="00">\n        <button class="bs-increase">+</button>\n      </div>\n      <button class="switch-time-format">{{ ampm }}\n        <img\n          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKCAYAAABi8KSDAAABSElEQVQYV3XQPUvDUBQG4HNuagtVqc6KgouCv6GIuIntYBLB9hcIQpLStCAIV7DYmpTcRWcXqZio3Vwc/UCc/QEqfgyKGbr0I7nS1EiHeqYzPO/h5SD0jaxUZjmSLCB+OFb+UFINFwASAEAdpu9gaGXVyAHHFQBkHpKHc6a9dzECvADyY9sqlAMsK9W0jzxDXqeytr3mhQckxSji27TJJ5/rPmIpwJJq3HrtduriYOurv1a4i1p5HnhkG9OFymi0ReoO05cGwb+ayv4dysVygjeFmsP05f8wpZQ8fsdvfmuY9zjWSNqUtgYFVnOVReILYoBFzdQI5/GGFzNHhGbeZnopDGU29sZbscgldmC99w35VOATTycIMMcBXIfpSVGzZhA6C8hh00conln6VQ9TGgV32OEAKQC4DrBq7CJwd0ggR7Vq/rPrfgB+C3sGypY5DAAAAABJRU5ErkJggg=="\n          alt="">\n      </button>\n    </div>\n  '}]}],e.ctorParameters=function(){return[]},e}(),Un=function(){function e(){}return e.decorators=[{type:t.Component,args:[{selector:"bs-calendar-layout",template:'\n    \x3c!-- current date, will be added in nearest releases --\x3e\n    <bs-current-date title="hey there" *ngIf="false"></bs-current-date>\n\n    \x3c!--navigation--\x3e\n    <div class="bs-datepicker-head">\n      <ng-content select="bs-datepicker-navigation-view"></ng-content>\n    </div>\n\n    <div class="bs-datepicker-body">\n      <ng-content></ng-content>\n    </div>\n\n    \x3c!--timepicker--\x3e\n    <bs-timepicker *ngIf="false"></bs-timepicker>\n  '}]}],e.ctorParameters=function(){return[]},e}(),Wn={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return Jn}),multi:!0},Jn=function(){function e(e,t,n,i){var a=this;this._picker=e,this._renderer=t,this._elRef=n,this.changeDetection=i,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._picker.bsValueChange.subscribe(function(e){return a._setInputValue(e)})}return e.prototype._setInputValue=function(e){var t=ie(e,this._picker._config.dateInputFormat,this._picker._config.locale)||"";this._renderer.setProperty(this._elRef.nativeElement,"value",t),this._onChange(e),this.changeDetection.markForCheck()},e.prototype.onChange=function(e){this.writeValue(e.target.value),this._onTouched()},e.prototype.writeValue=function(e){e||(this._picker.bsValue=null);var t=q(this._picker._config.locale);if(!t)throw new Error('Locale "'+this._picker._config.locale+'" is not defined, please add it with "defineLocale(...)"');if("string"==typeof e){var n=new Date(t.preparse(e));this._picker.bsValue=isNaN(n.valueOf())?null:n}e instanceof Date&&(this._picker.bsValue=e)},e.prototype.setDisabledState=function(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.onBlur=function(){this._onTouched()},e.prototype.hide=function(){this._picker.hide()},e.decorators=[{type:t.Directive,args:[{selector:"input[bsDatepicker]",host:{"(change)":"onChange($event)","(keyup.esc)":"hide()","(blur)":"onBlur()"},providers:[Wn]}]}],e.ctorParameters=function(){return[{type:Ln,decorators:[{type:t.Host}]},{type:t.Renderer2},{type:t.ElementRef},{type:t.ChangeDetectorRef}]},e}(),Yn={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return Gn}),multi:!0},Gn=function(){function e(e,t,n,i){var a=this;this._picker=e,this._renderer=t,this._elRef=n,this.changeDetection=i,this._onChange=Function.prototype,this._onTouched=Function.prototype,this._picker.bsValueChange.subscribe(function(e){return a._setInputValue(e)})}return e.prototype._setInputValue=function(e){var t="";if(e){var n=ie(e[0],this._picker._config.rangeInputFormat,this._picker._config.locale)||"",i=ie(e[1],this._picker._config.rangeInputFormat,this._picker._config.locale)||"";t=n&&i?n+this._picker._config.rangeSeparator+i:""}this._renderer.setProperty(this._elRef.nativeElement,"value",t),this._onChange(e),this.changeDetection.markForCheck()},e.prototype.onChange=function(e){this.writeValue(e.target.value),this._onTouched()},e.prototype.writeValue=function(e){if(e){var t=q(this._picker._config.locale);if(!t)throw new Error('Locale "'+this._picker._config.locale+'" is not defined, please add it with "defineLocale(...)"');"string"==typeof e&&(this._picker.bsValue=e.split(this._picker._config.rangeSeparator).map(function(e){return new Date(t.preparse(e))}).map(function(e){return isNaN(e.valueOf())?null:e})),Array.isArray(e)&&(this._picker.bsValue=e)}else this._picker.bsValue=null},e.prototype.setDisabledState=function(e){this._picker.isDisabled=e,e?this._renderer.setAttribute(this._elRef.nativeElement,"disabled","disabled"):this._renderer.removeAttribute(this._elRef.nativeElement,"disabled")},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.onBlur=function(){this._onTouched()},e.prototype.hide=function(){this._picker.hide()},e.decorators=[{type:t.Directive,args:[{selector:"input[bsDaterangepicker]",host:{"(change)":"onChange($event)","(keyup.esc)":"hide()","(blur)":"onBlur()"},providers:[Yn]}]}],e.ctorParameters=function(){return[{type:Nn,decorators:[{type:t.Host}]},{type:t.Renderer2},{type:t.ElementRef},{type:t.ChangeDetectorRef}]},e}(),$n={},Xn="undefined"==typeof console||!("warn"in console),qn=[Mn,Fn,Ln,Jn,Gn,Nn],Zn=(function(){function e(){we("BsDatepickerModule is under development,\n      BREAKING CHANGES are possible,\n      PLEASE, read changelog")}e.forRoot=function(){return{ngModule:e,providers:[An,En,_n,Ot,Pt,wn]}},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[Rn,Bn,Dn,zn,Un,xn,jn,Vn,Hn].concat(qn),entryComponents:[Mn,Fn],exports:qn}]}],e.ctorParameters=function(){return[]}}(),{backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,"class":"",animated:!0}),Kn={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"},Qn={BACKRDOP:"backdrop-click",ESC:"esc"},ei=function(){function e(e,t){this._isShown=!1,this.element=e,this.renderer=t}return Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShown",{get:function(){return this._isShown},set:function(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,""+Kn.IN):this.renderer.removeClass(this.element.nativeElement,""+Kn.IN),Q()||(e?this.renderer.addClass(this.element.nativeElement,""+Kn.SHOW):this.renderer.removeClass(this.element.nativeElement,""+Kn.SHOW))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,""+Kn.FADE),wt.reflow(this.element.nativeElement)),this.isShown=!0},e.decorators=[{type:t.Component,args:[{selector:"bs-modal-backdrop",template:" ",host:{"class":Kn.BACKDROP}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e}(),ti=(function(){function e(e,n,i,a){this._element=e,this._renderer=i,this.onShow=new t.EventEmitter,this.onShown=new t.EventEmitter,this.onHide=new t.EventEmitter,this.onHidden=new t.EventEmitter,this.isAnimated=!0,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this._backdrop=a.createLoader(e,n,i)}Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=this.getConfig(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isShown",{get:function(){return this._isShown},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||(this.dismissReason=Qn.BACKRDOP,this.hide(e))},e.prototype.onEsc=function(){this.config.keyboard&&(this.dismissReason=Qn.ESC,this.hide())},e.prototype.ngOnDestroy=function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())},e.prototype.ngOnInit=function(){var e=this;this._config=this._config||this.getConfig(),setTimeout(function(){e._config.show&&e.show()},0)},e.prototype.toggle=function(){return this._isShown?this.hide():this.show()},e.prototype.show=function(){var e=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),ct&&ct.body&&(ct.body.classList.contains(Kn.OPEN)?this.isNested=!0:this._renderer.addClass(ct.body,Kn.OPEN)),this.showBackdrop(function(){e.showElement()}))},e.prototype.hide=function(e){var t=this;e&&e.preventDefault(),this.onHide.emit(this),this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,Kn.IN),Q()||this._renderer.removeClass(this._element.nativeElement,Kn.SHOW),this.isAnimated?this.timerHideModal=setTimeout(function(){return t.hideModal()},300):this.hideModal())},e.prototype.getConfig=function(e){return Object.assign({},Zn,e)},e.prototype.showElement=function(){var e=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||ct&&ct.body&&ct.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this.isAnimated&&wt.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,Kn.IN),Q()||this._renderer.addClass(this._element.nativeElement,Kn.SHOW);var t=function(){e._config.focus&&e._element.nativeElement.focus(),e.onShown.emit(e)};this.isAnimated?setTimeout(t,300):t()},e.prototype.hideModal=function(){var e=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(function(){e.isNested||(ct&&ct.body&&e._renderer.removeClass(ct.body,Kn.OPEN),e.resetScrollbar()),e.resetAdjustments(),e.focusOtherModal(),e.onHidden.emit(e)})},e.prototype.showBackdrop=function(e){var t=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var n=function(){t.removeBackdrop(),e&&e()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=setTimeout(n,150):n()}else e&&e();else{if(this.removeBackdrop(),this._backdrop.attach(ei).to("body").show({isAnimated:this.isAnimated}),this.backdrop=this._backdrop._componentRef,!e)return;if(!this.isAnimated)return void e();setTimeout(e,150)}},e.prototype.removeBackdrop=function(){this._backdrop.hide()},e.prototype.focusOtherModal=function(){if(null!=this._element.nativeElement.parentElement){var e=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");e.length&&e[e.length-1].focus()}},e.prototype.resetAdjustments=function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")},e.prototype.checkScrollbar=function(){this.isBodyOverflowing=ct.body.clientWidth<pt.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()},e.prototype.setScrollbar=function(){ct&&(this.originalBodyPadding=parseInt(pt.getComputedStyle(ct.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(ct.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px"))},e.prototype.resetScrollbar=function(){ct.body.style.paddingRight=this.originalBodyPadding},e.prototype.getScrollbarWidth=function(){var e=this._renderer.createElement("div");this._renderer.addClass(e,Kn.SCROLLBAR_MEASURER),this._renderer.appendChild(ct.body,e);var t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(ct.body,e),t},e.decorators=[{type:t.Directive,args:[{selector:"[bsModal]",exportAs:"bs-modal"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ViewContainerRef},{type:t.Renderer2},{type:An}]},e.propDecorators={config:[{type:t.Input}],onShow:[{type:t.Output}],onShown:[{type:t.Output}],onHide:[{type:t.Output}],onHidden:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click",["$event"]]}],onEsc:[{type:t.HostListener,args:["keydown.esc"]}]}}(),function(){function e(){this.autoClose=!0}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),ni=function(){function e(){var e=this;this.direction="down",this.isOpenChange=new t.EventEmitter,this.isDisabledChange=new t.EventEmitter,this.toggleClick=new t.EventEmitter,this.dropdownMenu=new Promise(function(t){e.resolveDropdownMenu=t})}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),ii=function(){function e(e,t,n,i){var a=this;this._state=e,this.cd=t,this._renderer=n,this.isOpen=!1,this._subscription=e.isOpenChange.subscribe(function(e){a.isOpen=e;var t=i.nativeElement.querySelector(".dropdown-menu");t&&(a._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(a._renderer.setStyle(t,"left","auto"),a._renderer.setStyle(t,"right","0")),"up"===a.direction&&(a._renderer.setStyle(t,"top","auto"),a._renderer.setStyle(t,"transform","translateY(-101%)"))),a.cd.markForCheck(),a.cd.detectChanges()})}return Object.defineProperty(e.prototype,"direction",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e.decorators=[{type:t.Component,args:[{selector:"bs-dropdown-container",changeDetection:t.ChangeDetectionStrategy.OnPush,host:{style:"display:block;position: absolute;"},template:'\n    <div [class.dropup]="direction === \'up\'"\n         [class.dropdown]="direction === \'down\'"\n         [class.show]="isOpen"\n         [class.open]="isOpen"><ng-content></ng-content></div>\n  '}]}],e.ctorParameters=function(){return[{type:ni},{type:t.ChangeDetectorRef},{type:t.Renderer2},{type:t.ElementRef}]},e}(),ai=function(){function e(e,t,n,i,a,o){this._elementRef=e,this._renderer=t,this._viewContainerRef=n,this._cis=i,this._config=a,this._state=o,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:ni,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object.defineProperty(e.prototype,"autoClose",{get:function(){return this._state.autoClose},set:function(e){this._state.autoClose=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._isDisabled},set:function(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_showInline",{get:function(){return!this.container},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return e.show()}}),this._subscriptions.push(this._state.toggleClick.subscribe(function(t){return e.toggle(t)})),this._subscriptions.push(this._state.isDisabledChange.filter(function(e){return e}).subscribe(function(t){return e.hide()})))},e.prototype.show=function(){var e=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(function(t){e._dropdown.attachInline(t.viewContainer,t.templateRef),e._inlinedMenu=e._dropdown._inlineViewRef,e.addBs4Polyfills()})["catch"](),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),void this._state.isOpenChange.emit(!0)):void this._state.dropdownMenu.then(function(t){var n=e.dropup||"undefined"!=typeof e.dropup&&e.dropup;e._state.direction=n?"up":"down";var i=e.placement||(n?"top left":"bottom left");e._dropdown.attach(ii).to(e.container).position({attachment:i}).show({content:t.templateRef,placement:i}),e._state.isOpenChange.emit(!0)})["catch"]()},e.prototype.hide=function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))},e.prototype.toggle=function(e){return this.isOpen||!e?this.hide():this.show()},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++){t[e].unsubscribe()}this._dropdown.dispose()},e.prototype.addBs4Polyfills=function(){Q()||(this.addShowClass(),this.checkRightAlignment(),this.checkDropup())},e.prototype.addShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.removeShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.checkRightAlignment=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}},e.prototype.checkDropup=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var e=getComputedStyle(this._inlinedMenu.rootNodes[0]).top,t="auto"===e||"100%"===e;this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup&&!t?"translateY(-101%)":"translateY(0)")}},e.decorators=[{type:t.Directive,args:[{selector:"[bsDropdown],[dropdown]",exportAs:"bs-dropdown",providers:[ni],host:{"[class.dropup]":"dropup","[class.open]":"isOpen","[class.show]":"isOpen && isBs4"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.ViewContainerRef},{type:An},{type:ti},{type:ni}]},e.propDecorators={placement:[{type:t.Input}],triggers:[{type:t.Input}],container:[{type:t.Input}],dropup:[{type:t.Input}],autoClose:[{type:t.Input}],isDisabled:[{type:t.Input}],isOpen:[{type:t.Input}],isOpenChange:[{type:t.Output}],onShown:[{type:t.Output}],onHidden:[{type:t.Output}]},e}(),oi=function(){function e(e,t,n){e.resolveDropdownMenu({templateRef:n,viewContainer:t})}return e.decorators=[{type:t.Directive,args:[{selector:"[bsDropdownMenu],[dropdownMenu]",exportAs:"bs-dropdown-menu"}]}],e.ctorParameters=function(){return[{type:ni},{type:t.ViewContainerRef},{type:t.TemplateRef}]},e}(),ri=function(){function e(e,t){var n=this;this._state=e,this._element=t,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(function(e){return n.isOpen=e})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(e){return n.isDisabled=e||null}))}return e.prototype.onClick=function(){this.isDisabled||this._state.toggleClick.emit(!0)},e.prototype.onDocumentClick=function(e){this._state.autoClose&&2!==e.button&&!this._element.nativeElement.contains(e.target)&&this._state.toggleClick.emit(!1)},e.prototype.onEsc=function(){this._state.autoClose&&this._state.toggleClick.emit(!1)},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++){t[e].unsubscribe()}},e.decorators=[{type:t.Directive,args:[{selector:"[bsDropdownToggle],[dropdownToggle]",exportAs:"bs-dropdown-toggle",host:{"[attr.aria-haspopup]":"true"}}]}],e.ctorParameters=function(){return[{type:ni},{type:t.ElementRef}]},e.propDecorators={isDisabled:[{type:t.HostBinding,args:["attr.disabled"]}],isOpen:[{type:t.HostBinding,args:["attr.aria-expanded"]}],onClick:[{type:t.HostListener,args:["click",[]]}],onDocumentClick:[{type:t.HostListener,args:["document:click",["$event"]]}],onEsc:[{type:t.HostListener,args:["keyup.esc"]}]},e}(),si=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[An,En,ni,{provide:ti,useValue:t||{autoClose:!0}}]}},e.decorators=[{type:t.NgModule,args:[{declarations:[oi,ri,ii,ai],exports:[oi,ri,ai],entryComponents:[ii]}]}],e.ctorParameters=function(){return[]},e}(),li=function(){function e(){this.main={maxSize:void 0,itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",pageBtnClass:"",rotate:!0},this.pager={itemsPerPage:15,previousText:"« Previous",nextText:"Next »",pageBtnClass:"",align:!0}}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),pi={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return ci}),multi:!0},ci=function(){function e(e,n,i,a){this.renderer=e,this.elementRef=n,this.changeDetection=a,this.numPages=new t.EventEmitter,this.pageChanged=new t.EventEmitter,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.renderer=e,this.elementRef=n,this.config||this.configureOptions(Object.assign({},i.main,i.pager))}return Object.defineProperty(e.prototype,"itemsPerPage",{get:function(){return this._itemsPerPage},set:function(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItems",{get:function(){return this._totalItems},set:function(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalPages",{get:function(){return this._totalPages},set:function(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){var t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),t!==this._page&&void 0!==t&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})},enumerable:!0,configurable:!0}),e.prototype.configureOptions=function(e){this.config=Object.assign({},e)},e.prototype.ngOnInit=function(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize="undefined"!=typeof this.maxSize?this.maxSize:this.config.maxSize,this.rotate="undefined"!=typeof this.rotate?this.rotate:this.config.rotate,this.boundaryLinks="undefined"!=typeof this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks="undefined"!=typeof this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass="undefined"!=typeof this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage="undefined"!=typeof this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0},e.prototype.writeValue=function(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)},e.prototype.getText=function(e){return this[e+"Text"]||this.config[e+"Text"]},e.prototype.noPrevious=function(){return 1===this.page},e.prototype.noNext=function(){return this.page===this.totalPages},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.selectPage=function(e,t){if(t&&t.preventDefault(),!this.disabled){if(t&&t.target){t.target.blur()}this.writeValue(e),this.onChange(this.page)}},e.prototype.makePage=function(e,t,n){return{text:t,number:e,active:n}},e.prototype.getPages=function(e,t){var n=[],i=1,a=t,o="undefined"!=typeof this.maxSize&&this.maxSize<t;o&&(this.rotate?(a=(i=Math.max(e-Math.floor(this.maxSize/2),1))+this.maxSize-1)>t&&(i=(a=t)-this.maxSize+1):(i=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,a=Math.min(i+this.maxSize-1,t)));for(var r=i;r<=a;r++){var s=this.makePage(r,r.toString(),r===e);n.push(s)}if(o&&!this.rotate){if(i>1){var l=this.makePage(i-1,"...",!1);n.unshift(l)}if(a<t){var p=this.makePage(a+1,"...",!1);n.push(p)}}return n},e.prototype.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)},e.decorators=[{type:t.Component,args:[{selector:"pager",template:'<ul class="pager"> <li [class.disabled]="noPrevious()" [class.previous]="align" [ngClass]="{\'pull-right\': align, \'float-right\': align}" class="{{ pageBtnClass }}"> <a href (click)="selectPage(page - 1, $event)">{{ getText(\'previous\') }}</a> </li> <li [class.disabled]="noNext()" [class.next]="align" [ngClass]="{\'pull-right\': align, \'float-right\': align}" class="{{ pageBtnClass }}"> <a href (click)="selectPage(page + 1, $event)">{{ getText(\'next\') }}</a> </li> </ul> ',providers:[pi]}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:li},{type:t.ChangeDetectorRef}]},e.propDecorators={align:[{type:t.Input}],maxSize:[{type:t.Input}],boundaryLinks:[{type:t.Input}],directionLinks:[{type:t.Input}],firstText:[{type:t.Input}],previousText:[{type:t.Input}],nextText:[{type:t.Input}],lastText:[{type:t.Input}],rotate:[{type:t.Input}],pageBtnClass:[{type:t.Input}],disabled:[{type:t.Input}],numPages:[{type:t.Output}],pageChanged:[{type:t.Output}],itemsPerPage:[{type:t.Input}],totalItems:[{type:t.Input}]},e}(),di={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return ui}),multi:!0},ui=function(){function e(e,n,i,a){this.renderer=e,this.elementRef=n,this.changeDetection=a,this.numPages=new t.EventEmitter,this.pageChanged=new t.EventEmitter,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.inited=!1,this._page=1,this.renderer=e,this.elementRef=n,this.config||this.configureOptions(i.main)}return Object.defineProperty(e.prototype,"itemsPerPage",{get:function(){return this._itemsPerPage},set:function(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItems",{get:function(){return this._totalItems},set:function(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalPages",{get:function(){return this._totalPages},set:function(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){var t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),t!==this._page&&void 0!==t&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})},enumerable:!0,configurable:!0}),e.prototype.configureOptions=function(e){this.config=Object.assign({},e)},e.prototype.ngOnInit=function(){"undefined"!=typeof window&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),this.maxSize="undefined"!=typeof this.maxSize?this.maxSize:this.config.maxSize,this.rotate="undefined"!=typeof this.rotate?this.rotate:this.config.rotate,this.boundaryLinks="undefined"!=typeof this.boundaryLinks?this.boundaryLinks:this.config.boundaryLinks,this.directionLinks="undefined"!=typeof this.directionLinks?this.directionLinks:this.config.directionLinks,this.pageBtnClass="undefined"!=typeof this.pageBtnClass?this.pageBtnClass:this.config.pageBtnClass,this.itemsPerPage="undefined"!=typeof this.itemsPerPage?this.itemsPerPage:this.config.itemsPerPage,this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0},e.prototype.writeValue=function(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)},e.prototype.getText=function(e){return this[e+"Text"]||this.config[e+"Text"]},e.prototype.noPrevious=function(){return 1===this.page},e.prototype.noNext=function(){return this.page===this.totalPages},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.selectPage=function(e,t){if(t&&t.preventDefault(),!this.disabled){if(t&&t.target){t.target.blur()}this.writeValue(e),this.onChange(this.page)}},e.prototype.makePage=function(e,t,n){return{text:t,number:e,active:n}},e.prototype.getPages=function(e,t){var n=[],i=1,a=t,o="undefined"!=typeof this.maxSize&&this.maxSize<t;o&&(this.rotate?(a=(i=Math.max(e-Math.floor(this.maxSize/2),1))+this.maxSize-1)>t&&(i=(a=t)-this.maxSize+1):(i=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,a=Math.min(i+this.maxSize-1,t)));for(var r=i;r<=a;r++){var s=this.makePage(r,r.toString(),r===e);n.push(s)}if(o&&!this.rotate){if(i>1){var l=this.makePage(i-1,"...",!1);n.unshift(l)}if(a<t){var p=this.makePage(a+1,"...",!1);n.push(p)}}return n},e.prototype.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)},e.decorators=[{type:t.Component,args:[{selector:"pagination",template:'<ul class="pagination" [ngClass]="classMap"> <li class="pagination-first page-item" *ngIf="boundaryLinks" [class.disabled]="noPrevious()||disabled"> <a class="page-link" href (click)="selectPage(1, $event)" [innerHTML]="getText(\'first\')"></a> </li> <li class="pagination-prev page-item" *ngIf="directionLinks" [class.disabled]="noPrevious()||disabled"> <a class="page-link" href (click)="selectPage(page - 1, $event)" [innerHTML]="getText(\'previous\')"></a> </li> <li *ngFor="let pg of pages" [class.active]="pg.active" [class.disabled]="disabled&&!pg.active" class="pagination-page page-item"> <a class="page-link" href (click)="selectPage(pg.number, $event)" [innerHTML]="pg.text"></a> </li> <li class="pagination-next page-item" *ngIf="directionLinks" [class.disabled]="noNext()||disabled"> <a class="page-link" href (click)="selectPage(page + 1, $event)" [innerHTML]="getText(\'next\')"></a></li> <li class="pagination-last page-item" *ngIf="boundaryLinks" [class.disabled]="noNext()||disabled"> <a class="page-link" href (click)="selectPage(totalPages, $event)" [innerHTML]="getText(\'last\')"></a></li> </ul> ',providers:[di]}]}],e.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:li},{type:t.ChangeDetectorRef}]},e.propDecorators={align:[{type:t.Input}],maxSize:[{type:t.Input}],boundaryLinks:[{type:t.Input}],directionLinks:[{type:t.Input}],firstText:[{type:t.Input}],previousText:[{type:t.Input}],nextText:[{type:t.Input}],lastText:[{type:t.Input}],rotate:[{type:t.Input}],pageBtnClass:[{type:t.Input}],disabled:[{type:t.Input}],numPages:[{type:t.Output}],pageChanged:[{type:t.Output}],itemsPerPage:[{type:t.Input}],totalItems:[{type:t.Input}]},e}(),hi=function(){function e(){this.addClass=!0,this.bars=[],this._max=100}return Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(e){this._max=e,this.bars.forEach(function(e){e.recalculatePercentage()})},enumerable:!0,configurable:!0}),e.prototype.addBar=function(e){this.animate||(e.transition="none"),this.bars.push(e)},e.prototype.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.decorators=[{type:t.Directive,args:[{selector:"bs-progress, [progress]"}]}],e.ctorParameters=function(){return[]},e.propDecorators={animate:[{type:t.Input}],max:[{type:t.HostBinding,args:["attr.max"]},{type:t.Input}],addClass:[{type:t.HostBinding,args:["class.progress"]}]},e}(),fi=(function(){function e(e){this.percent=0,this.progress=e}Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){(e||0===e)&&(this._value=e,this.recalculatePercentage())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setBarWidth",{get:function(){return this.recalculatePercentage(),this.isBs3?"":this.percent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs3",{get:function(){return Q()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.progress.addBar(this)},e.prototype.ngOnDestroy=function(){this.progress.removeBar(this)},e.prototype.recalculatePercentage=function(){this.percent=+(this.value/this.progress.max*100).toFixed(2);var e=this.progress.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(this.percent-=e-100)},e.decorators=[{type:t.Component,args:[{selector:"bar",template:'<div class="progress-bar" style="min-width: 0;" role="progressbar" [ngClass]="type && \'progress-bar-\' + type + \' bg-\' + type" [ngStyle]="{width: (isBs3 ? (percent < 100 ? percent : 100) + \'%\' : \'100%\'), transition: transition}" aria-valuemin="0" [attr.aria-valuenow]="value" [attr.aria-valuetext]="percent.toFixed(0) + \'%\'" [attr.aria-valuemax]="max"> <ng-content></ng-content> </div> '}]}],e.ctorParameters=function(){return[{type:hi,decorators:[{type:t.Host}]}]},e.propDecorators={type:[{type:t.Input}],value:[{type:t.Input}],setBarWidth:[{type:t.HostBinding,args:["style.width.%"]}]}}(),function(){function e(){this.animate=!0,this.max=100}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),gi=(function(){function e(e){this.isStacked=!1,Object.assign(this,e)}Object.defineProperty(e.prototype,"value",{set:function(e){this.isStacked=Array.isArray(e),this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs3",{get:function(){return Q()},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"progressbar",template:'<div progress [animate]="animate" [max]="max" [style.width]="!isBs3 ? \'100%\' : \'auto\'"> <bar [type]="type" [value]="_value" *ngIf="!isStacked"> <ng-content></ng-content> </bar> <ng-template [ngIf]="isStacked"> <bar *ngFor="let item of _value" [type]="item.type" [value]="item.value">{{ item.label }} </bar> </ng-template> </div> ',styles:["\n    :host {\n      width: 100%;\n    }\n  "]}]}],e.ctorParameters=function(){return[{type:fi}]},e.propDecorators={animate:[{type:t.Input}],max:[{type:t.Input}],type:[{type:t.Input}],value:[{type:t.Input}]}}(),{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return mi}),multi:!0}),mi=function(){function e(e){this.changeDetection=e,this.max=5,this.onHover=new t.EventEmitter,this.onLeave=new t.EventEmitter,this.onChange=Function.prototype,this.onTouched=Function.prototype}return e.prototype.onKeydown=function(e){if(-1!==[37,38,39,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=38===e.which||39===e.which?1:-1;this.rate(this.value+t)}},e.prototype.ngOnInit=function(){this.max="undefined"!=typeof this.max?this.max:5,this.titles="undefined"!=typeof this.titles&&this.titles.length>0?this.titles:["one","two","three","four","five"],this.range=this.buildTemplateObjects(this.max)},e.prototype.writeValue=function(e){if(e%1!==e)return this.value=Math.round(e),this.preValue=e,void this.changeDetection.markForCheck();this.preValue=e,this.value=e,this.changeDetection.markForCheck()},e.prototype.enter=function(e){this.readonly||(this.value=e,this.changeDetection.markForCheck(),this.onHover.emit(e))},e.prototype.reset=function(){this.value=this.preValue,this.changeDetection.markForCheck(),this.onLeave.emit(this.value)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.rate=function(e){!this.readonly&&e>=0&&e<=this.range.length&&(this.writeValue(e),this.onChange(e))},e.prototype.buildTemplateObjects=function(e){for(var t=[],n=0;n<e;n++)t.push({index:n,title:this.titles[n]||n+1});return t},e.decorators=[{type:t.Component,args:[{selector:"rating",template:'<span (mouseleave)="reset()" (keydown)="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" [attr.aria-valuemax]="range.length" [attr.aria-valuenow]="value"> <ng-template #star let-value="value" let-index="index">{{index < value ? \'&#9733;\' : \'&#9734;\'}}</ng-template> <ng-template ngFor let-r [ngForOf]="range" let-index="index"> <span class="sr-only">({{ index < value ? \'*\' : \' \' }})</span> <span class="bs-rating-star" (mouseenter)="enter(index + 1)" (click)="rate(index + 1)" [title]="r.title" [style.cursor]="readonly ? \'default\' : \'pointer\'" [class.active]="index < value"> <ng-template [ngTemplateOutlet]="customTemplate || star" [ngTemplateOutletContext]="{index: index, value: value}"> </ng-template> </span> </ng-template> </span> ',providers:[gi],changeDetection:t.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]},e.propDecorators={max:[{type:t.Input}],readonly:[{type:t.Input}],titles:[{type:t.Input}],customTemplate:[{type:t.Input}],onHover:[{type:t.Output}],onLeave:[{type:t.Output}],onKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}]},e}(),vi=function(){function e(){this.onCapture=new h.Subject}return e.prototype.dragStart=function(e){this.draggableItem=e},e.prototype.getItem=function(){return this.draggableItem},e.prototype.captureItem=function(e,t){return this.draggableItem.overZoneIndex!==e&&(this.draggableItem.lastZoneIndex=this.draggableItem.overZoneIndex,this.draggableItem.overZoneIndex=e,this.onCapture.next(this.draggableItem),this.draggableItem=Object.assign({},this.draggableItem,{overZoneIndex:e,i:t})),this.draggableItem},e.prototype.onCaptureItem=function(){return this.onCapture},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),yi=(function(){function e(n){var i=this;this.wrapperClass="",this.wrapperStyle={},this.itemClass="",this.itemStyle={},this.itemActiveClass="",this.itemActiveStyle={},this.placeholderClass="",this.placeholderStyle={},this.placeholderItem="",this.onChange=new t.EventEmitter,this.showPlaceholder=!1,this.activeItem=-1,this.onTouched=Function.prototype,this.onChanged=Function.prototype,this.transfer=n,this.currentZoneIndex=e.globalZoneIndex++,this.transfer.onCaptureItem().subscribe(function(e){return i.onDrop(e)})}Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e;var t=this.items.map(function(e){return e.initData});this.onChanged(t),this.onChange.emit(t)},enumerable:!0,configurable:!0}),e.prototype.onItemDragstart=function(e,t,n){this.initDragstartEvent(e),this.onTouched(),this.transfer.dragStart({event:e,item:t,i:n,initialIndex:n,lastZoneIndex:this.currentZoneIndex,overZoneIndex:this.currentZoneIndex})},e.prototype.onItemDragover=function(e,t){if(this.transfer.getItem()){e.preventDefault();var n=this.transfer.captureItem(this.currentZoneIndex,this.items.length),i=[];i=this.items.length?n.i>t?this.items.slice(0,t).concat([n.item],this.items.slice(t,n.i),this.items.slice(n.i+1)):this.items.slice(0,n.i).concat(this.items.slice(n.i+1,t+1),[n.item],this.items.slice(t+1)):[n.item],this.items=i,n.i=t,this.activeItem=t,this.updatePlaceholderState()}},e.prototype.cancelEvent=function(e){this.transfer.getItem()&&e&&e.preventDefault()},e.prototype.onDrop=function(e){e&&e.overZoneIndex!==this.currentZoneIndex&&e.lastZoneIndex===this.currentZoneIndex&&(this.items=this.items.filter(function(t,n){return n!==e.i}),this.updatePlaceholderState()),this.resetActiveItem(undefined)},e.prototype.resetActiveItem=function(e){this.cancelEvent(e),this.activeItem=-1},e.prototype.registerOnChange=function(e){this.onChanged=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){var t=this;this.items=e?e.map(function(e,n){return{id:n,initData:e,value:t.fieldName?e[t.fieldName]:e}}):[],this.updatePlaceholderState()},e.prototype.updatePlaceholderState=function(){this.showPlaceholder=!this._items.length},e.prototype.getItemStyle=function(e){return e?Object.assign({},this.itemStyle,this.itemActiveStyle):this.itemStyle},e.prototype.initDragstartEvent=function(e){e.dataTransfer.setData("Text","placeholder")},e.globalZoneIndex=0,e.decorators=[{type:t.Component,args:[{selector:"bs-sortable",exportAs:"bs-sortable",template:'\n<div\n    [ngClass]="wrapperClass"\n    [ngStyle]="wrapperStyle"\n    [ngStyle]="wrapperStyle"\n    (dragover)="cancelEvent($event)"\n    (dragenter)="cancelEvent($event)"\n    (drop)="resetActiveItem($event)"\n    (mouseleave)="resetActiveItem($event)">\n  <div\n        *ngIf="showPlaceholder"\n        [ngClass]="placeholderClass"\n        [ngStyle]="placeholderStyle"\n        (dragover)="onItemDragover($event, 0)"\n        (dragenter)="cancelEvent($event)"\n    >{{placeholderItem}}</div>\n    <div\n        *ngFor="let item of items; let i=index;"\n        [ngClass]="[ itemClass, i === activeItem ? itemActiveClass : \'\' ]"\n        [ngStyle]="getItemStyle(i === activeItem)"\n        draggable="true"\n        (dragstart)="onItemDragstart($event, item, i)"\n        (dragend)="resetActiveItem($event)"\n        (dragover)="onItemDragover($event, i)"\n        (dragenter)="cancelEvent($event)"\n    ><ng-template [ngTemplateOutlet]="itemTemplate || defItemTemplate"\n  [ngTemplateOutletContext]="{item:item, index: i}"></ng-template></div>\n</div>\n\n<ng-template #defItemTemplate let-item="item">{{item.value}}</ng-template>  \n',providers:[{provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.ctorParameters=function(){return[{type:vi}]},e.propDecorators={fieldName:[{type:t.Input}],wrapperClass:[{type:t.Input}],wrapperStyle:[{type:t.Input}],itemClass:[{type:t.Input}],itemStyle:[{type:t.Input}],itemActiveClass:[{type:t.Input}],itemActiveStyle:[{type:t.Input}],placeholderClass:[{type:t.Input}],placeholderStyle:[{type:t.Input}],placeholderItem:[{type:t.Input}],itemTemplate:[{type:t.Input}],onChange:[{type:t.Output}]}}(),function(){function e(e){this.viewRef=e}Object.defineProperty(e.prototype,"ngTransclude",{get:function(){return this._ngTransclude},set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"[ngTransclude]"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef}]},e.propDecorators={ngTransclude:[{type:t.Input}]}}(),function(){function e(){this.type="tabs"}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),bi=function(){function e(e,t){this.renderer=t,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,e)}return Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(e){this._vertical=e,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"justified",{get:function(){return this._justified},set:function(e){this._justified=e,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this.setClassMap()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.isDestroyed=!0},e.prototype.addTab=function(e){this.tabs.push(e),e.active=1===this.tabs.length&&"undefined"==typeof e.active},e.prototype.removeTab=function(e,t){void 0===t&&(t={reselect:!0,emit:!0});var n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){var i=this.getClosestTabIndex(n);this.tabs[i].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}},e.prototype.getClosestTabIndex=function(e){var t=this.tabs.length;if(!t)return-1;for(var n=1;n<=t;n+=1){var i=e-n,a=e+n;if(this.tabs[i]&&!this.tabs[i].disabled)return i;if(this.tabs[a]&&!this.tabs[a].disabled)return a}return-1},e.prototype.hasAvailableTabs=function(e){var t=this.tabs.length;if(!t)return!1;for(var n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1},e.prototype.setClassMap=function(){this.classMap=(e={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},e["nav-"+this.type]=!0,e);var e},e.decorators=[{type:t.Component,args:[{selector:"tabset",template:'<ul class="nav" [ngClass]="classMap" (click)="$event.preventDefault()"> <li *ngFor="let tabz of tabs" [ngClass]="[\'nav-item\', tabz.customClass || \'\']" [class.active]="tabz.active" [class.disabled]="tabz.disabled"> <a href="javascript:void(0);" class="nav-link" [attr.id]="tabz.id ? tabz.id + \'-link\' : \'\'" [class.active]="tabz.active" [class.disabled]="tabz.disabled" (click)="tabz.active = true"> <span [ngTransclude]="tabz.headingRef">{{ tabz.heading }}</span> <span *ngIf="tabz.removable" (click)="$event.preventDefault(); removeTab(tabz);" class="bs-remove-tab"> &#10060;</span> </a> </li> </ul> <div class="tab-content"> <ng-content></ng-content> </div> '}]}],e.ctorParameters=function(){return[{type:yi},{type:t.Renderer2}]},e.propDecorators={vertical:[{type:t.Input}],justified:[{type:t.Input}],type:[{type:t.Input}],clazz:[{type:t.HostBinding,args:["class.tab-container"]}]},e}(),_i=(function(){function e(e,n,i){this.elementRef=n,this.renderer=i,this.select=new t.EventEmitter,this.deselect=new t.EventEmitter,this.removed=new t.EventEmitter,this.addClass=!0,this.tabset=e,this.tabset.addTab(this)}Object.defineProperty(e.prototype,"customClass",{get:function(){return this._customClass},set:function(e){var t=this;this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.removeClass(t.elementRef.nativeElement,e)}),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.addClass(t.elementRef.nativeElement,e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},set:function(e){var t=this;this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.select.emit(this),this.tabset.tabs.forEach(function(e){e!==t&&(e.active=!1)})))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.removable=this.removable},e.prototype.ngOnDestroy=function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})},e.decorators=[{type:t.Directive,args:[{selector:"tab, [tab]"}]}],e.ctorParameters=function(){return[{type:bi},{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={heading:[{type:t.Input}],id:[{type:t.HostBinding,args:["attr.id"]},{type:t.Input}],disabled:[{type:t.Input}],removable:[{type:t.Input}],customClass:[{type:t.Input}],active:[{type:t.HostBinding,args:["class.active"]},{type:t.Input}],select:[{type:t.Output}],deselect:[{type:t.Output}],removed:[{type:t.Output}],addClass:[{type:t.HostBinding,args:["class.tab-pane"]}]}}(),function(){function e(){}return e.prototype.writeValue=function(t){return{type:e.WRITE_VALUE,payload:t}},e.prototype.changeHours=function(t){return{type:e.CHANGE_HOURS,payload:t}},e.prototype.changeMinutes=function(t){return{type:e.CHANGE_MINUTES,payload:t}},e.prototype.changeSeconds=function(t){return{type:e.CHANGE_SECONDS,payload:t}},e.prototype.setTime=function(t){return{type:e.SET_TIME_UNIT,payload:t}},e.prototype.updateControls=function(t){return{type:e.UPDATE_CONTROLS,payload:t}},e.WRITE_VALUE="[timepicker] write value from ng model",e.CHANGE_HOURS="[timepicker] change hours",e.CHANGE_MINUTES="[timepicker] change minutes",e.CHANGE_SECONDS="[timepicker] change seconds",e.SET_TIME_UNIT="[timepicker] set time unit",e.UPDATE_CONTROLS="[timepicker] update controls",e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}()),Ci=10,wi=24,Si=12,Mi=60,Di=60,xi=function(){function e(){this.hourStep=1,this.minuteStep=5,this.secondsStep=10,this.showMeridian=!0,this.meridians=["AM","PM"],this.readonlyInput=!1,this.mousewheel=!0,this.arrowkeys=!0,this.showSpinners=!0,this.showSeconds=!1}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),Ii={value:null,config:new xi,controls:{canIncrementHours:!0,canIncrementMinutes:!0,canIncrementSeconds:!0,canDecrementHours:!0,canDecrementMinutes:!0,canDecrementSeconds:!0}},Fi=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oi=function(e){function n(){var t=new l.BehaviorSubject({type:"[mini-ngrx] dispatcher init"}),n=new cn(Ii,t,Ne);return e.call(this,t,Ne,n)||this}return Fi(n,e),n.decorators=[{type:t.Injectable}],n.ctorParameters=function(){return[]},n}(Tt),ki={provide:a.NG_VALUE_ACCESSOR,useExisting:t.forwardRef(function(){return Ti}),multi:!0},Ti=function(){function e(e,n,i,a){var o=this;this._store=i,this._timepickerActions=a,this.isValid=new t.EventEmitter,this.invalidHours=!1,this.invalidMinutes=!1,this.invalidSeconds=!1,this.onChange=Function.prototype,this.onTouched=Function.prototype,Object.assign(this,e),i.select(function(e){return e.value}).subscribe(function(e){o._renderTime(e),o.onChange(e),o._store.dispatch(o._timepickerActions.updateControls(Ae(o)))}),i.select(function(e){return e.controls}).subscribe(function(e){o.isValid.emit(Pe(o.hours,o.minutes,o.seconds,o.isPM())),Object.assign(o,e),n.markForCheck()})}return Object.defineProperty(e.prototype,"isSpinnersVisible",{get:function(){return this.showSpinners&&!this.readonlyInput},enumerable:!0,configurable:!0}),e.prototype.isPM=function(){return this.showMeridian&&this.meridian===this.meridians[1]},e.prototype.prevDef=function(e){e.preventDefault()},e.prototype.wheelSign=function(e){return-1*Math.sign(e.deltaY)},e.prototype.ngOnChanges=function(e){this._store.dispatch(this._timepickerActions.updateControls(Ae(this)))},e.prototype.changeHours=function(e,t){void 0===t&&(t=""),this._store.dispatch(this._timepickerActions.changeHours({step:e,source:t}))},e.prototype.changeMinutes=function(e,t){void 0===t&&(t=""),this._store.dispatch(this._timepickerActions.changeMinutes({step:e,source:t}))},e.prototype.changeSeconds=function(e,t){void 0===t&&(t=""),this._store.dispatch(this._timepickerActions.changeSeconds({step:e,source:t}))},e.prototype.updateHours=function(e){this.hours=e,this._updateTime()},e.prototype.updateMinutes=function(e){this.minutes=e,this._updateTime()},e.prototype.updateSeconds=function(e){this.seconds=e,this._updateTime()},e.prototype._updateTime=function(){var e=this.showSeconds?this.seconds:void 0;Pe(this.hours,this.minutes,e,this.isPM())?this._store.dispatch(this._timepickerActions.setTime({hour:this.hours,minute:this.minutes,seconds:this.seconds,isPM:this.isPM()})):this.onChange(null)},e.prototype.toggleMeridian=function(){if(this.showMeridian&&!this.readonlyInput){this._store.dispatch(this._timepickerActions.changeHours({step:12,source:""}))}},e.prototype.writeValue=function(e){Se(e)&&this._store.dispatch(this._timepickerActions.writeValue(Fe(e)))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.readonlyInput=e},e.prototype._renderTime=function(e){if(!Se(e))return this.hours="",this.minutes="",this.seconds="",void(this.meridian=this.meridians[0]);var t=Fe(e),n=t.getHours();this.showMeridian&&(this.meridian=this.meridians[n>=12?1:0],0===(n%=12)&&(n=12)),this.hours=Te(n),this.minutes=Te(t.getMinutes()),this.seconds=Te(t.getUTCSeconds())},e.decorators=[{type:t.Component,args:[{selector:"timepicker",changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[ki,Oi],template:'<table> <tbody> <tr class="text-center" [class.hidden]="!isSpinnersVisible"> \x3c!-- increment hours button--\x3e <td> <a class="btn btn-link" [class.disabled]="!canIncrementHours" (click)="changeHours(hourStep)" ><span class="bs-chevron bs-chevron-up"></span></a> </td> \x3c!-- divider --\x3e <td>&nbsp;&nbsp;&nbsp;</td> \x3c!-- increment minutes button --\x3e <td> <a class="btn btn-link" [class.disabled]="!canIncrementMinutes" (click)="changeMinutes(minuteStep)" ><span class="bs-chevron bs-chevron-up"></span></a> </td> \x3c!-- divider --\x3e <td *ngIf="showSeconds">&nbsp;</td> \x3c!-- increment seconds button --\x3e <td *ngIf="showSeconds"> <a class="btn btn-link" [class.disabled]="!canIncrementSeconds" (click)="changeSeconds(secondsStep)"> <span class="bs-chevron bs-chevron-up"></span> </a> </td> \x3c!-- space between --\x3e <td>&nbsp;&nbsp;&nbsp;</td> \x3c!-- meridian placeholder--\x3e <td *ngIf="showMeridian"></td> </tr> <tr> \x3c!-- hours --\x3e <td class="form-group" [class.has-error]="invalidHours"> <input type="text" class="form-control text-center bs-timepicker-field" placeholder="HH" maxlength="2" [readonly]="readonlyInput" [value]="hours" (wheel)="prevDef($event);changeHours(hourStep * wheelSign($event), \'wheel\')" (keydown.ArrowUp)="changeHours(hourStep, \'key\')" (keydown.ArrowDown)="changeHours(-hourStep, \'key\')" (change)="updateHours($event.target.value)"></td> \x3c!-- divider --\x3e <td>&nbsp;:&nbsp;</td> \x3c!-- minutes --\x3e <td class="form-group" [class.has-error]="invalidMinutes"> <input type="text" class="form-control text-center bs-timepicker-field" placeholder="MM" maxlength="2" [readonly]="readonlyInput" [value]="minutes" (wheel)="prevDef($event);changeMinutes(minuteStep * wheelSign($event), \'wheel\')" (keydown.ArrowUp)="changeMinutes(minuteStep, \'key\')" (keydown.ArrowDown)="changeMinutes(-minuteStep, \'key\')" (change)="updateMinutes($event.target.value)"> </td> \x3c!-- divider --\x3e <td *ngIf="showSeconds">&nbsp;:&nbsp;</td> \x3c!-- seconds --\x3e <td class="form-group" *ngIf="showSeconds" [class.has-error]="invalidSeconds"> <input type="text" class="form-control text-center bs-timepicker-field" placeholder="SS" maxlength="2" [readonly]="readonlyInput" [value]="seconds" (wheel)="prevDef($event);changeSeconds(secondsStep * wheelSign($event), \'wheel\')" (keydown.ArrowUp)="changeSeconds(secondsStep, \'key\')" (keydown.ArrowDown)="changeSeconds(-secondsStep, \'key\')" (change)="updateSeconds($event.target.value)"> </td> \x3c!-- space between --\x3e <td>&nbsp;&nbsp;&nbsp;</td> \x3c!-- meridian --\x3e <td *ngIf="showMeridian"> <button type="button" class="btn btn-default text-center" [disabled]="readonlyInput" [class.disabled]="readonlyInput" (click)="toggleMeridian()" >{{ meridian }} </button> </td> </tr> <tr class="text-center" [class.hidden]="!isSpinnersVisible"> \x3c!-- decrement hours button--\x3e <td> <a class="btn btn-link" [class.disabled]="!canDecrementHours" (click)="changeHours(-hourStep)"> <span class="bs-chevron bs-chevron-down"></span> </a> </td> \x3c!-- divider --\x3e <td>&nbsp;&nbsp;&nbsp;</td> \x3c!-- decrement minutes button--\x3e <td> <a class="btn btn-link" [class.disabled]="!canDecrementMinutes" (click)="changeMinutes(-minuteStep)"> <span class="bs-chevron bs-chevron-down"></span> </a> </td> \x3c!-- divider --\x3e <td *ngIf="showSeconds">&nbsp;</td> \x3c!-- decrement seconds button--\x3e <td *ngIf="showSeconds"> <a class="btn btn-link" [class.disabled]="!canDecrementSeconds" (click)="changeSeconds(-secondsStep)"> <span class="bs-chevron bs-chevron-down"></span> </a> </td> \x3c!-- space between --\x3e <td>&nbsp;&nbsp;&nbsp;</td> \x3c!-- meridian placeholder--\x3e <td *ngIf="showMeridian"></td> </tr> </tbody> </table> ',styles:["\n    .bs-chevron{\n      border-style: solid;\n      display: block;\n      width: 9px;\n      height: 9px;\n      position: relative;\n      border-width: 3px 0px 0 3px;\n    }\n    .bs-chevron-up{\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n      top: 2px;\n    }\n    .bs-chevron-down{\n      -webkit-transform: rotate(-135deg);\n      transform: rotate(-135deg);\n      top: -2px;\n    }\n    .bs-timepicker-field{\n      width: 50px;\n    }\n  "],encapsulation:t.ViewEncapsulation.None}]}],e.ctorParameters=function(){return[{type:xi},{type:t.ChangeDetectorRef},{type:Oi},{type:_i}]},e.propDecorators={hourStep:[{type:t.Input}],minuteStep:[{type:t.Input}],secondsStep:[{type:t.Input}],readonlyInput:[{type:t.Input}],mousewheel:[{type:t.Input}],arrowkeys:[{type:t.Input}],showSpinners:[{type:t.Input}],showMeridian:[{type:t.Input}],showSeconds:[{type:t.Input}],meridians:[{type:t.Input}],min:[{type:t.Input}],max:[{type:t.Input}],isValid:[{type:t.Output}]},e}(),Pi=function(){function e(){this.placement="top",this.triggers="hover focus"}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),Ei=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e.prototype,"isBs3",{get:function(){return Q()},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.classMap={"in":!1,fade:!1},this.classMap[this.placement]=!0,this.classMap["tooltip-"+this.placement]=!0,this.classMap["in"]=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)},e.decorators=[{type:t.Component,args:[{selector:"bs-tooltip-container",changeDetection:t.ChangeDetectionStrategy.OnPush,host:{"[class]":'"tooltip in tooltip-" + placement + " " + "bs-tooltip-" + placement + " " + placement + " " + containerClass',"[class.show]":"!isBs3",role:"tooltip"},styles:["\n    :host.tooltip {\n      display: block;\n    }\n    :host.bs-tooltip-top .arrow, :host.bs-tooltip-bottom .arrow {\n      left: calc(50% - 2.5px);\n    }\n    :host.bs-tooltip-left .arrow, :host.bs-tooltip-right .arrow {\n      top: calc(50% - 2.5px);\n    }\n  "],template:'\n    <div class="tooltip-arrow arrow"></div>\n    <div class="tooltip-inner"><ng-content></ng-content></div>\n    '}]}],e.ctorParameters=function(){return[{type:Pi}]},e}(),Ai=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ni=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Li=function(){function e(e,n,i,a,o){this.tooltipChange=new t.EventEmitter,this.containerClass="",this._animation=!0,this._delay=0,this._fadeDuration=150,this.tooltipStateChanged=new t.EventEmitter,this._tooltip=a.createLoader(i,e,n).provide({provide:Pi,useValue:o}),Object.assign(this,o),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._tooltip.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"htmlContent",{set:function(e){we("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_placement",{set:function(e){we("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_isOpen",{get:function(){return we("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen},set:function(e){we("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_enable",{get:function(){return we("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled},set:function(e){we("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_appendToBody",{get:function(){return we('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container},set:function(e){we('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=e?"body":this.container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_popupClass",{set:function(e){we("tooltipClass deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tooltipContext",{set:function(e){we("tooltipContext deprecated")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_tooltipTrigger",{get:function(){return we("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers},set:function(e){we("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(e||"").toString()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._tooltip.listen({triggers:this.triggers,show:function(){return e.show()}}),this.tooltipChange.subscribe(function(t){t||e._tooltip.hide()})},e.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},e.prototype.show=function(){var e=this;if(!(this.isOpen||this.isDisabled||this._delayTimeoutId)&&this.tooltip){var t=function(){e._delayTimeoutId&&(e._delayTimeoutId=undefined),e._tooltip.attach(Ei).to(e.container).position({attachment:e.placement}).show({content:e.tooltip,placement:e.placement,containerClass:e.containerClass})};this._delay?this._delayTimeoutId=setTimeout(function(){t()},this._delay):t()}},e.prototype.hide=function(){var e=this;this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=undefined),this._tooltip.isShown&&(this._tooltip.instance.classMap["in"]=!1,setTimeout(function(){e._tooltip.hide()},this._fadeDuration))},e.prototype.ngOnDestroy=function(){this._tooltip.dispose()},e.decorators=[{type:t.Directive,args:[{selector:"[tooltip], [tooltipHtml]",exportAs:"bs-tooltip"}]}],e.ctorParameters=function(){return[{type:t.ViewContainerRef},{type:t.Renderer2},{type:t.ElementRef},{type:An},{type:Pi}]},e.propDecorators={tooltip:[{type:t.Input}],tooltipChange:[{type:t.Output}],placement:[{type:t.Input}],triggers:[{type:t.Input}],container:[{type:t.Input}],isOpen:[{type:t.Input}],isDisabled:[{type:t.Input}],containerClass:[{type:t.Input}],onShown:[{type:t.Output}],onHidden:[{type:t.Output}],htmlContent:[{type:t.Input,args:["tooltipHtml"]}],_placement:[{type:t.Input,args:["tooltipPlacement"]}],_isOpen:[{type:t.Input,args:["tooltipIsOpen"]}],_enable:[{type:t.Input,args:["tooltipEnable"]}],_appendToBody:[{type:t.Input,args:["tooltipAppendToBody"]}],_animation:[{type:t.Input,args:["tooltipAnimation"]}],_popupClass:[{type:t.Input,args:["tooltipClass"]}],_tooltipContext:[{type:t.Input,args:["tooltipContext"]}],_delay:[{type:t.Input,args:["tooltipPopupDelay"]}],_fadeDuration:[{type:t.Input,args:["tooltipFadeDuration"]}],_tooltipTrigger:[{type:t.Input,args:["tooltipTrigger"]}],tooltipStateChanged:[{type:t.Output}]},Ai([ee(),Ni("design:type",Object)],e.prototype,"tooltip",void 0),e}(),Ri=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[Pi,An,En]}},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[Li,Ei],exports:[Li],entryComponents:[Ei]}]}],e.ctorParameters=function(){return[]},e}(),ji={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"},Vi=function(){function e(e,t,n){void 0===t&&(t=e),void 0===n&&(n=!1),this.item=e,this.value=t,this.header=n}return e.prototype.isHeader=function(){return this.header},e.prototype.toString=function(){return this.value},e}(),Hi=function(){function e(e,t){this.renderer=t,this.isFocused=!1,this._matches=[],this.isScrolledIntoView=function(e){var t=this.ulElement.nativeElement.scrollTop,n=t+this.ulElement.nativeElement.offsetHeight,i=e.offsetTop;return i+e.offsetHeight<=n&&i>=t},this.element=e}return Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Q()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matches",{get:function(){return this._matches},set:function(e){var t=this;this._matches=e,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(function(){t.setScrollableMode()}),this._matches.length>0&&(this._active=this._matches[0],this._active.isHeader()&&this.nextActiveMatch())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsListTemplate",{get:function(){return this.parent?this.parent.optionsListTemplate:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadScrollable",{get:function(){return!!this.parent&&this.parent.typeaheadScrollable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typeaheadOptionsInScrollableView",{get:function(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemTemplate",{get:function(){return this.parent?this.parent.typeaheadItemTemplate:undefined},enumerable:!0,configurable:!0}),e.prototype.selectActiveMatch=function(){this.selectMatch(this._active)},e.prototype.prevActiveMatch=function(){var e=this.matches.indexOf(this._active);this._active=this.matches[e-1<0?this.matches.length-1:e-1],this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(e)},e.prototype.nextActiveMatch=function(){var e=this.matches.indexOf(this._active);this._active=this.matches[e+1>this.matches.length-1?0:e+1],this._active.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(e)},e.prototype.selectActive=function(e){this.isFocused=!0,this._active=e},e.prototype.hightlight=function(e,t){var n,i,a=e.value,o=(this.parent&&this.parent.typeaheadLatinize?Le(a):a).toLowerCase();if("object"==typeof t)for(var r=t.length,s=0;s<r;s+=1)n=o.indexOf(t[s]),i=t[s].length,n>=0&&i>0&&(a=a.substring(0,n)+"<strong>"+a.substring(n,n+i)+"</strong>"+a.substring(n+i),o=o.substring(0,n)+"        "+" ".repeat(i)+"         "+o.substring(n+i));else t&&(n=o.indexOf(t),i=t.length,n>=0&&i>0&&(a=a.substring(0,n)+"<strong>"+a.substring(n,n+i)+"</strong>"+a.substring(n+i)));return a},e.prototype.focusLost=function(){this.isFocused=!1},e.prototype.isActive=function(e){return this._active===e},e.prototype.selectMatch=function(e,t){var n=this;return void 0===t&&(t=void 0),t&&(t.stopPropagation(),t.preventDefault()),this.parent.changeModel(e),setTimeout(function(){return n.parent.typeaheadOnSelect.emit(e)},0),!1},e.prototype.setScrollableMode=function(){if(this.ulElement||(this.ulElement=this.element),this.liElements.first){var e=wt.getStyles(this.ulElement.nativeElement),t=wt.getStyles(this.liElements.first.nativeElement),n=parseFloat((e["padding-bottom"]?e["padding-bottom"]:"").replace("px","")),i=parseFloat((e["padding-top"]?e["padding-top"]:"0").replace("px","")),a=parseFloat((t.height?t.height:"0").replace("px","")),o=this.typeaheadOptionsInScrollableView*a;this.guiHeight=o+i+n+"px"}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")},e.prototype.scrollPrevious=function(e){if(0!==e){if(this.liElements){var t=this.liElements.toArray()[e-1];t&&!this.isScrolledIntoView(t.nativeElement)&&(this.ulElement.nativeElement.scrollTop=t.nativeElement.offsetTop)}}else this.scrollToBottom()},e.prototype.scrollNext=function(e){if(e+1>this.matches.length-1)this.scrollToTop();else if(this.liElements){var t=this.liElements.toArray()[e+1];t&&!this.isScrolledIntoView(t.nativeElement)&&(this.ulElement.nativeElement.scrollTop=t.nativeElement.offsetTop-this.ulElement.nativeElement.offsetHeight+t.nativeElement.offsetHeight)}},e.prototype.scrollToBottom=function(){this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight},e.prototype.scrollToTop=function(){this.ulElement.nativeElement.scrollTop=0},e.decorators=[{type:t.Component,args:[{selector:"typeahead-container",template:'\x3c!-- inject options list template --\x3e <ng-template [ngTemplateOutlet]="optionsListTemplate || (isBs4 ? bs4Template : bs3Template)" [ngTemplateOutletContext]="{matches:matches, itemTemplate:itemTemplate, query:query}"></ng-template> \x3c!-- default options item template --\x3e <ng-template #bsItemTemplate let-match="match" let-query="query"><span [innerHtml]="hightlight(match, query)"></span> </ng-template> \x3c!-- Bootstrap 3 options list template --\x3e <ng-template #bs3Template> <ul class="dropdown-menu" #ulElement [style.overflow-y]="needScrollbar ? \'scroll\': \'auto\'" [style.height]="needScrollbar ? guiHeight: \'auto\'"> <ng-template ngFor let-match let-i="index" [ngForOf]="matches"> <li #liElements *ngIf="match.isHeader()" class="dropdown-header">{{ match }}</li> <li #liElements *ngIf="!match.isHeader()" [class.active]="isActive(match)" (mouseenter)="selectActive(match)"> <a href="#" (click)="selectMatch(match, $event)" tabindex="-1"> <ng-template [ngTemplateOutlet]="itemTemplate || bsItemTemplate" [ngTemplateOutletContext]="{item:match.item, index:i, match:match, query:query}"></ng-template> </a> </li> </ng-template> </ul> </ng-template> \x3c!-- Bootstrap 4 options list template --\x3e <ng-template #bs4Template> <ng-template ngFor let-match let-i="index" [ngForOf]="matches"> <h6 *ngIf="match.isHeader()" class="dropdown-header">{{ match }}</h6> <ng-template [ngIf]="!match.isHeader()"> <button #liElements class="dropdown-item" (click)="selectMatch(match, $event)" (mouseenter)="selectActive(match)" [class.active]="isActive(match)"> <ng-template [ngTemplateOutlet]="itemTemplate || bsItemTemplate" [ngTemplateOutletContext]="{item:match.item, index:i, match:match, query:query}"></ng-template> </button> </ng-template> </ng-template> </ng-template> ',host:{"class":"dropdown open","[class.dropdown-menu]":"isBs4","[style.overflow-y]":"isBs4 && needScrollbar ? 'scroll': 'visible'","[style.height]":"isBs4 && needScrollbar ? guiHeight: 'auto'","[style.visibility]":"typeaheadScrollable ? 'hidden' : 'visible'","[class.dropup]":"dropup",style:"position: absolute;display: block;"}}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},e.propDecorators={ulElement:[{type:t.ViewChild,args:["ulElement"]}],liElements:[{type:t.ViewChildren,args:["liElements"]}],focusLost:[{type:t.HostListener,args:["mouseleave"]},{type:t.HostListener,args:["blur"]}]},e}(),Bi=function(){function e(e,n,i,a,o,r){this.ngControl=e,this.element=n,this.renderer=a,this.changeDetection=r,this.typeaheadMinLength=void 0,this.typeaheadAsync=void 0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadLoading=new t.EventEmitter,this.typeaheadNoResults=new t.EventEmitter,this.typeaheadOnSelect=new t.EventEmitter,this.typeaheadOnBlur=new t.EventEmitter,this.dropup=!1,this.isTypeaheadOptionsListActive=!1,this.keyUpEventEmitter=new t.EventEmitter,this.placement="bottom-left",this._subscriptions=[],this._typeahead=o.createLoader(n,i,a)}return e.prototype.ngOnInit=function(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,this.typeaheadWaitMs=this.typeaheadWaitMs||0,this.typeaheadAsync!==undefined||this.typeahead instanceof o.Observable||(this.typeaheadAsync=!1),this.typeahead instanceof o.Observable&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions()},e.prototype.onInput=function(e){var t=e.target.value!==undefined?e.target.value:e.target.textContent!==undefined?e.target.textContent:e.target.innerText;null!=t&&t.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(e.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())},e.prototype.onChange=function(e){if(this._container){if(27===e.keyCode)return void this.hide();if(38===e.keyCode)return void this._container.prevActiveMatch();if(40===e.keyCode)return void this._container.nextActiveMatch();if(13===e.keyCode||9===e.keyCode)return void this._container.selectActiveMatch()}},e.prototype.onFocus=function(){0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(""))},e.prototype.onBlur=function(){this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active)},e.prototype.onKeydown=function(e){this._container&&(13!==e.keyCode?9!==e.keyCode||e.preventDefault():e.preventDefault())},e.prototype.changeModel=function(e){var t=e.value;this.ngControl.viewToModelUpdate(t),this.ngControl.control.setValue(t),this.changeDetection.markForCheck(),this.hide()},Object.defineProperty(e.prototype,"matches",{get:function(){return this._matches},enumerable:!0,configurable:!0}),e.prototype.show=function(){var e=this;this._typeahead.attach(Hi).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",function(){e.onOutsideClick()}),this._container=this._typeahead.instance,this._container.parent=this;var t=(this.typeaheadLatinize?Le(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.typeaheadSingleWords?Re(t,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):t,this._container.matches=this._matches,this.element.nativeElement.focus()},e.prototype.hide=function(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=null)},e.prototype.onOutsideClick=function(){this._container&&!this._container.isFocused&&this.hide()},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++){t[e].unsubscribe()}this._typeahead.dispose()},e.prototype.asyncActions=function(){var e=this;this._subscriptions.push(this.keyUpEventEmitter.debounceTime(this.typeaheadWaitMs).mergeMap(function(){return e.typeahead}).subscribe(function(t){e.finalizeAsyncCall(t)}))},e.prototype.syncActions=function(){var e=this;this._subscriptions.push(this.keyUpEventEmitter.debounceTime(this.typeaheadWaitMs).mergeMap(function(t){var n=e.normalizeQuery(t);return o.Observable.from(e.typeahead).filter(function(t){return t&&e.testMatch(e.normalizeOption(t),n)}).toArray()}).subscribe(function(t){e.finalizeAsyncCall(t)}))},e.prototype.normalizeOption=function(e){var t=je(e,this.typeaheadOptionField);return(this.typeaheadLatinize?Le(t):t).toLowerCase()},e.prototype.normalizeQuery=function(e){var t=(this.typeaheadLatinize?Le(e):e).toString().toLowerCase();return t=this.typeaheadSingleWords?Re(t,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):t},e.prototype.testMatch=function(e,t){var n;if("object"==typeof t){n=t.length;for(var i=0;i<n;i+=1)if(t[i].length>0&&e.indexOf(t[i])<0)return!1;return!0}return e.indexOf(t)>=0},e.prototype.finalizeAsyncCall=function(e){if(this.prepareMatches(e),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches())if(this._container){var t=(this.typeaheadLatinize?Le(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.typeaheadSingleWords?Re(t,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):t,this._container.matches=this._matches}else this.show();else this.hide()},e.prototype.prepareMatches=function(e){var t=this,n=e.slice(0,this.typeaheadOptionsLimit);if(this.typeaheadGroupField){var i=[];n.map(function(e){return je(e,t.typeaheadGroupField)}).filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(e){i.push(new Vi(e,e,!0)),i=i.concat(n.filter(function(n){return je(n,t.typeaheadGroupField)===e}).map(function(e){return new Vi(e,je(e,t.typeaheadOptionField))}))}),this._matches=i}else this._matches=n.map(function(e){return new Vi(e,je(e,t.typeaheadOptionField))})},e.prototype.hasMatches=function(){return this._matches.length>0},e.decorators=[{type:t.Directive,args:[{selector:"[typeahead]",exportAs:"bs-typeahead"}]}],e.ctorParameters=function(){return[{type:a.NgControl},{type:t.ElementRef},{type:t.ViewContainerRef},{type:t.Renderer2},{type:An},{type:t.ChangeDetectorRef}]},e.propDecorators={typeahead:[{type:t.Input}],typeaheadMinLength:[{type:t.Input}],typeaheadWaitMs:[{type:t.Input}],typeaheadOptionsLimit:[{type:t.Input}],typeaheadOptionField:[{type:t.Input}],typeaheadGroupField:[{type:t.Input}],typeaheadAsync:[{type:t.Input}],typeaheadLatinize:[{type:t.Input}],typeaheadSingleWords:[{type:t.Input}],typeaheadWordDelimiters:[{type:t.Input}],typeaheadPhraseDelimiters:[{type:t.Input}],typeaheadItemTemplate:[{type:t.Input}],optionsListTemplate:[{type:t.Input}],typeaheadScrollable:[{type:t.Input}],typeaheadOptionsInScrollableView:[{type:t.Input}],typeaheadLoading:[{type:t.Output}],typeaheadNoResults:[{type:t.Output}],typeaheadOnSelect:[{type:t.Output}],typeaheadOnBlur:[{type:t.Output}],container:[{type:t.Input}],dropup:[{type:t.Input}],onInput:[{type:t.HostListener,args:["input",["$event"]]}],onChange:[{type:t.HostListener,args:["keyup",["$event"]]}],onFocus:[{type:t.HostListener,args:["click"]},{type:t.HostListener,args:["focus"]}],onBlur:[{type:t.HostListener,args:["blur"]}],onKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}]},e}(),zi=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[An,En]}},e.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[Hi,Bi],exports:[Hi,Bi],entryComponents:[Hi]}]}],e.ctorParameters=function(){return[]},e}(),Ui=function(){function e(){this.placement="top",this.triggers="click",this.outsideClick=!1}return e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[]},e}(),Wi=function(){function e(e){Object.assign(this,e)}return Object.defineProperty(e.prototype,"isBs3",{get:function(){return Q()},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"popover-container",changeDetection:t.ChangeDetectionStrategy.OnPush,host:{"[class]":'"popover in popover-" + placement + " " + "bs-popover-" + placement + " " + placement + " " + containerClass',"[class.show]":"!isBs3",role:"tooltip",style:"display:block;"},styles:["\n    :host.bs-popover-top .arrow, :host.bs-popover-bottom .arrow {\n      left: calc(50% - 5px);\n    }\n    :host.bs-popover-left .arrow, :host.bs-popover-right .arrow {\n      top: calc(50% - 2.5px);\n    }\n  "],template:'<div class="popover-arrow arrow"></div> <h3 class="popover-title popover-header" *ngIf="title">{{ title }}</h3> <div class="popover-content popover-body"> <ng-content></ng-content> </div> '}]}],e.ctorParameters=function(){return[{type:Ui}]},e.propDecorators={placement:[{type:t.Input}],title:[{type:t.Input}]},e}(),Ji=(function(){function e(e,t,n,i,a){this.outsideClick=!1,this.containerClass="",this._isInited=!1,this._popover=a.createLoader(e,n,t).provide({provide:Ui,useValue:i}),Object.assign(this,i),this.onShown=this._popover.onShown,this.onHidden=this._popover.onHidden,"undefined"!=typeof window&&e.nativeElement.addEventListener("click",function(){try{e.nativeElement.focus()}catch(t){return}})}Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._popover.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),e.prototype.show=function(){!this._popover.isShown&&this.popover&&(this._popover.attach(Wi).to(this.container).position({attachment:this.placement}).show({content:this.popover,context:this.popoverContext,placement:this.placement,title:this.popoverTitle,containerClass:this.containerClass}),this.isOpen=!0)},e.prototype.hide=function(){this.isOpen&&(this._popover.hide(),this.isOpen=!1)},e.prototype.toggle=function(){if(this.isOpen)return this.hide();this.show()},e.prototype.ngOnInit=function(){var e=this;this._isInited||(this._isInited=!0,this._popover.listen({triggers:this.triggers,outsideClick:this.outsideClick,show:function(){return e.show()}}))},e.prototype.ngOnDestroy=function(){this._popover.dispose()},e.decorators=[{type:t.Directive,args:[{selector:"[popover]",exportAs:"bs-popover"}]}],e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:t.ViewContainerRef},{type:Ui},{type:An}]},e.propDecorators={popover:[{type:t.Input}],popoverContext:[{type:t.Input}],popoverTitle:[{type:t.Input}],placement:[{type:t.Input}],outsideClick:[{type:t.Input}],triggers:[{type:t.Input}],container:[{type:t.Input}],containerClass:[{type:t.Input}],isOpen:[{type:t.Input}],onShown:[{type:t.Output}],onHidden:[{type:t.Output}]}}(),{1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"}),Yi={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Gi=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},$i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Xi=function(e){return function(t,n){var i=Gi(t),a=$i[e][Gi(t)];return 2===i&&(a=a[n?0:1]),a.replace(/%d/i,t)}},qi=["كانون الثاني يناير","شباط فبراير","آذار مارس","نيسان أبريل","أيار مايو","حزيران يونيو","تموز يوليو","آب أغسطس","أيلول سبتمبر","تشرين الأول أكتوبر","تشرين الثاني نوفمبر","كانون الأول ديسمبر"],Zi=("الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),"ح_ن_ث_ر_خ_ج_س".split("_"),Xi("s"),Xi("m"),Xi("m"),Xi("h"),Xi("h"),Xi("d"),Xi("d"),Xi("M"),Xi("M"),Xi("y"),Xi("y"),"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),"led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),"ne_po_út_st_čt_pá_so".split("_"),"ne_po_út_st_čt_pá_so".split("_"),"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_")),Ki=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Qi=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,ea=("enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),"dom._lun._mar._mié._jue._vie._sáb.".split("_"),"do_lu_ma_mi_ju_vi_sá".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_")),ta=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],na=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,ia=("enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),"dom._lun._mar._mié._jue._vie._sáb.".split("_"),"do_lu_ma_mi_ju_vi_sá".split("_"),"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_")),aa=("enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),"dom._lun._mar._mié._jue._vie._sáb.".split("_"),"do_lu_ma_mi_ju_vi_sá".split("_"),"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),"dim._lun._mar._mer._jeu._ven._sam.".split("_"),"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),{1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"}),oa={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},ra=("जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),"र_सो_मं_बु_गु_शु_श".split("_"),"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),"dom_lun_mar_mer_gio_ven_sab".split("_"),"do_lu_ma_me_gi_ve_sa".split("_"),"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),"日_月_火_水_木_金_土".split("_"),"日_月_火_水_木_金_土".split("_"),"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),"일_월_화_수_목_금_토".split("_"),"일_월_화_수_목_금_토".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_")),sa=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],la=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,pa=("januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_")),ca=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],da=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,ua=("januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),"zo._ma._di._wo._do._vr._za.".split("_"),"zo_ma_di_wo_do_vr_za".split("_"),"styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),"ndz_pon_wt_śr_czw_pt_sob".split("_"),"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),"sön_mån_tis_ons_tor_fre_lör".split("_"),"sö_må_ti_on_to_fr_lö".split("_"),[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i]),ha=("января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),"вс_пн_вт_ср_чт_пт_сб".split("_"),"вс_пн_вт_ср_чт_пт_сб".split("_"),"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),"周日_周一_周二_周三_周四_周五_周六".split("_"),"日_一_二_三_四_五_六".split("_"),"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),function(){return function(){}}()),fa=function(){function e(){this.name=null,this.classIdentifier=null,this.path=null,this.type=null,this.value=null,this.serviceObject=new Object,this.partOfMapping=!1,this.partOfTransformation=!1,this.visibleInCurrentDocumentSearch=!0,this.selected=!1,this.enumeration=!1,this.enumValues=[],this.children=[],this.fieldDepth=0,this.uuid=null,this.collapsed=!0,this.hasUnmappedChildren=!1,this.isCollection=!1,this.isArray=!1,this.isAttribute=!1,this.isPrimitive=!1,this.userCreated=!1,this.docDef=null,this.namespaceAlias=null,this.uuid=e.uuidCounter.toString(),e.uuidCounter++}return e.prototype.getNameWithNamespace=function(){return this.docDef&&this.namespaceAlias?this.namespaceAlias+":"+this.name:this.name},e.prototype.isParentField=function(){return!(!this.isCollection||this.isPrimitive)||"COMPLEX"==this.type},e.prototype.isStringField=function(){return"STRING"==this.type},e.prototype.isTerminal=function(){return!!this.enumeration||!(this.isCollection&&!this.isPrimitive)&&"COMPLEX"!=this.type},e.prototype.copy=function(){var t=new e;Object.assign(t,this),t.serviceObject=this.serviceObject,t.parentField=this.parentField,t.docDef=this.docDef,t.children=[];for(var n=0,i=this.children;n<i.length;n++){var a=i[n];t.children.push(a.copy())}return t},e.prototype.copyFrom=function(e){Object.assign(this,e),this.serviceObject=e.serviceObject,this.parentField=e.parentField,this.docDef=e.docDef,this.children=[];for(var t=0,n=e.children;t<n.length;t++){var i=n[t];this.children.push(i.copy())}},e.prototype.getCollectionParentField=function(){for(var e=this;null!=e;){if(e.isCollection)return e;e=e.parentField}return null},e.prototype.isInCollection=function(){return null!=this.getCollectionParentField()},e.prototype.isSource=function(){return null!=this.docDef&&this.docDef.isSource},e.prototype.getCollectionType=function(){return this.isCollection?this.isArray?"ARRAY":"LIST":null},e.prototype.getFieldLabel=function(e){var t=e?this.path:this.getNameWithNamespace();return this!=_a.getNoneField()&&wa.getConfig().showTypes&&this.type&&!this.isPropertyOrConstant()&&(t=t+" ("+this.type+")"),this.isProperty()&&null!=this.value&&(t+=" = "+this.value),t},e.prototype.isPropertyOrConstant=function(){return null!=this.docDef&&this.docDef.initCfg.type.isPropertyOrConstant()},e.prototype.isProperty=function(){return null!=this.docDef&&this.docDef.initCfg.type.isProperty()},e.prototype.isConstant=function(){return null!=this.docDef&&this.docDef.initCfg.type.isConstant()},e.fieldHasUnmappedChild=function(t){if(null==t)return!1;if(t.isTerminal())return 0==t.partOfMapping;for(var n=0,i=t.children;n<i.length;n++){var a=i[n];if(a.hasUnmappedChildren||e.fieldHasUnmappedChild(a))return!0}return!1},e.getFieldPaths=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];t.push(a.path)}return t},e.getFieldNames=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];t.push(a.name)}return t},e.getField=function(e,t){for(var n=0,i=t;n<i.length;n++){var a=i[n];if(e==a.path)return a}return null},e.alphabetizeFields=function(e){for(var t={},n=[],i=0,a=e;i<a.length;i++){s=(s=(c=a[i]).name).charAt(0).toUpperCase()+s.substring(1),c.displayName=s,null==t[s]&&(t[s]=c,n.push(s))}n.sort(),e.length=0;for(var o=0,r=n;o<r.length;o++){var s=r[o];e.push(t[s])}for(var l=0,p=e;l<p.length;l++){var c=p[l];c.children&&c.children.length&&this.alphabetizeFields(c.children)}},e}();fa.uuidCounter=0;var ga=function(){function e(){}return e.removeItemFromArray=function(e,t){if(null==e||null==t||0==t.length)return!1;for(var n=0,i=!1;n<t.length;)t[n]==e?(t.splice(n,1),i=!0):n++;return i},e.debugLogJSON=function(e,t,n,i){n&&(e=null==e?"[none]":e,i=null==i?"[none]":i)},e.isRequiredFieldValid=function(e,t){if(null==e||""==e){var n=t+" is required.";return wa.getConfig().errorService.validationError(n,null),!1}return!0},e}(),ma=function(){function e(){this.alias=null,this.uri=null,this.locationUri=null,this.createdByUser=!1,this.isTarget=!1}return e.getUnqualifiedNamespace=function(){if(null==e.unqualifiedNamespace){var t=new e;t.alias="Unqualified",e.unqualifiedNamespace=t}return e.unqualifiedNamespace},e.prototype.getPrettyLabel=function(){return this==e.getUnqualifiedNamespace()?this.alias:(this.isTarget?"Target":this.alias)+" ["+(null==this.uri?"NO URI":this.uri)+"]"},e.prototype.copy=function(){var t=new e;return Object.assign(t,this),t},e.prototype.copyFrom=function(e){Object.assign(this,e)},e}();ma.unqualifiedNamespace=null;var va={};va.JAVA=0,va.XML=1,va.JSON=2,va.CSV=3,va.CONSTANT=4,va.PROPERTY=5,va[va.JAVA]="JAVA",va[va.XML]="XML",va[va.JSON]="JSON",va[va.CSV]="CSV",va[va.CONSTANT]="CONSTANT",va[va.PROPERTY]="PROPERTY";var ya=function(){function e(){this.type=va.JAVA}return e.prototype.isJava=function(){return this.type==va.JAVA},e.prototype.isXML=function(){return this.type==va.XML},e.prototype.isJSON=function(){return this.type==va.JSON},e.prototype.isCSV=function(){return this.type==va.CSV},e.prototype.isConstant=function(){return this.type==va.CONSTANT},e.prototype.isProperty=function(){return this.type==va.PROPERTY},e.prototype.isPropertyOrConstant=function(){return this.isProperty()||this.isConstant()},e}(),ba=function(){return function(){this.type=new ya,this.initialized=!1,this.errorOccurred=!1,this.pathSeparator="/",this.documentContents=null,this.inspectionResultContents=null,this.inspectionType=null}}(),_a=function(){function e(){this.initCfg=new ba,this.fields=[],this.allFields=[],this.terminalFields=[],this.complexFieldsByClassIdentifier={},this.enumFieldsByClassIdentifier={},this.fieldsByPath={},this.uri=null,this.fieldPaths=[],this.showFields=!0,this.visibleInCurrentDocumentSearch=!0,this.namespaces=[],this.characterEncoding=null,this.locale=null}return e.prototype.getComplexField=function(e){return this.complexFieldsByClassIdentifier[e]},e.prototype.getEnumField=function(e){return this.enumFieldsByClassIdentifier[e]},e.prototype.getAllFields=function(){return[].concat(this.allFields)},e.getNoneField=function(){return null==e.noneField&&((e.noneField=new fa).name="[None]",e.noneField.type="",e.noneField.displayName="[None]",e.noneField.path="[None]"),e.noneField},e.prototype.isFieldsExist=function(e){if(null==e||0==e.length)return!0;var t=this.getFields(fa.getFieldPaths(e));return null!=t&&e.length==t.length},e.prototype.getFields=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n],o=this.getField(a);null!=o&&t.push(o)}return t},e.prototype.getName=function(e){var t=this.name;if(wa.getConfig().showTypes&&!this.initCfg.type.isPropertyOrConstant()){t+=this.initCfg.type.isJava()?" (Java)":" (XML)"}return t},e.prototype.getNamespaceForAlias=function(e){for(var t=0,n=this.namespaces;t<n.length;t++){var i=n[t];if(e==i.alias)return i}return null},e.prototype.getField=function(t){if(t==e.getNoneField().path)return e.getNoneField();if(null==t)return null;var n=this.fieldsByPath[t],i=this.initCfg.pathSeparator,a=t;if(null!=a&&0==a.indexOf(i)&&(a=a.substring(1)),null==n&&-1!=a.indexOf(i)){for(var o="";-1!=a.indexOf(i);){o+=i+a.substr(0,a.indexOf(i));var r=this.fieldsByPath[o];if(null==r)throw new Error("Could not populate parent field with path '"+o+"' (for: "+t+")");this.populateChildren(r),-1!=a.indexOf(i)&&(a=a.substr(a.indexOf(i)+1))}n=this.fieldsByPath[t]}return n},e.prototype.getTerminalFields=function(){return[].concat(this.terminalFields)},e.prototype.clearSelectedFields=function(){for(var e=0,t=this.allFields;e<t.length;e++){t[e].selected=!1}},e.prototype.getSelectedFields=function(){for(var e=[],t=0,n=this.allFields;t<n.length;t++){var i=n[t];i.selected&&e.push(i)}return e},e.selectFields=function(e){for(var t=0,n=e;t<n.length;t++){n[t].selected=!0}},e.prototype.initializeFromFields=function(){this.initCfg.type.isJava()&&this.prepareComplexFields(),fa.alphabetizeFields(this.fields);for(var e=0,t=this.fields;e<t.length;e++){a=t[e];this.populateFieldParentPaths(a,null,0),this.populateFieldData(a)}if(this.fieldPaths.sort(),wa.getConfig().initCfg.debugDocumentParsing)for(var n=0,i=this.allFields;n<i.length;n++){var a;(a=i[n]).enumeration&&"\t"+a.path+" ("+a.classIdentifier+")\n"}this.initCfg.initialized=!0},e.prototype.updateField=function(t,n){if(fa.alphabetizeFields(this.fields),null==t.parentField||t.parentField==e.getNoneField()||this.initCfg.type.isPropertyOrConstant())this.populateFieldParentPaths(t,null,0);else{var i=this.initCfg.pathSeparator;this.populateFieldParentPaths(t,t.parentField.path+i,t.parentField.fieldDepth+1)}null!=n&&null!=this.fieldsByPath[n]&&delete this.fieldsByPath[n],ga.removeItemFromArray(t.path,this.fieldPaths),this.populateFieldData(t),this.fieldPaths.sort()},e.prototype.addField=function(t){if(null==t.parentField||t.parentField==e.getNoneField()||this.initCfg.type.isPropertyOrConstant())this.fields.push(t),fa.alphabetizeFields(this.fields),this.populateFieldParentPaths(t,null,0);else{this.populateChildren(t.parentField),t.parentField.children.push(t),fa.alphabetizeFields(t.parentField.children);var n=this.initCfg.pathSeparator;this.populateFieldParentPaths(t,t.parentField.path+n,t.parentField.fieldDepth+1)}this.populateFieldData(t),this.fieldPaths.sort()},e.prototype.populateChildren=function(e){if(!(e.isTerminal()||e.children.length>0)){var t=this.getComplexField(e.classIdentifier);if(null!=t){t=t.copy();for(var n=this.initCfg.pathSeparator,i=0,a=t.children;i<a.length;i++){var o=a[i];(o=o.copy()).parentField=e,this.populateFieldParentPaths(o,e.path+n,e.fieldDepth+1),this.populateFieldData(o),e.children.push(o)}this.fieldPaths.sort()}}},e.prototype.removeField=function(e){null!=e&&(ga.removeItemFromArray(e,this.fields),ga.removeItemFromArray(e,this.allFields),ga.removeItemFromArray(e,this.terminalFields),ga.removeItemFromArray(e.path,this.fieldPaths),delete this.fieldsByPath[e.path],null!=e.parentField&&ga.removeItemFromArray(e,e.parentField.children))},e.prototype.updateFromMappings=function(e,t){for(var n=0,i=this.allFields;n<i.length;n++){(m=i[n]).partOfMapping=!1,m.hasUnmappedChildren=!1,m.selected=!1,m.partOfTransformation=!1}for(var a=0,o=e.getAllMappings(!0);a<o.length;a++){for(var r=o[a],s=r==e.activeMapping,l=!1,p=0,c=r.fieldMappings;p<c.length;p++){if(c[p].hasTransition()){l=!0;break}}for(var d=0,u=r.getAllFields();d<u.length;d++){var h=m=u[d];for(m.selected=s&&m.isTerminal();null!=h;)h.partOfMapping=!0,h.partOfTransformation=h.partOfTransformation||l,h=h.parentField}}for(var f=0,g=this.allFields;f<g.length;f++){var m=g[f];m.hasUnmappedChildren=fa.fieldHasUnmappedChild(m)}},e.getDocumentByIdentifier=function(e,t){if(null==e||null==t||!t.length)return null;for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a.initCfg.documentIdentifier===e)return a}return null},e.prototype.populateFieldParentPaths=function(e,t,n){null==t&&(t=this.initCfg.pathSeparator),e.path=t+e.getNameWithNamespace(),e.isCollection&&(e.path+=e.isArray?"[]":"<>"),e.isAttribute&&(e.path=t+="@"+e.name),e.serviceObject&&(e.serviceObject.path=e.path),e.fieldDepth=n;for(var i=this.initCfg.pathSeparator,a=0,o=e.children;a<o.length;a++){var r=o[a];r.parentField=e,this.populateFieldParentPaths(r,e.path+i,n+1)}},e.prototype.populateFieldData=function(e){if(e.docDef=this,this.fieldPaths.push(e.path),this.allFields.push(e),this.fieldsByPath[e.path]=e,e.enumeration&&(this.enumFieldsByClassIdentifier[e.classIdentifier]=e),e.isTerminal())this.terminalFields.push(e);else for(var t=0,n=e.children;t<n.length;t++){var i=n[t];this.populateFieldData(i)}},e.prototype.prepareComplexFields=function(){var e=this.fields;this.discoverComplexFields(e);for(var t in this.complexFieldsByClassIdentifier)if(this.complexFieldsByClassIdentifier.hasOwnProperty(t)){for(var n=0,i=(a=this.complexFieldsByClassIdentifier[t]).children;n<i.length;n++){(c=i[n]).children=[]}fa.alphabetizeFields(a.children)}if(wa.getConfig().initCfg.debugDocumentParsing){for(var t in this.complexFieldsByClassIdentifier)if(this.complexFieldsByClassIdentifier.hasOwnProperty(t)){var a=this.complexFieldsByClassIdentifier[t];a.name+" "+a.type+" "+a.serviceObject.status+" ("+a.classIdentifier+") children:"+a.children.length+"\n"}}for(var o=0,r=e;o<r.length;o++)for(var s=r[o],l=0,p=s.children;l<p.length;l++){var c=p[l];s.isCollection||c.isCollection||(c.children=[])}},e.prototype.discoverComplexFields=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];"COMPLEX"==i.type&&("SUPPORTED"==i.serviceObject.status&&(this.complexFieldsByClassIdentifier[i.classIdentifier]=i.copy()),i.children&&this.discoverComplexFields(i.children))}},e.prototype.printDocumentFields=function(e,t){for(var n="",i=0,a=e;i<a.length;i++){var o=a[i];if("COMPLEX"==o.type){for(var r=0;r<t;r++)n+="\t";n+=o.name+" "+o.type+" "+o.serviceObject.status+" ("+o.classIdentifier+") children:"+o.children.length,n+="\n",o.children&&(n+=this.printDocumentFields(o.children,t+1))}}return n},e}();_a.noneField=null;var Ca=function(){return function(){this.dataMapperVersion="0.9.2017.07.28",this.initialized=!1,this.loadingStatus="Loading.",this.initializationErrorOccurred=!1,this.classPathFetchTimeoutInMilliseconds=3e4,this.fieldNameBlacklist=[],this.classNameBlacklist=[],this.disablePrivateOnlyFields=!1,this.disableProtectedOnlyFields=!1,this.disablePublicOnlyFields=!1,this.disablePublicGetterSetterFields=!1,this.discardNonMockSources=!1,this.addMockJSONMappings=!1,this.addMockJavaSingleSource=!1,this.addMockJavaSources=!1,this.addMockJavaCachedSource=!1,this.addMockXMLInstanceSources=!1,this.addMockXMLSchemaSources=!1,this.addMockJSONSources=!1,this.addMockJSONInstanceSources=!1,this.addMockJSONSchemaSources=!1,this.addMockJavaTarget=!1,this.addMockJavaCachedTarget=!1,this.addMockXMLInstanceTarget=!1,this.addMockXMLSchemaTarget=!1,this.addMockJSONTarget=!1,this.addMockJSONInstanceTarget=!1,this.addMockJSONSchemaTarget=!1,this.debugDocumentServiceCalls=!1,this.debugDocumentParsing=!1,this.debugMappingServiceCalls=!1,this.debugClassPathServiceCalls=!1,this.debugValidationServiceCalls=!1,this.debugFieldActionServiceCalls=!1,this.mappingInitialized=!1,this.fieldActionsInitialized=!1}}(),wa=function(){function e(){this.initCfg=new Ca,this.showMappingDetailTray=!1,this.showMappingTable=!1,this.showNamespaceTable=!1,this.showLinesAlways=!0,this.showTypes=!1,this.showMappedFields=!0,this.showUnmappedFields=!0,this.currentDraggedField=null,this.sourceDocs=[],this.targetDocs=[],this.propertyDoc=new _a,this.constantDoc=new _a,this.mappingFiles=[],this.mappings=null,this.errors=[],this.validationErrors=[],this.propertyDoc.initCfg.type.type=va.PROPERTY,this.propertyDoc.name="Properties",this.propertyDoc.isSource=!0,this.constantDoc.initCfg.type.type=va.CONSTANT,this.constantDoc.name="Constants",this.constantDoc.isSource=!0}return e.getConfig=function(){return e.cfg},e.setConfig=function(t){e.cfg=t},e.prototype.addJavaDocument=function(e,t){return this.createDocument(e,t,va.JAVA,null)},e.prototype.addJSONDocument=function(e,t,n){return this.createDocument(e,n,va.JSON,t)},e.prototype.addJSONInstanceDocument=function(e,t,n){var i=this.createDocument(e,n,va.JSON,t);return i.initCfg.inspectionType="INSTANCE",i.uri="atlas:json:"+e,i},e.prototype.addJSONSchemaDocument=function(e,t,n){var i=this.createDocument(e,n,va.JSON,t);return i.initCfg.inspectionType="SCHEMA",i.uri="atlas:json:"+e,i},e.prototype.addXMLInstanceDocument=function(e,t,n){var i=this.createDocument(e,n,va.XML,t);return i.initCfg.inspectionType="INSTANCE",i.uri="atlas:xml:"+e,i},e.prototype.addXMLSchemaDocument=function(e,t,n){var i=this.createDocument(e,n,va.XML,t);return i.initCfg.inspectionType="SCHEMA",i.uri="atlas:xml:"+e,i},e.prototype.getDocsWithoutPropertyDoc=function(e){return[].concat(e?this.sourceDocs:this.targetDocs)},e.prototype.getDocs=function(e){var t=this.getDocsWithoutPropertyDoc(e);return e?t.concat([this.propertyDoc,this.constantDoc]):t},e.prototype.hasJavaDocuments=function(){for(var e=0,t=this.getAllDocs();e<t.length;e++){if(t[e].initCfg.type.isJava())return!0}return!1},e.prototype.isClassPathResolutionNeeded=function(){if(this.initCfg.classPath)return!1;for(var e=0,t=this.getAllDocs();e<t.length;e++){var n=t[e];if(n.initCfg.type.isJava()&&null==n.initCfg.inspectionResultContents)return!0}return!1},e.prototype.getDocForShortIdentifier=function(e,t){for(var n=0,i=this.getDocs(t);n<i.length;n++){var a=i[n];if(a.initCfg.shortIdentifier==e)return a}return null},e.prototype.getFirstXmlDoc=function(e){for(var t=0,n=this.getDocsWithoutPropertyDoc(e);t<n.length;t++){var i=n[t];if(i.initCfg.type.isXML())return i}return null},e.prototype.getAllDocs=function(){return[this.propertyDoc,this.constantDoc].concat(this.sourceDocs).concat(this.targetDocs)},e.prototype.documentsAreLoaded=function(){for(var e=0,t=this.getAllDocs();e<t.length;e++){if(!t[e].initCfg.initialized)return!1}return!0},e.prototype.createDocument=function(e,t,n,i){var a=new _a;return a.isSource=t,a.initCfg.documentIdentifier=e,a.initCfg.shortIdentifier=e,a.uri=e,a.name=e,a.initCfg.type.type=n,a.initCfg.documentContents=i,a.initCfg.inspectionType="INSTANCE",t?this.sourceDocs.push(a):this.targetDocs.push(a),a},e}();wa.mappingServicesPackagePrefix="io.atlasmap.v2",wa.javaServicesPackagePrefix="io.atlasmap.java.v2",wa.cfg=new wa;var Sa=function(){function e(e){this.http=e,this.headers=new i.Headers,this.headers.append("Content-Type","application/json")}return e.prototype.initialize=function(){var e=this;this.cfg.mappingService.mappingUpdated$.subscribe(function(t){for(var n=0,i=e.cfg.getAllDocs();n<i.length;n++){var a=i[n];a.initCfg.initialized&&a.updateFromMappings(e.cfg.mappings,e.cfg)}})},e.prototype.fetchClassPath=function(){var e=this;return new o.Observable(function(t){var n={MavenClasspathRequest:{jsonType:wa.javaServicesPackagePrefix+".MavenClasspathRequest",pomXmlData:e.cfg.initCfg.pomPayload,executeTimeout:e.cfg.initCfg.classPathFetchTimeoutInMilliseconds}},i=e.cfg.initCfg.baseJavaInspectionServiceUrl+"mavenclasspath";ga.debugLogJSON(n,"Classpath Service Request",e.cfg.initCfg.debugClassPathServiceCalls,i),e.http.post(i,n,{headers:e.headers}).toPromise().then(function(n){var a=n.json();ga.debugLogJSON(a,"Classpath Service Response",e.cfg.initCfg.debugClassPathServiceCalls,i);var o=a.MavenClasspathResponse.classpath;t.next(o),t.complete()})["catch"](function(e){t.error(e),t.complete()})})},e.prototype.fetchDocument=function(e,t){var n=this;return new o.Observable(function(i){if(null!=e.initCfg.inspectionResultContents){var a=JSON.parse(e.initCfg.inspectionResultContents);return n.parseDocumentResponse(a,e),i.next(e),void i.complete()}var o=n.createDocumentFetchRequest(e,t),r=n.cfg.initCfg.baseJavaInspectionServiceUrl+"class";e.initCfg.type.isXML()&&(r=n.cfg.initCfg.baseXMLInspectionServiceUrl+"inspect"),e.initCfg.type.isJSON()&&(r=n.cfg.initCfg.baseJSONInspectionServiceUrl+"inspect"),ga.debugLogJSON(o,"Document Service Request",n.cfg.initCfg.debugDocumentServiceCalls,r),n.http.post(r,o,{headers:n.headers}).toPromise().then(function(t){var a=t.json();ga.debugLogJSON(a,"Document Service Response",n.cfg.initCfg.debugDocumentServiceCalls,r),n.parseDocumentResponse(a,e),i.next(e),i.complete()})["catch"](function(t){i.error(t),e.initCfg.errorOccurred=!0,i.next(e),i.complete()})})},e.prototype.createDocumentFetchRequest=function(e,t){if(e.initCfg.type.isXML())return{XmlInspectionRequest:{jsonType:"io.atlasmap.xml.v2.XmlInspectionRequest",type:e.initCfg.inspectionType,xmlData:e.initCfg.documentContents}};if(e.initCfg.type.isJSON())return{JsonInspectionRequest:{jsonType:"io.atlasmap.json.v2.JsonInspectionRequest",type:e.initCfg.inspectionType,jsonData:e.initCfg.documentContents}};var n=e.initCfg.documentIdentifier,i={ClassInspectionRequest:{jsonType:wa.javaServicesPackagePrefix+".ClassInspectionRequest",classpath:t,className:n,disablePrivateOnlyFields:this.cfg.initCfg.disablePrivateOnlyFields,disableProtectedOnlyFields:this.cfg.initCfg.disableProtectedOnlyFields,disablePublicOnlyFields:this.cfg.initCfg.disablePublicOnlyFields,disablePublicGetterSetterFields:this.cfg.initCfg.disablePublicGetterSetterFields}};return this.cfg.initCfg.fieldNameBlacklist&&this.cfg.initCfg.fieldNameBlacklist.length&&(i.ClassInspectionRequest.fieldNameBlacklist={string:this.cfg.initCfg.fieldNameBlacklist}),this.cfg.initCfg.classNameBlacklist&&this.cfg.initCfg.classNameBlacklist.length&&(i.ClassInspectionRequest.classNameBlacklist={string:this.cfg.initCfg.classNameBlacklist}),i},e.prototype.parseDocumentResponse=function(e,t){t.name=t.initCfg.shortIdentifier,t.fullyQualifiedName=t.initCfg.shortIdentifier,t.initCfg.type.isJava()?"undefined"!=typeof e.ClassInspectionResponse?this.extractJavaDocumentDefinitionFromInspectionResponse(e,t):"undefined"!=typeof e.javaClass||"undefined"!=typeof e.JavaClass?this.extractJavaDocumentDefinition(e,t):this.handleError("Unknown Java inspection result format",e):t.initCfg.type.isJSON()?"undefined"!=typeof e.JsonInspectionResponse?this.extractJSONDocumentDefinitionFromInspectionResponse(e,t):"undefined"!=typeof e.jsonDocument||"undefined"!=typeof e.JsonDocument?this.extractJSONDocumentDefinition(e,t):this.handleError("Unknown JSON inspection result format",e):"undefined"!=typeof e.XmlInspectionResponse?this.extractXMLDocumentDefinitionFromInspectionResponse(e,t):"undefined"!=typeof e.xmlDocument||"undefined"!=typeof e.XmlDocument?this.extractXMLDocumentDefinition(e,t):this.handleError("Unknown XML inspection result format",e),t.initializeFromFields()},e.prototype.extractJSONDocumentDefinitionFromInspectionResponse=function(e,t){var n=e.JsonInspectionResponse;if(n.errorMessage)return this.handleError("Could not load JSON document, error: "+n.errorMessage,null),void(t.initCfg.errorOccurred=!0);this.extractJSONDocumentDefinition(n,t)},e.prototype.extractJSONDocumentDefinition=function(e,t){var n;n="undefined"!=typeof e.jsonDocument?e.jsonDocument:e.JsonDocument,t.characterEncoding=n.characterEncoding,t.locale=n.locale;for(var i=0,a=n.fields.field;i<a.length;i++){var o=a[i];this.parseJSONFieldFromDocument(o,null,t)}},e.prototype.extractXMLDocumentDefinitionFromInspectionResponse=function(e,t){var n=e.XmlInspectionResponse;if(n.errorMessage)return this.handleError("Could not load XML document, error: "+n.errorMessage,null),void(t.initCfg.errorOccurred=!0);this.extractXMLDocumentDefinition(n,t)},e.prototype.extractXMLDocumentDefinition=function(e,t){var n;if(n="undefined"!=typeof e.xmlDocument?e.xmlDocument:e.XmlDocument,t.characterEncoding=n.characterEncoding,t.locale=n.locale,n.xmlNamespaces&&n.xmlNamespaces.xmlNamespace&&n.xmlNamespaces.xmlNamespace.length)for(var i=0,a=n.xmlNamespaces.xmlNamespace;i<a.length;i++){var o=a[i],r=new ma;r.alias=o.alias,r.uri=o.uri,r.locationUri=o.locationUri,r.isTarget=o.targetNamespace,t.namespaces.push(r)}for(var s=0,l=n.fields.field;s<l.length;s++){var p=l[s];this.parseXMLFieldFromDocument(p,null,t)}},e.prototype.extractJavaDocumentDefinitionFromInspectionResponse=function(e,t){var n=e.ClassInspectionResponse;if(n.errorMessage)return this.handleError("Could not load Java document, error: "+n.errorMessage,null),void(t.initCfg.errorOccurred=!0);this.extractJavaDocumentDefinition(n,t)},e.prototype.extractJavaDocumentDefinition=function(e,t){var n;if("NOT_FOUND"==(n="undefined"!=typeof e.javaClass?e.javaClass:e.JavaClass).status){var i=t.initCfg.documentIdentifier;return this.handleError("Could not load JAVA document. Document is not found: "+i,null),void(t.initCfg.errorOccurred=!0)}t.name=n.className,t.name&&-1!=t.name.indexOf(".")&&(t.name=t.name.substr(t.name.lastIndexOf(".")+1)),t.fullyQualifiedName=n.className,null==t.name&&this.cfg.errorService.error("Document's className is empty.",n),t.uri=n.uri,t.characterEncoding=n.characterEncoding,t.locale=n.locale;for(var a=0,o=n.javaFields.javaField;a<o.length;a++){var r=o[a];this.parseJavaFieldFromDocument(r,null,t)}},e.prototype.parseJSONFieldFromDocument=function(e,t,n){var i=this.parseFieldFromDocument(e,t,n);if(null!=i&&e.jsonFields&&e.jsonFields.jsonField&&e.jsonFields.jsonField.length)for(var a=0,o=e.jsonFields.jsonField;a<o.length;a++){var r=o[a];this.parseJSONFieldFromDocument(r,i,n)}},e.prototype.parseFieldFromDocument=function(e,t,n){if(null!=e&&"NOT_FOUND"==e.status)return this.cfg.errorService.warn("Ignoring unknown field: "+e.name+" ("+e.className+"), parent class: "+n.name,null),null;if(null!=e&&"BLACK_LIST"==e.status)return null;var i=new fa;return i.name=e.name,i.type=e.fieldType,i.path=e.path,i.isPrimitive="COMPLEX"!=e.fieldType,i.serviceObject=e,"LIST"!=e.collectionType&&"ARRAY"!=e.collectionType||(i.isCollection=!0,"ARRAY"==e.collectionType?(i.isArray=!0,i.type="ARRAY["+i.type+"]"):i.type="LIST<"+i.type+">"),null!=t?t.children.push(i):n.fields.push(i),i},e.prototype.parseXMLFieldFromDocument=function(e,t,n){var i=this.parseFieldFromDocument(e,t,n);if(null!=i&&(-1!=e.name.indexOf(":")&&(i.namespaceAlias=e.name.split(":")[0],i.name=e.name.split(":")[1]),i.isAttribute=-1!=i.path.indexOf("@"),e.xmlFields&&e.xmlFields.xmlField&&e.xmlFields.xmlField.length))for(var a=0,o=e.xmlFields.xmlField;a<o.length;a++){var r=o[a];this.parseXMLFieldFromDocument(r,i,n)}},e.prototype.parseJavaFieldFromDocument=function(e,t,n){var i=this.parseFieldFromDocument(e,t,n);if(null!=i){if(i.isPrimitive=e.primitive,i.classIdentifier=e.className,i.enumeration=e.enumeration,i.enumeration&&e.javaEnumFields&&e.javaEnumFields.javaEnumField)for(var a=0,o=e.javaEnumFields.javaEnumField;a<o.length;a++){var r=o[a],s=new ha;s.name=r.name,s.ordinal=r.ordinal,i.enumValues.push(s)}if(e.javaFields&&e.javaFields.javaField&&e.javaFields.javaField.length)for(var l=0,p=e.javaFields.javaField;l<p.length;l++){var c=p[l];this.parseJavaFieldFromDocument(c,i,n)}}},e.generateMockInstanceXMLDoc=function(){return'<?xml version="1.0" encoding="UTF-8" ?>\n            <foo>bar</foo>\n        ',"<foo>bar</foo>","\n            <XMLOrder>\n            <orderId>orderId</orderId>\n            <Address>\n                <addressLine1>addressLine1</addressLine1>\n                <addressLine2>addressLine2</addressLine2>\n                <city>city</city>\n                <state>state</state>\n                <zipCode>zipCode</zipCode>\n            </Address>\n            <Contact>\n                <firstName>firstName</firstName>\n                <lastName>lastName</lastName>\n                <phoneNumber>phoneNumber</phoneNumber>\n                <zipCode>zipCode</zipCode>\n            </Contact>\n            </XMLOrder>\n        ","\n            <foo><bar><jason>somevalue</jason></bar></foo>\n        ",'\n            <orders totalCost="12525.00" xmlns="http://www.example.com/x/"\n                xmlns:y="http://www.example.com/y/"\n                xmlns:q="http://www.example.com/q/">\n                <order>\n                <id y:custId="a">12312</id>\n                    <id y:custId="b">4423423</id>\n                    </order>\n                <q:order><id y:custId="x">12312</id></q:order>\n                <order><id y:custId="c">54554555</id></order>\n                <q:order><id y:custId="a">12312</id></q:order>\n            </orders>\n        ','\n            <ns:XmlFPE targetNamespace="http://atlasmap.io/xml/test/v2"\n                xmlns:ns="http://atlasmap.io/xml/test/v2"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://atlasmap.io/xml/test/v2 atlas-xml-test-model-v2.xsd ">\n                <booleanField>false</booleanField>\n                <byteField>99</byteField>\n                <charField>a</charField>\n                <doubleField>50000000.0</doubleField>\n                <floatField>40000000.0</floatField>\n                <intField>2</intField>\n                <longField>30000</longField>\n                <shortField>1</shortField>\n            </ns:XmlFPE>\n        ','\n            <ns:XmlOE xmlns:ns="http://atlasmap.io/xml/test/v2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n             xsi:schemaLocation="http://atlasmap.io/xml/test/v2 atlas-xml-test-model-v2.xsd ">\n            <ns:orderId>ns:orderId</ns:orderId>\n            <ns:Address>\n                <ns:addressLine1>ns:addressLine1</ns:addressLine1>\n                <ns:addressLine2>ns:addressLine2</ns:addressLine2>\n                <ns:city>ns:city</ns:city>\n                <ns:state>ns:state</ns:state>\n                <ns:zipCode>ns:zipCode</ns:zipCode>\n            </ns:Address>\n            <ns:Contact>\n                <ns:firstName>ns:firstName</ns:firstName>\n                <ns:lastName>ns:lastName</ns:lastName>\n                <ns:phoneNumber>ns:phoneNumber</ns:phoneNumber>\n                <ns:zipCode>ns:zipCode</ns:zipCode>\n            </ns:Contact>\n            </ns:XmlOE>\n        '},e.generateMockSchemaXMLDoc=function(){return'\n            <schema xmlns="http://www.w3.org/2001/XMLSchema" targetNamespace="http://example.com/"\n                xmlns:tns="http://example.com/">\n                <element name="aGlobalElement" type="tns:aGlobalType"/>\n                <simpleType name="aGlobalType"><restriction base="string"/></simpleType>\n            </schema>\n        ','\n            <xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">\n                <xs:element name="shiporder">\n                    <xs:complexType>\n                        <xs:sequence>\n                            <xs:element name="orderperson" type="xs:string"/>\n                            <xs:element name="shipto">\n                                <xs:complexType>\n                                    <xs:sequence>\n                                        <xs:element name="name" type="xs:string"/>\n                                        <xs:element name="address" type="xs:string"/>\n                                        <xs:element name="city" type="xs:string"/>\n                                        <xs:element name="country" type="xs:string"/>\n                                    </xs:sequence>\n                                </xs:complexType>\n                            </xs:element>\n                            <xs:element name="item" maxOccurs="unbounded">\n                                <xs:complexType>\n                                    <xs:sequence>\n                                        <xs:element name="title" type="xs:string"/>\n                                        <xs:element name="note" type="xs:string" minOccurs="0"/>\n                                        <xs:element name="quantity" type="xs:positiveInteger"/>\n                                        <xs:element name="price" type="xs:decimal"/>\n                                    </xs:sequence>\n                                </xs:complexType>\n                            </xs:element>\n                        </xs:sequence>\n                        <xs:attribute name="orderid" type="xs:string" use="required" fixed="2"/>\n                    </xs:complexType>\n                </xs:element>\n            </xs:schema>\n        ','\n            <xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">\n                <xs:element name="shiporder">\n                    <xs:complexType>\n                        <xs:sequence>\n                            <xs:element name="shipto">\n                                <xs:complexType>\n                                    <xs:sequence>\n                                        <xs:element name="name" type="xs:string"/>\n                                    </xs:sequence>\n                                </xs:complexType>\n                            </xs:element>\n                            <xs:element name="item" maxOccurs="unbounded">\n                                <xs:complexType>\n                                    <xs:sequence>\n                                        <xs:element name="title" type="xs:string"/>\n                                    </xs:sequence>\n                                </xs:complexType>\n                            </xs:element>\n                        </xs:sequence>\n                    </xs:complexType>\n                </xs:element>\n            </xs:schema>\n        '},e.generateMockJSONDoc=function(){return e.generateMockJSONInstanceDoc()},e.generateMockJSONInstanceDoc=function(){return'   {\n                "order": {\n                    "address": {\n                        "street": "123 any st",\n                        "city": "Austin",\n                        "state": "TX",\n                        "zip": "78626"\n                    },\n                    "contact": {\n                        "firstName": "james",\n                        "lastName": "smith",\n                        "phone": "512-123-1234"\n                    },\n                    "orderId": "123"\n                },\n                "primitives": {\n                    "stringPrimitive": "some value",\n                    "booleanPrimitive": true,\n                    "numberPrimitive": 24\n                },\n                "addressList": [\n                    { "street": "123 any st", "city": "Austin", "state": "TX", "zip": "78626" },\n                    { "street": "123 any st", "city": "Austin", "state": "TX", "zip": "78626" },\n                    { "street": "123 any st", "city": "Austin", "state": "TX", "zip": "78626" },\n                    { "street": "123 any st", "city": "Austin", "state": "TX", "zip": "78626" }\n                ]\n            }\n        '},e.generateMockJSONSchemaDoc=function(){return'\n            {\n                "$schema": "http://json-schema.org/schema#",\n                "description": "Order",\n                "type": "object",\n                "properties": {\n                    "order": {\n                        "type": "object",\n                        "properties": {\n                            "address": {\n                                "type": "object",\n                                "properties": {\n                                    "street": { "type": "string" },\n                                    "city": { "type": "string" },\n                                    "state": { "type": "string" },\n                                    "zip": { "type": "string" }\n                                }\n                            },\n                            "contact": {\n                                "type": "object",\n                                "properties": {\n                                    "firstName": { "type": "string" },\n                                    "lastName": { "type": "string" },\n                                    "phone": { "type": "string" }\n                                }\n                            },\n                            "orderId": { "type": "string" }\n                        }\n                    },\n                    "primitives": {\n                        "type": "object",\n                        "properties": {\n                            "stringPrimitive": { "type": "string" },\n                            "booleanPrimitive": { "type": "boolean" },\n                            "numberPrimitive": { "type": "number" }\n                        }\n                    },\n                    "primitiveArrays": {\n                        "type": "object",\n                        "properties": {\n                            "stringArray": {\n                                "type": "array",\n                                "items": { "type": "string" }\n                            },\n                            "booleanArray": {\n                                "type": "array",\n                                "items": { "type": "boolean" }\n                            },\n                            "numberArray": {\n                                "type": "array",\n                                "items": { "type": "number" }\n                            }\n                        }\n                    },\n                    "addressList": {\n                        "type": "array",\n                        "items": {\n                            "type": "object",\n                            "properties": {\n                                "street": { "type": "string" },\n                                "city": { "type": "string" },\n                                "state": { "type": "string" },\n                                "zip": { "type": "string" }\n                            }\n                        }\n                    }\n                }\n            }\n        '},e.generateMockJavaDoc=function(){return'\n            {\n              "JavaClass": {\n                "jsonType": "io.atlasmap.java.v2.JavaClass",\n                "modifiers": { "modifier": [ "PUBLIC" ] },\n                "className": "io.atlasmap.java.test.Name",\n                "primitive": false,\n                "synthetic": false,\n                "javaEnumFields": { "javaEnumField": [] },\n                "javaFields": {\n                  "javaField": [\n                    {\n                      "jsonType": "io.atlasmap.java.v2.JavaField",\n                      "path": "firstName",\n                      "status": "SUPPORTED",\n                      "fieldType": "STRING",\n                      "modifiers": { "modifier": [ "PRIVATE" ] },\n                      "name": "firstName",\n                      "className": "java.lang.String",\n                      "getMethod": "getFirstName",\n                      "setMethod": "setFirstName",\n                      "primitive": true,\n                      "synthetic": false\n                    },\n                    {\n                      "jsonType": "io.atlasmap.java.v2.JavaField",\n                      "path": "lastName",\n                      "status": "SUPPORTED",\n                      "fieldType": "STRING",\n                      "modifiers": { "modifier": [ "PRIVATE" ] },\n                      "name": "lastName",\n                      "className": "java.lang.String",\n                      "getMethod": "getLastName",\n                      "setMethod": "setLastName",\n                      "primitive": true,\n                      "synthetic": false\n                    }\n                  ]\n                },\n                "packageName": "io.atlasmap.java.test",\n                "annotation": false,\n                "annonymous": false,\n                "enumeration": false,\n                "localClass": false,\n                "memberClass": false,\n                "uri": "atlas:java?className=io.atlasmap.java.test.Name",\n                "interface": false\n              }\n            }\n        '},e.prototype.handleError=function(e,t){this.cfg.errorService.error(e,t)},e}();Sa.decorators=[{type:t.Injectable}],Sa.ctorParameters=function(){return[{type:i.Http}]};var Ma=function(){return function(){this.name=null,this.type="STRING",this.serviceObject=new Object}}(),Da=function(){return function(){this.name=null,this.value=null}}(),xa=function(){function e(){this.isSeparateOrCombineMode=!1,this.config=null,this.argumentValues=[]}return e.prototype.getArgumentValue=function(e){for(var t=0,n=this.argumentValues;t<n.length;t++){var i=n[t];if(i.name==e)return i}var a=new Da;return a.name=e,a.value="0",this.argumentValues.push(a),a},e.prototype.setArgumentValue=function(e,t){this.getArgumentValue(e).value=t},e.createSeparateCombineFieldAction=function(t,n){if(null==e.combineActionConfig){var i=new Ma;i.name="Index",i.type="NUMBER",(e.combineActionConfig=new Ia).name="Combine",e.combineActionConfig.arguments.push(i),(e.separateActionConfig=new Ia).name="Separate",e.separateActionConfig.arguments.push(i)}var a=new e;return e.combineActionConfig.populateFieldAction(a),t&&e.separateActionConfig.populateFieldAction(a),a.isSeparateOrCombineMode=!0,a.setArgumentValue("Index",null==n?"1":n),a},e}();xa.combineActionConfig=null,xa.separateActionConfig=null;var Ia=function(){function e(){this.arguments=[],this.sourceType="STRING",this.targetType="STRING",this.serviceObject=new Object}return e.prototype.appliesToField=function(e,t){var n=null==e?null:e.type;if(null==n)return!1;if("STRING"==this.sourceType&&t.transition.isMapMode()&&t.hasMappedField(!0)){var i=t.getFields(!0)[0];if(!(-1!=["STRING","CHAR"].indexOf(i.type)))return!1}if("STRING"==this.targetType){return-1!=["STRING","CHAR"].indexOf(n)}return-1!=["LONG","INTEGER","FLOAT","DOUBLE"].indexOf(n)},e.prototype.populateFieldAction=function(e){e.name=this.name,e.config=this,e.argumentValues=[];for(var t=0,n=this.arguments;t<n.length;t++){var i=n[t];e.setArgumentValue(i.name,"0")}},e.prototype.getArgumentForName=function(e){for(var t=0,n=this.arguments;t<n.length;t++){var i=n[t];if(i.name==e)return i}return null},e}(),Fa={};Fa.MAP=0,Fa.SEPARATE=1,Fa.ENUM=2,Fa.COMBINE=3,Fa[Fa.MAP]="MAP",Fa[Fa.SEPARATE]="SEPARATE",Fa[Fa.ENUM]="ENUM",Fa[Fa.COMBINE]="COMBINE";var Oa={};Oa.NONE=0,Oa.COLON=1,Oa.COMMA=2,Oa.MULTISPACE=3,Oa.SPACE=4,Oa[Oa.NONE]="NONE",Oa[Oa.COLON]="COLON",Oa[Oa.COMMA]="COMMA",Oa[Oa.MULTISPACE]="MULTISPACE",Oa[Oa.SPACE]="SPACE";var ka=function(){return function(e,t,n){this.delimiter=Oa.SPACE,this.serializedValue=null,this.prettyName=null,this.delimiter=e,this.serializedValue=t,this.prettyName=n}}(),Ta=function(){function e(){if(this.mode=Fa.MAP,this.delimiter=Oa.SPACE,this.lookupTableName=null,0==e.delimiterModels.length){var t=[];t.push(new ka(Oa.NONE,null,"[None]")),t.push(new ka(Oa.COLON,"Colon","Colon")),t.push(new ka(Oa.COMMA,"Comma","Comma")),t.push(new ka(Oa.MULTISPACE,"MultiSpace","Multispace")),t.push(new ka(Oa.SPACE,"Space","Space")),e.delimiterModels=t}}return e.getActionConfigForName=function(t){if(null==t)return null;for(var n=0,i=e.actionConfigs;n<i.length;n++){var a=i[n];if(t==a.name)return a}return null},e.getTransitionDelimiterPrettyName=function(t){for(var n=0,i=e.delimiterModels;n<i.length;n++){var a=i[n];if(a.delimiter==t)return a.prettyName}return null},e.prototype.getSerializedDelimeter=function(){for(var t=0,n=e.delimiterModels;t<n.length;t++){var i=n[t];if(i.delimiter==this.delimiter)return i.serializedValue}return null},e.prototype.setSerializedDelimeterFromSerializedValue=function(t){for(var n=0,i=e.delimiterModels;n<i.length;n++){var a=i[n];a.serializedValue==t&&(this.delimiter=a.delimiter)}},e.prototype.getPrettyName=function(){var t=e.getTransitionDelimiterPrettyName(this.delimiter);return this.mode==Fa.SEPARATE?"Separate ("+t+")":this.mode==Fa.COMBINE?"Combine ("+t+")":this.mode==Fa.ENUM?"Enum (table: "+this.lookupTableName+")":"Map"},e.prototype.isSeparateMode=function(){return this.mode==Fa.SEPARATE},e.prototype.isMapMode=function(){return this.mode==Fa.MAP},e.prototype.isCombineMode=function(){return this.mode==Fa.COMBINE},e.prototype.isEnumerationMode=function(){return this.mode==Fa.ENUM},e}();Ta.delimiterModels=[],Ta.actionConfigs=[];var Pa={};Pa.DEBUG=0,Pa.INFO=1,Pa.WARN=2,Pa.ERROR=3,Pa.VALIDATION_ERROR=4,Pa[Pa.DEBUG]="DEBUG",Pa[Pa.INFO]="INFO",Pa[Pa.WARN]="WARN",Pa[Pa.ERROR]="ERROR",Pa[Pa.VALIDATION_ERROR]="VALIDATION_ERROR";var Ea=function(){function e(t,n,i){this.identifier=e.errorIdentifierCounter.toString(),this.message=t,this.level=n,this.error=i,e.errorIdentifierCounter++}return e}();Ea.errorIdentifierCounter=0;var Aa=function(){return function(){this.parsedName=null,this.parsedPath=null,this.parsedValue=null,this.parsedDocID=null,this.parsedDocURI=null,this.parsedIndex=null,this.fieldIsProperty=!1,this.fieldIsConstant=!1,this.parsedValueType=null,this.parsedActions=[],this.userCreated=!1}}(),Na=function(){function e(){this.parsedData=new Aa,this.field=_a.getNoneField(),this.actions=[]}return e.prototype.updateSeparateOrCombineIndex=function(e,t,n,i){var a=!e&&!t;if(a=a||t&&!i,a=a||e&&i)this.removeSeparateOrCombineAction();else{var o=this.actions.length>0?this.actions[0]:null;null!=o&&o.isSeparateOrCombineMode||(o=xa.createSeparateCombineFieldAction(e,n),this.actions=[o].concat(this.actions))}},e.prototype.removeSeparateOrCombineAction=function(){var e=this.actions.length>0?this.actions[0]:null;null!=e&&e.isSeparateOrCombineMode&&ga.removeItemFromArray(e,this.actions)},e.prototype.getSeparateOrCombineIndex=function(){var e=this.actions.length>0?this.actions[0]:null;return null!=e&&e.isSeparateOrCombineMode?e.argumentValues[0].value:null},e.prototype.removeAction=function(e){ga.removeItemFromArray(e,this.actions)},e.sortMappedFieldsByPath=function(e,t){if(null==e||0==e.length)return[];for(var n={},i=[],a=0,o=e;a<o.length;a++){var r=o[a];if(null!=r&&null!=r.field&&(t||r.field!=_a.getNoneField())){var s=r.field.path;n[s]=r,i.push(s)}}i.sort();for(var l=[],p=0,c=i;p<c.length;p++){var d=c[p];l.push(n[d])}return l},e.prototype.isMapped=function(){return null!=this.field&&this.field!=_a.getNoneField()},e}(),La=function(){function e(){this.sourceFields=[new Na],this.targetFields=[new Na],this.transition=new Ta}return e.prototype.addField=function(e,t){var n=new Na;n.field=e,this.getMappedFields(t).push(n)},e.prototype.hasMappedField=function(e){for(var t=0,n=e?this.sourceFields:this.targetFields;t<n.length;t++){if(n[t].isMapped())return!0}return!1},e.prototype.isFullyMapped=function(){return this.hasMappedField(!0)&&this.hasMappedField(!1)},e.prototype.addMappedField=function(e,t){this.getMappedFields(t).push(e)},e.prototype.removeMappedField=function(e,t){ga.removeItemFromArray(e,this.getMappedFields(t))},e.prototype.getMappedFieldForField=function(e,t){for(var n=0,i=this.getMappedFields(t);n<i.length;n++){var a=i[n];if(a.field==e)return a}return null},e.prototype.getMappedFields=function(e){return e?this.sourceFields:this.targetFields},e.prototype.getLastMappedField=function(e){var t=this.getMappedFields(e);return null!=t&&t.length>0?t[t.length-1]:null},e.prototype.getFields=function(e){for(var t=[],n=0,i=this.getMappedFields(e);n<i.length;n++){var a=i[n];null!=a.field&&t.push(a.field)}return t},e.prototype.getFieldNames=function(e){var t=this.getFields(e);fa.alphabetizeFields(t);for(var n=[],i=0,a=t;i<a.length;i++){var o=a[i];o!=_a.getNoneField()&&n.push(o.name)}return n},e.prototype.getFieldPaths=function(e){var t=this.getFields(e);fa.alphabetizeFields(t);for(var n=[],i=0,a=t;i<a.length;i++){var o=a[i];o!=_a.getNoneField()&&n.push(o.path)}return n},e.prototype.hasFieldActions=function(){for(var e=0,t=this.getAllMappedFields();e<t.length;e++){if(t[e].actions.length>0)return!0}return!1},e.prototype.getAllFields=function(){return this.getFields(!0).concat(this.getFields(!1))},e.prototype.getAllMappedFields=function(){return this.getMappedFields(!0).concat(this.getMappedFields(!1))},e.prototype.isFieldMapped=function(e){return null!=this.getMappedFieldForField(e,e.isSource())},e.prototype.hasTransition=function(){for(var e=0,t=this.getAllMappedFields();e<t.length;e++){if(t[e].actions.length>0)return!0}return!1},e.prototype.updateTransition=function(){for(var e=0,t=this.getAllFields();e<t.length;e++){if(t[e].enumeration){this.transition.mode=Fa.ENUM;break}}for(var n=this.getMappedFields(!1),i=0,a=n;i<a.length;i++){for(var o=[],r=0,s=(x=a[i]).actions;r<s.length;r++){var l=s[r],p=Ta.getActionConfigForName(l.name);null==p||p.appliesToField(x.field,this)||o.push(l)}for(var c=0,d=o;c<d.length;c++){l=d[c];x.removeAction(l)}}var u=this.transition.mode==Fa.SEPARATE,h=this.transition.mode==Fa.COMBINE;if(u||h){var f=h;n=this.getMappedFields(f);for(var g=0,m=this.getMappedFields(!f);g<m.length;g++){(x=m[g]).removeSeparateOrCombineAction()}for(var v=0,y=0,b=n;y<b.length;y++){var _=null==(S=(x=b[y]).getSeparateOrCombineIndex())?0:parseInt(S,10);v=Math.max(v,_)}v+=1;for(var C=0,w=n;C<w.length;C++){(x=w[C]).updateSeparateOrCombineIndex(u,h,v.toString(),f);var S=x.getSeparateOrCombineIndex();S==v.toString()&&(v+=1)}}else for(var M=0,D=this.getAllMappedFields();M<D.length;M++){var x=D[M];x.removeSeparateOrCombineAction()}},e}(),Ra=function(){function e(){this.fieldMappings=[],this.currentFieldMapping=null,this.validationErrors=[],this.brandNewMapping=!0,this.uuid="mapping."+Math.floor(1e6*Math.random()+1).toString(),this.fieldMappings.push(new La)}return e.prototype.getFirstFieldMapping=function(){return null==this.fieldMappings||0==this.fieldMappings.length?null:this.fieldMappings[0]},e.prototype.getLastFieldMapping=function(){return null==this.fieldMappings||0==this.fieldMappings.length?null:this.fieldMappings[this.fieldMappings.length-1]},e.prototype.getCurrentFieldMapping=function(){return null==this.currentFieldMapping?this.getLastFieldMapping():this.currentFieldMapping},e.prototype.addValidationError=function(e){var t=new Ea(e,Pa.VALIDATION_ERROR);this.validationErrors.push(t)},e.prototype.clearValidationErrors=function(){this.validationErrors=[]},e.prototype.getValidationErrors=function(){return this.validationErrors.filter(function(e){return e.level>=Pa.ERROR})},e.prototype.getValidationWarnings=function(){return this.validationErrors.filter(function(e){return e.level==Pa.WARN})},e.prototype.removeError=function(e){for(var t=0;t<this.validationErrors.length;t++)if(this.validationErrors[t].identifier==e)return void this.validationErrors.splice(t,1)},e.prototype.getFirstCollectionField=function(e){for(var t=0,n=this.getFields(e);t<n.length;t++){var i=n[t];if(i.isInCollection())return i}return null},e.prototype.isCollectionMode=function(){return null!=this.getFirstCollectionField(!0)||null!=this.getFirstCollectionField(!1)},e.prototype.isLookupMode=function(){for(var e=0,t=this.getAllFields();e<t.length;e++){if(t[e].enumeration)return!0}return!1},e.prototype.removeMappedPair=function(e){ga.removeItemFromArray(e,this.fieldMappings)},e.prototype.getMappedFields=function(e){for(var t=[],n=0,i=this.fieldMappings;n<i.length;n++){var a=i[n];t=t.concat(a.getMappedFields(e))}return t},e.prototype.isFieldSelectable=function(e){return null==this.getFieldSelectionExclusionReason(e)},e.prototype.getFieldSelectionExclusionReason=function(e){if(this.brandNewMapping)return null;if(!e.isTerminal())return"field is a parent field";var t=this.isCollectionMode(),n=this.isLookupMode(),i=!1,a=!1,o=!1;if(!t&&!n)for(var r=0,s=this.fieldMappings;r<s.length;r++){var l=s[r];i=i||l.transition.isMapMode(),a=a||l.transition.isSeparateMode(),o=o||l.transition.isCombineMode()}if(i||a||o){if(e.isInCollection())return"Repeated fields are not valid for this mapping";if(e.enumeration)return"Enumeration fields are not valid for this mapping";if(a&&!e.isStringField()&&e.isSource())return"source fields for this mapping must be type String"}else if(n){if(!e.enumeration)return"only Enumeration fields are valid for this mapping"}else if(t){if(e.enumeration)return"Enumeration fields are not valid for this mapping";if(!this.hasMappedFields(e.isSource()))return null;var p=this.getFirstCollectionField(e.isSource());if(null==p){if(e.isInCollection()){return(e.isSource?"source":"target")+" fields cannot be repeated fields for this mapping."}}else{var c=p.getCollectionParentField();if(!e.isInCollection())return"field is not selectable, it is not a child of "+c.displayName;if(e.getCollectionParentField()!=c)return"field is not selectable, it is not a child of "+c.displayName}}return null},e.prototype.isFieldMapped=function(e,t){return-1!=this.getFields(t).indexOf(e)},e.prototype.getAllMappedFields=function(){return this.getMappedFields(!0).concat(this.getMappedFields(!1))},e.prototype.getAllFields=function(){return this.getFields(!0).concat(this.getFields(!1))},e.prototype.getFields=function(e){for(var t=[],n=0,i=this.fieldMappings;n<i.length;n++){var a=i[n];t=t.concat(a.getFields(e))}return t},e.prototype.hasMappedFields=function(e){for(var t=0,n=this.getMappedFields(e);t<n.length;t++){if(n[t].isMapped())return!0}return!1},e.prototype.hasFullyMappedPair=function(){for(var e=0,t=this.fieldMappings;e<t.length;e++){if(t[e].isFullyMapped())return!0}return!1},e}(),ja=function(){function e(){this.sourceType="STRING",this.targetType="STRING"}return e.prototype.toJSON=function(){return{sourceValue:this.sourceValue,sourceType:this.sourceType,targetValue:this.targetValue,targetType:this.targetType}},e.prototype.fromJSON=function(e){this.sourceValue=e.sourceValue,this.sourceType=e.sourceType,this.targetValue=e.targetValue,this.targetType=e.targetType},e}(),Va=function(){function e(){this.entries=[],this.name=(new Date).getTime()+"-"+Math.floor(1e6*Math.random()).toString()}return e.prototype.getInputOutputKey=function(){return this.sourceIdentifier+":"+this.targetIdentifier},e.prototype.getEntryForSource=function(e,t){for(var n=0,i=this.entries;n<i.length;n++){if((a=i[n]).sourceValue==e)return a}if(t){var a=new ja;return a.sourceValue=e,this.entries.push(a),a}return null},e.prototype.toString=function(){var e="Lookup Table, name: "+this.name+", entries: "+this.entries.length;e+="\nsourceIdentifier: "+this.sourceIdentifier,e+="\n\targetIdentifier: "+this.targetIdentifier;for(var t=0,n=0,i=this.entries;n<i.length;n++){var a=i[n];e+="\n\tEntry #"+t+": "+a.sourceValue+" => "+a.targetValue,t+=1}return e},e}(),Ha=function(){function e(){}return e.serializeMappings=function(t){for(var n=t.mappings,i=[],a=0,o=n.mappings;a<o.length;a++){var r=o[a];try{for(var s=[],l=void 0,p=0,c=r.fieldMappings;p<c.length;p++){var d=c[p],u=e.serializeFields(d,!0,t),h=e.serializeFields(d,!1,t);l={jsonType:"io.atlasmap.v2.Mapping",mappingType:"MAP",id:r.uuid,inputField:u,outputField:h},d.transition.isSeparateMode()?(l.mappingType="SEPARATE",l.strategy=d.transition.getSerializedDelimeter()):d.transition.isCombineMode()?(l.mappingType="COMBINE",l.strategy=d.transition.getSerializedDelimeter()):d.transition.isEnumerationMode()&&(l.mappingType="LOOKUP",l.lookupTableName=d.transition.lookupTableName),s.push(l)}if(r.isCollectionMode()){for(var f=null,g=0,m=r.getAllFields();g<m.length;g++){if(null!=(f=m[g].getCollectionType()))break}s=[l={jsonType:wa.mappingServicesPackagePrefix+".Collection",mappingType:"COLLECTION",collectionType:f,mappings:{mapping:s}}]}i=i.concat(s)}catch(C){var v={mapping:r,"mapping def":n};t.errorService.error("Caught exception while attempting to serialize mapping, skipping. ",{input:v,error:C})}}var y=e.serializeLookupTables(t.mappings),b=e.serializeProperties(t.propertyDoc),_=e.serializeDocuments(t.sourceDocs.concat(t.targetDocs),n);return{AtlasMapping:{jsonType:wa.mappingServicesPackagePrefix+".AtlasMapping",dataSource:_,mappings:{mapping:i},name:t.mappings.name,lookupTables:{lookupTable:y},properties:{property:b}}}},e.serializeDocuments=function(e,t){for(var n=[],i=0,a=e;i<a.length;i++){var o=a[i],r=o.isSource?"SOURCE":"TARGET",s={jsonType:"io.atlasmap.v2.DataSource",id:o.initCfg.shortIdentifier,uri:o.uri,dataSourceType:r};if(null!=o.characterEncoding&&(s.characterEncoding=o.characterEncoding),null!=o.locale&&(s.locale=o.locale),o.initCfg.type.isXML()){s.jsonType="io.atlasmap.xml.v2.XmlDataSource";for(var l=[],p=0,c=o.namespaces;p<c.length;p++){var d=c[p];l.push({alias:d.alias,uri:d.uri,locationUri:d.locationUri,targetNamespace:d.isTarget})}o.isSource||(s.template=t.templateText),s.xmlNamespaces={xmlNamespace:l}}else o.initCfg.type.isJSON()&&(o.isSource||(s.template=t.templateText),s.jsonType="io.atlasmap.json.v2.JsonDataSource");n.push(s)}return n},e.serializeProperties=function(e){for(var t=[],n=0,i=e.fields;n<i.length;n++){var a=i[n];t.push({name:a.name,value:a.value,fieldType:a.type})}return t},e.serializeLookupTables=function(e){var t=e.getTables();if(!t||!t.length)return[];for(var n=[],i=0,a=t;i<a.length;i++){for(var o=a[i],r=[],s=0,l=o.entries;s<l.length;s++){var p=l[s],c={sourceValue:p.sourceValue,sourceType:p.sourceType,targetValue:p.targetValue,targetType:p.targetType};r.push(c)}var d={lookupEntry:r,name:o.name};n.push(d)}return n},e.serializeFields=function(e,t,n){for(var i=[],a=0,o=e.getMappedFields(t);a<o.length;a++){var r=o[a],s=r.field;if(_a.getNoneField().path!=s.path){var l={jsonType:s.serviceObject.jsonType,name:s.name,path:s.path,fieldType:s.type,value:s.value,docId:s.docDef.initCfg.shortIdentifier};(s.docDef.initCfg.type.isXML()||s.docDef.initCfg.type.isJSON())&&(l.userCreated=s.userCreated),s.isProperty()?(l.jsonType=wa.mappingServicesPackagePrefix+".PropertyField",l.name=s.path):s.isConstant()?(l.jsonType=wa.mappingServicesPackagePrefix+".ConstantField",delete l.name):s.enumeration?l.jsonType="io.atlasmap.java.v2.JavaEnumField":delete l.value;var p=e.transition.isSeparateMode()&&!t;if(p=p||e.transition.isCombineMode()&&t){var c=r.getSeparateOrCombineIndex();c=null==c?"1":c,l.index=parseInt(c,10)-1}if(r.actions.length){for(var d=[],u=0,h=r.actions;u<h.length;u++){var f=h[u];if(!f.isSeparateOrCombineMode){for(var g={},m=0,v=f.argumentValues;m<v.length;m++){var y=v[m];g[y.name]=y.value;var b=f.config.getArgumentForName(y.name);null!=b?"INTEGER"==b.type&&(g[y.name]=parseInt(y.value,10)):n.errorService.error("Cannot find action argument with name: "+y.name,f)}g=0==Object.keys(g).length?null:g;var _={};_[f.config.name]=g,d.push(_)}}d.length>0&&(l.actions=d)}i.push(l)}}return i},e.deserializeMappingServiceJSON=function(t,n,i){t&&t.AtlasMapping&&t.AtlasMapping.name&&(n.name=t.AtlasMapping.name),n.parsedDocs=n.parsedDocs.concat(e.deserializeDocs(t,n)),n.mappings=n.mappings.concat(e.deserializeMappings(t,i));for(var a=0,o=e.deserializeLookupTables(t);a<o.length;a++){var r=o[a];n.addTable(r)}for(var s=0,l=e.deserializeProperties(t);s<l.length;s++){var p=l[s];i.propertyDoc.addField(p)}},e.deserializeDocs=function(e,t){for(var n=[],i=0,a=e.AtlasMapping.dataSource;i<a.length;i++){var o=a[i],r=new _a;if(r.isSource="SOURCE"==o.dataSourceType,r.initCfg.documentIdentifier=o.uri,r.initCfg.shortIdentifier=o.id,o.xmlNamespaces&&o.xmlNamespaces.xmlNamespace)for(var s=0,l=o.xmlNamespaces.xmlNamespace;s<l.length;s++){var p=l[s],c=new ma;c.alias=p.alias,c.uri=p.uri,c.locationUri=p.locationUri,c.isTarget=p.targetNamespace,c.createdByUser=!0,r.namespaces.push(c)}o.template&&(t.templateText=o.template),n.push(r)}return n},e.deserializeMappings=function(t,n){for(var i=[],a={},o=0,r=t.AtlasMapping.dataSource;o<r.length;o++){var s=r[o];a[s.id]=s.uri}for(var l=0,p=t.AtlasMapping.mappings.mapping;l<p.length;l++){var c=p[l],d=new Ra;c.id&&(d.uuid=c.id),d.fieldMappings=[];if(c.jsonType==wa.mappingServicesPackagePrefix+".Collection")for(var u=0,h=c.mappings.mapping;u<h.length;u++){var f=h[u];d.fieldMappings.push(e.deserializeFieldMapping(f,a,n))}else d.fieldMappings.push(e.deserializeFieldMapping(c,a,n));i.push(d)}return i},e.deserializeFieldMapping=function(t,n,i){var a=new La;a.sourceFields=[],a.targetFields=[];for(var o="SEPARATE"==t.mappingType,r="LOOKUP"==t.mappingType,s="COMBINE"==t.mappingType,l=0,p=t.inputField;l<p.length;l++){u=p[l];e.addFieldIfDoesntExist(a,u,!0,n,i)}for(var c=0,d=t.outputField;c<d.length;c++){var u=d[c];e.addFieldIfDoesntExist(a,u,!1,n,i)}return o?(a.transition.mode=Fa.SEPARATE,a.transition.setSerializedDelimeterFromSerializedValue(t.strategy)):s?(a.transition.mode=Fa.COMBINE,a.transition.setSerializedDelimeterFromSerializedValue(t.strategy)):r?(a.transition.lookupTableName=t.lookupTableName,a.transition.mode=Fa.ENUM):a.transition.mode=Fa.MAP,a},e.deserializeProperties=function(e){var t=[];if(!e.AtlasMapping||!e.AtlasMapping.properties||!e.AtlasMapping.properties.property)return t;for(var n=0,i=e.AtlasMapping.properties.property;n<i.length;n++){var a=i[n],o=new fa;o.name=a.name,o.value=a.value,o.type=a.fieldType,o.userCreated=!0,t.push(o)}return t},e.deserializeLookupTables=function(e){var t=[];if(!e.AtlasMapping||!e.AtlasMapping.lookupTables||!e.AtlasMapping.lookupTables.lookupTable)return t;for(var n=0,i=e.AtlasMapping.lookupTables.lookupTable;n<i.length;n++){var a=i[n],o=new Va;o.name=a.name;for(var r=0,s=a.lookupEntry;r<s.length;r++){var l=s[r],p=new ja;p.sourceValue=l.sourceValue,p.sourceType=l.sourceType,p.targetValue=l.targetValue,p.targetType=l.targetType,o.entries.push(p)}t.push(o)}return t},e.addFieldIfDoesntExist=function(e,t,n,i,a){var o=new Na;if(o.parsedData.parsedValueType=t.fieldType,o.parsedData.parsedIndex="1",null!=t.index&&(o.parsedData.parsedIndex=(t.index+1).toString()),t.jsonType==wa.mappingServicesPackagePrefix+".PropertyField")o.parsedData.parsedName=t.name,o.parsedData.parsedPath=t.name,o.parsedData.fieldIsProperty=!0;else if(t.jsonType==wa.mappingServicesPackagePrefix+".ConstantField")o.parsedData.fieldIsConstant=!0,o.parsedData.parsedValue=t.value,o.parsedData.parsedPath=t.path;else{if(null==t.docId)return a.errorService.error("Parsed mapping field does not have document id, dropping.",t),null;if(o.parsedData.parsedName=t.name,o.parsedData.parsedPath=t.path,o.parsedData.parsedDocID=t.docId,o.parsedData.parsedDocURI=i[t.docId],t.userCreated&&(o.parsedData.userCreated=!0),null==o.parsedData.parsedDocURI)return a.errorService.error("Could not find document URI for parsed mapped field.",{fieldJSON:t,knownDocs:i}),null;if(t.actions)for(var r=0,s=t.actions;r<s.length;r++){var l=s[r];for(var p in l)if(l.hasOwnProperty(p)){var c=new xa;c.name=p;var d=l[p];if(d)for(var u in d)if(d.hasOwnProperty(u)){var h=new Da;h.name=u;var f=d[u];f=null==f?null:f.toString(),h.value=f,c.argumentValues.push(h)}o.parsedData.parsedActions.push(c)}}}return e.addMappedField(o,n),o},e}(),Ba=function(){function e(e){this.http=e,this.mappingUpdatedSource=new h.Subject,this.mappingUpdated$=this.mappingUpdatedSource.asObservable(),this.saveMappingSource=new h.Subject,this.saveMappingOutput$=this.saveMappingSource.asObservable(),this.mappingSelectionRequiredSource=new h.Subject,this.mappingSelectionRequired$=this.mappingSelectionRequiredSource.asObservable(),this.headers=new i.Headers,this.headers.append("Content-Type","application/json")}return e.prototype.initialize=function(){},e.prototype.findMappingFiles=function(e){var t=this;return new o.Observable(function(n){var i=t.cfg.initCfg.baseMappingServiceUrl+"mappings"+(null==e?"":"?filter="+e);ga.debugLogJSON(null,"Mapping List Response",t.cfg.initCfg.debugMappingServiceCalls,i),t.http.get(i,{headers:t.headers}).toPromise().then(function(e){var a=e.json();ga.debugLogJSON(a,"Mapping List Response",t.cfg.initCfg.debugMappingServiceCalls,i);for(var o=[],r=0,s=a.StringMap.stringMapEntry;r<s.length;r++){var l=s[r];o.push(l.name)}n.next(o),n.complete()})["catch"](function(e){n.error(e),n.complete()})})},e.prototype.fetchMappings=function(e,t){var n=this;return new o.Observable(function(i){if(0!=e.length){for(var a=n.cfg.initCfg.baseMappingServiceUrl+"mapping/",r=[],s=0,l=e;s<l.length;s++){var p=a+l[s];ga.debugLogJSON(null,"Mapping Service Request",n.cfg.initCfg.debugMappingServiceCalls,p);var c=n.http.get(p).map(function(e){return e.json()});r.push(c)}o.Observable.forkJoin(r).subscribe(function(e){if(!e)return i.next(!1),void i.complete();for(var a=0,o=e;a<o.length;a++){var r=o[a];ga.debugLogJSON(r,"Mapping Service Response",n.cfg.initCfg.debugMappingServiceCalls,null),Ha.deserializeMappingServiceJSON(r,t,n.cfg)}n.notifyMappingUpdated(),i.next(!0),i.complete()},function(e){i.error(e),i.complete()})}else i.complete()})},e.prototype.saveCurrentMapping=function(){var e=this.cfg.mappings.activeMapping;null!=e&&-1==this.cfg.mappings.mappings.indexOf(e)&&this.cfg.mappings.mappings.push(e);for(var t=[],n=0,i=this.cfg.mappings.mappings;n<i.length;n++){var a=i[n];a.hasFullyMappedPair()&&t.push(a)}this.cfg.mappings.mappings=t,this.saveMappingSource.next(null)},e.prototype.serializeMappingsToJSON=function(){return Ha.serializeMappings(this.cfg)},e.prototype.saveMappingToService=function(){var e=this,t=this.serializeMappingsToJSON(),n=this.cfg.initCfg.baseMappingServiceUrl+"mapping";ga.debugLogJSON(t,"Mapping Service Request",this.cfg.initCfg.debugMappingServiceCalls,n),this.http.put(n,JSON.stringify(t),{headers:this.headers}).toPromise().then(function(t){ga.debugLogJSON(t,"Mapping Service Response",e.cfg.initCfg.debugMappingServiceCalls,n)})["catch"](function(t){e.handleError("Error occurred while saving mapping.",t)})},e.prototype.handleMappingSaveSuccess=function(e){null!=e&&e(),this.notifyMappingUpdated()},e.prototype.removeMapping=function(e){var t=this;if(this.cfg.mappings.removeMapping(e)){this.saveMappingSource.next(function(){t.deselectMapping()})}else this.deselectMapping()},e.prototype.removeMappedPair=function(e){this.cfg.mappings.activeMapping.removeMappedPair(e),0==this.cfg.mappings.activeMapping.fieldMappings.length?this.deselectMapping():this.notifyMappingUpdated(),this.saveCurrentMapping()},e.prototype.addMappedPair=function(){var e=new La;return this.cfg.mappings.activeMapping.fieldMappings.push(e),this.notifyMappingUpdated(),this.saveCurrentMapping(),e},e.prototype.updateMappedField=function(e){e.updateTransition(),this.notifyMappingUpdated(),this.saveCurrentMapping()},e.prototype.fieldSelected=function(e){if(!e.isTerminal())return e.docDef.populateChildren(e),e.docDef.updateFromMappings(this.cfg.mappings,this.cfg),void(e.collapsed=!e.collapsed);var t=this.cfg.mappings.activeMapping;if(null!=t&&t.hasMappedFields(e.isSource())&&!t.isFieldMapped(e,e.isSource())&&(t=null),null==t){var n=this.cfg.mappings.findMappingsForField(e);if(n&&n.length>1)return void this.mappingSelectionRequiredSource.next(e);n&&1==n.length&&(t=n[0])}if(null!=t){var i=t.getFieldSelectionExclusionReason(e);if(null==i){t.brandNewMapping=!1;var a=t.getCurrentFieldMapping(),o=a.getLastMappedField(e.isSource());null!=o&&(o.field=e),a.updateTransition(),this.selectMapping(t)}else this.cfg.errorService.warn("The field '"+e.displayName+"' cannot be selected, "+i+".",null)}else this.addNewMapping(e)},e.prototype.addNewMapping=function(e){this.deselectMapping();var t=new Ra;if(t.brandNewMapping=!1,null!=e){var n=t.getFirstFieldMapping();n.getMappedFields(e.isSource())[0].field=e,n.updateTransition()}this.selectMapping(t)},e.prototype.selectMapping=function(e){if(null!=e){this.cfg.mappings.activeMapping=e,this.cfg.showMappingDetailTray=!0;for(var t=0,n=e.fieldMappings;t<n.length;t++){var i=n[t];_a.selectFields(i.getAllFields())}this.cfg.mappings.initializeMappingLookupTable(e),this.saveCurrentMapping(),this.notifyMappingUpdated()}else this.deselectMapping()},e.prototype.deselectMapping=function(){this.cfg.showMappingDetailTray=!1,this.cfg.mappings.activeMapping=null;for(var e=0,t=this.cfg.getAllDocs();e<t.length;e++){t[e].clearSelectedFields()}this.notifyMappingUpdated()},e.prototype.validateMappings=function(){var e=this;if(null!=this.cfg.initCfg.baseMappingServiceUrl){var t=Ha.serializeMappings(this.cfg),n=this.cfg.initCfg.baseMappingServiceUrl+"mapping/validate";ga.debugLogJSON(t,"Validation Service Request",this.cfg.initCfg.debugValidationServiceCalls,n),this.http.put(n,t,{headers:this.headers}).toPromise().then(function(t){ga.debugLogJSON(t,"Validation Service Response",e.cfg.initCfg.debugValidationServiceCalls,n);var i=e.cfg.mappings.activeMapping,a=t.json(),o=[],r=[];if(a&&a.Validations&&a.Validations.validation)for(var s=0,l=a.Validations.validation;s<l.length;s++){var p=l[s],c=Pa.VALIDATION_ERROR;"WARN"===p.status?c=Pa.WARN:"INFO"===p.status&&(c=Pa.INFO);var d=new Ea(p.message,c);p.scope&&"MAPPING"==p.scope&&p.id?i&&i.uuid&&p.id===i.uuid&&o.push(d):r.push(d)}e.cfg.validationErrors=r,i&&(i.validationErrors=o)})["catch"](function(i){e.cfg.errorService.error("Error fetching validation data.",{error:i,url:n,request:t})})}},e.prototype.fetchFieldActions=function(){var e=this;return new o.Observable(function(t){var n=[],i=e.cfg.initCfg.baseMappingServiceUrl+"fieldActions";ga.debugLogJSON(null,"Field Action Config Request",e.cfg.initCfg.debugFieldActionServiceCalls,i),e.http.get(i,{headers:e.headers}).toPromise().then(function(a){var o=a.json();if(ga.debugLogJSON(o,"Field Action Config Response",e.cfg.initCfg.debugFieldActionServiceCalls,i),o&&o.ActionDetails&&o.ActionDetails.actionDetail&&o.ActionDetails.actionDetail.length)for(var r=0,s=o.ActionDetails.actionDetail;r<s.length;r++){var l=s[r],p=new Ia;if(p.name=l.name,p.sourceType=l.sourceType,p.targetType=l.targetType,p.method=l.method,p.serviceObject=l,l.parameters&&l.parameters.property&&l.parameters.property.length)for(var c=0,d=l.parameters.property;c<d.length;c++){var u=d[c],h=new Ma;h.name=u.name,h.type=u.fieldType,h.serviceObject=u,p.arguments.push(h)}n.push(p)}n=e.sortFieldActionConfigs(n),t.next(n),t.complete()})["catch"](function(e){t.error(e),t.next(n),t.complete()})})},e.prototype.sortFieldActionConfigs=function(e){var t=[];if(null==e||0==e.length)return t;for(var n={},i=[],a=0,o=e;a<o.length;a++){var r=o[a];null==n[p=r.name]&&(n[p]=r,i.push(p))}i.sort();for(var s=0,l=i;s<l.length;s++){var p=l[s];t.push(n[p])}return t},e.prototype.notifyMappingUpdated=function(){this.cfg.mappings.mappings.length>0&&this.validateMappings(),this.mappingUpdatedSource.next()},e.prototype.handleError=function(e,t){this.cfg.errorService.error(e,t)},e}();Ba.decorators=[{type:t.Injectable}],Ba.ctorParameters=function(){return[{type:i.Http}]};var za=function(){function e(){this.cfg=null}return e.prototype.debug=function(e,t){this.addError(e,Pa.DEBUG,t)},e.prototype.info=function(e,t){this.addError(e,Pa.INFO,t)},e.prototype.warn=function(e,t){this.addError(e,Pa.WARN,t)},e.prototype.error=function(e,t){this.addError(e,Pa.ERROR,t)},e.prototype.validationError=function(e,t){this.addValidationError(e,t)},e.prototype.removeError=function(e){this.cfg.errors=this.cfg.errors.filter(function(t){return t.identifier!==e}),this.cfg.validationErrors=this.cfg.validationErrors.filter(function(t){return t.identifier!==e})},e.prototype.clearValidationErrors=function(){this.cfg.validationErrors=[]},e.prototype.addError=function(e,t,n){if(this.arrayDoesNotContainError(e)){var i=new Ea(e,t,n);this.cfg.errors.push(i)}},e.prototype.arrayDoesNotContainError=function(e){return 0===this.cfg.errors.filter(function(t){return t.message===e}).length},e.prototype.addValidationError=function(e,t){var n=new Ea(e,Pa.VALIDATION_ERROR,t);this.cfg.validationErrors.push(n)},e}();za.decorators=[{type:t.Injectable}],za.ctorParameters=function(){return[]};var Ua=function(){function e(){this.name=null,this.mappings=[],this.activeMapping=null,this.parsedDocs=[],this.templateText=null,this.tables=[],this.tablesBySourceTargetKey={},this.tablesByName={},this.name="UI."+Math.floor(1e6*Math.random()+1).toString()}return e.prototype.templateExists=function(){return null!=this.templateText&&""!=this.templateText},e.prototype.addTable=function(e){this.tablesBySourceTargetKey[e.getInputOutputKey()]=e,this.tablesByName[e.name]=e,this.tables.push(e)},e.prototype.getTableByName=function(e){return this.tablesByName[e]},e.prototype.detectTableIdentifiers=function(){for(var e=0,t=this.getTables();e<t.length;e++){var n=t[e];if(!n.sourceIdentifier||!n.targetIdentifier){if(null!=(c=this.getFirstMappingForLookupTable(n.name)))for(var i=0,a=c.fieldMappings;i<a.length;i++){var o=a[i];if(null!=o.transition.lookupTableName){if(!n.sourceIdentifier){var r=o.getFields(!0)[0];r&&(n.sourceIdentifier=r.classIdentifier)}if(!n.targetIdentifier){var s=o.getFields(!1)[0];s&&(n.targetIdentifier=s.classIdentifier)}}}}}for(var l=0,p=this.mappings;l<p.length;l++){var c=p[l];this.initializeMappingLookupTable(c)}},e.prototype.getTableBySourceTarget=function(e,t){var n=e+":"+t;return this.tablesBySourceTargetKey[n]},e.prototype.getTables=function(){var e=[];for(var t in this.tablesByName)if(this.tablesByName.hasOwnProperty(t)){var n=this.tablesByName[t];e.push(n)}return e},e.prototype.getFirstMappingForLookupTable=function(e){for(var t=0,n=this.mappings;t<n.length;t++)for(var i=n[t],a=0,o=i.fieldMappings;a<o.length;a++){if(o[a].transition.lookupTableName==e)return i}return null},e.prototype.removeStaleMappings=function(e){for(var t=0,n=[],i=0,a=e.getDocs(!0);i<a.length;i++){l=a[i];n=n.concat(fa.getFieldPaths(l.getAllFields()))}for(var o=[],r=0,s=e.getDocs(!1);r<s.length;r++){var l=s[r];o=o.concat(fa.getFieldPaths(l.getAllFields()))}for(;t<this.mappings.length;){var p=this.mappings[t];this.isMappingStale(p,n,o)?this.mappings.splice(t,1):t++}},e.prototype.isMappingStale=function(e,t,n){for(var i=0,a=e.getFields(!0);i<a.length;i++){s=a[i];if(-1==t.indexOf(s.path))return!0}for(var o=0,r=e.getFields(!1);o<r.length;o++){var s=r[o];if(-1==n.indexOf(s.path))return!0}return!1},e.prototype.initializeMappingLookupTable=function(e){for(var t=0,n=e.fieldMappings;t<n.length;t++){var i=n[t];if(i.transition.mode!=Fa.ENUM||null!=i.transition.lookupTableName||1!=i.getFields(!0).length||1!=i.getFields(!1).length)return;var a=null,o=null,r=i.getFields(!0)[0];r&&(a=r.classIdentifier);var s=i.getFields(!0)[0];if(s&&(o=s.classIdentifier),a&&o){var l=this.getTableBySourceTarget(a,o);null==l?((l=new Va).sourceIdentifier=a,l.targetIdentifier=o,this.addTable(l),i.transition.lookupTableName=l.name):i.transition.lookupTableName=l.name}}},e.prototype.updateMappingsFromDocuments=function(e){for(var t={},n=0,i=e.getDocs(!0);n<i.length;n++){t[(f=i[n]).uri]=f}for(var a={},o=0,r=e.getDocs(!1);o<r.length;o++){a[(f=r[o]).uri]=f}for(var s=0,l=this.mappings;s<l.length;s++)for(var p=0,c=l[s].fieldMappings;p<c.length;p++){var d=c[p];this.updateMappedFieldsFromDocuments(d,e,t,!0),this.updateMappedFieldsFromDocuments(d,e,a,!1)}for(var u=0,h=e.getAllDocs();u<h.length;u++){var f=h[u];null==f.initCfg.shortIdentifier&&(f.initCfg.shortIdentifier="DOC."+f.name+"."+Math.floor(1e6*Math.random()+1).toString())}},e.prototype.updateDocumentNamespacesFromMappings=function(e){for(var t=e.getDocs(!1),n=0,i=this.parsedDocs;n<i.length;n++){var a=i[n];if(!a.isSource&&0!=a.namespaces.length){var o=_a.getDocumentByIdentifier(a.initCfg.documentIdentifier,t);null!=o?o.namespaces=[].concat(a.namespaces):e.errorService.error("Could not find document with identifier '"+a.initCfg.documentIdentifier+"' for namespace override.",{identifier:a.initCfg.documentIdentifier,parsedDoc:a,docs:t})}}},e.prototype.getAllMappings=function(e){var t=[].concat(this.mappings);if(e){if(null==this.activeMapping)return t;for(var n=0,i=t;n<i.length;n++){if(i[n]==this.activeMapping)return t}t.push(this.activeMapping)}return t},e.prototype.findMappingsForField=function(e){for(var t=[],n=0,i=this.mappings;n<i.length;n++){var a=i[n];a.isFieldMapped(e,e.isSource())&&t.push(a)}return t},e.prototype.removeMapping=function(e){return ga.removeItemFromArray(e,this.mappings)},e.prototype.removeFieldFromAllMappings=function(e){for(var t=0,n=this.getAllMappings(!0);t<n.length;t++)for(var i=0,a=n[t].fieldMappings;i<a.length;i++){var o=a[i].getMappedFieldForField(e,e.isSource());null!=o&&(o.field=_a.getNoneField())}},e.prototype.updateMappedFieldsFromDocuments=function(e,t,n,i){for(var a=0,o=e.getMappedFields(i);a<o.length;a++){var r=o[a],s=null;if(r.parsedData.fieldIsProperty)s=t.propertyDoc;else if(r.parsedData.fieldIsConstant)s=t.constantDoc;else{if(null==(s=n[r.parsedData.parsedDocURI])){t.errorService.error("Could not find doc for mapped field.",r);continue}if(null==r.parsedData.parsedDocID){t.errorService.error("Could not find doc ID for mapped field.",r);continue}s.initCfg.shortIdentifier=r.parsedData.parsedDocID}if(r.field=null,r.parsedData.userCreated||(r.field=s.getField(r.parsedData.parsedPath)),null==r.field)if(r.parsedData.fieldIsConstant){var l=new fa;l.value=r.parsedData.parsedValue,l.type=r.parsedData.parsedValueType,l.displayName=l.value,l.name=l.value,l.path=l.value,l.userCreated=!0,r.field=l,s.addField(l)}else{if(!r.parsedData.userCreated)return t.errorService.error("Could not find field from doc for mapped field.",{mappedField:r,doc:s}),void(r.field=_a.getNoneField());var p=r.parsedData.parsedPath;r.field=new fa,r.field.serviceObject.jsonType="io.atlasmap.xml.v2.XmlField",r.field.path=p,r.field.type=r.parsedData.parsedValueType,r.field.userCreated=!0;var c=p.lastIndexOf("/"),d=c>0?p.substring(0,c):null,u=-1==c?p:p.substring(c+1),h=null;-1!=u.indexOf(":")&&(h=u.split(":")[0],u=u.split(":")[1]),r.field.name=u,r.field.displayName=u,r.field.isAttribute=-1!=u.indexOf("@"),r.field.namespaceAlias=h,null!=d&&(r.field.parentField=s.getField(d)),null==r.field.parentField&&(r.field.parentField=_a.getNoneField()),s.addField(r.field)}if(r.parsedData.parsedActions.length>0)for(var f=0,g=r.parsedData.parsedActions;f<g.length;f++){var m=g[f],v=Ta.getActionConfigForName(m.name);null!=v?(v.populateFieldAction(m),r.actions.push(m)):t.errorService.error("Could not find field action config for action name '"+m.name+"'",null)}var y=e.transition.isSeparateMode(),b=e.transition.isCombineMode(),_=r.parsedData.parsedIndex;r.updateSeparateOrCombineIndex(y,b,_,i)}},e}(),Wa=function(){function e(e,t,n){this.documentService=e,this.mappingService=t,this.errorService=n,this.cfg=wa.getConfig(),this.systemInitializedSource=new h.Subject,this.systemInitialized$=this.systemInitializedSource.asObservable(),this.initializationStatusChangedSource=new h.Subject,this.initializationStatusChanged$=this.initializationStatusChangedSource.asObservable(),this.resetConfig(),this.cfg.documentService.initialize(),this.cfg.mappingService.initialize()}return e.prototype.resetConfig=function(){this.cfg=new wa,this.cfg.documentService=this.documentService,this.cfg.documentService.cfg=this.cfg,this.cfg.mappingService=this.mappingService,this.cfg.mappingService.cfg=this.cfg,this.cfg.errorService=this.errorService,this.cfg.errorService.cfg=this.cfg,this.cfg.initializationService=this,wa.setConfig(this.cfg)},e.prototype.initialize=function(){var t=this;if(null==this.cfg.mappingService?this.cfg.errorService.warn("Mapping service is not configured, validation service will not be used.",null):null==this.cfg.initCfg.baseMappingServiceUrl&&this.cfg.errorService.warn("Mapping service URL is not configured, validation service will not be used.",null),this.cfg.initCfg.discardNonMockSources&&(this.cfg.sourceDocs=[],this.cfg.targetDocs=[]),this.cfg.initCfg.addMockJSONMappings){var n=new Ua,i=e.createExampleMappingsJSON();Ha.deserializeMappingServiceJSON(i,n,this.cfg),this.cfg.mappings=n}if((this.cfg.initCfg.addMockJavaSources||this.cfg.initCfg.addMockJavaSingleSource)&&(this.cfg.addJavaDocument("io.atlasmap.java.test.TargetTestClass",!0),this.cfg.initCfg.addMockJavaSources&&(this.cfg.addJavaDocument("io.atlasmap.java.test.SourceContact",!0),this.cfg.addJavaDocument("io.atlasmap.java.test.SourceAddress",!0),this.cfg.addJavaDocument("io.atlasmap.java.test.TestListOrders",!0),this.cfg.addJavaDocument("io.atlasmap.java.test.TargetOrderArray",!0),this.cfg.addJavaDocument("io.atlasmap.java.test.SourceFlatPrimitiveClass",!0),this.cfg.addJavaDocument("io.atlasmap.java.test.SourceOrder",!0))),this.cfg.initCfg.addMockJavaCachedSource){(a=this.cfg.addJavaDocument("io.atlasmap.java.test.Name",!0)).initCfg.inspectionResultContents=Sa.generateMockJavaDoc()}if(this.cfg.initCfg.addMockXMLInstanceSources&&this.cfg.addXMLInstanceDocument("XMLInstanceSource",Sa.generateMockInstanceXMLDoc(),!0),this.cfg.initCfg.addMockXMLSchemaSources&&this.cfg.addXMLSchemaDocument("XMLSchemaSource",Sa.generateMockSchemaXMLDoc(),!0),(this.cfg.initCfg.addMockJSONSources||this.cfg.initCfg.addMockJSONInstanceSources)&&this.cfg.addJSONInstanceDocument("JSONInstanceSource",Sa.generateMockJSONInstanceDoc(),!0),this.cfg.initCfg.addMockJSONSchemaSources&&this.cfg.addJSONSchemaDocument("JSONSchemaSource",Sa.generateMockJSONSchemaDoc(),!0),this.cfg.initCfg.addMockJavaTarget&&this.cfg.addJavaDocument("io.atlasmap.java.test.TargetTestClass",!1),this.cfg.initCfg.addMockJavaCachedTarget){var a=this.cfg.addJavaDocument("io.atlasmap.java.test.Name",!1);a.initCfg.inspectionResultContents=Sa.generateMockJavaDoc()}this.cfg.initCfg.addMockXMLInstanceTarget&&this.cfg.addXMLInstanceDocument("XMLInstanceTarget",Sa.generateMockInstanceXMLDoc(),!1),this.cfg.initCfg.addMockXMLSchemaTarget&&this.cfg.addXMLSchemaDocument("XMLSchemaTarget",Sa.generateMockSchemaXMLDoc(),!1),(this.cfg.initCfg.addMockJSONTarget||this.cfg.initCfg.addMockJSONInstanceTarget)&&this.cfg.addJSONInstanceDocument("JSONInstanceTarget",Sa.generateMockJSONInstanceDoc(),!1),this.cfg.initCfg.addMockJSONSchemaTarget&&this.cfg.addJSONSchemaDocument("JSONSchemaTarget",Sa.generateMockJSONSchemaDoc(),!1),this.fetchFieldActions(),this.cfg.isClassPathResolutionNeeded()?(this.updateLoadingStatus("Loading Maven class path."),this.cfg.documentService.fetchClassPath().subscribe(function(e){t.cfg.initCfg.classPath=e,t.fetchDocuments(),t.updateStatus()},function(e){t.handleError("could not load Maven class path.",e)})):this.fetchDocuments(),null!=this.cfg.mappings?(this.cfg.initCfg.mappingInitialized=!0,this.updateStatus()):(this.cfg.mappings=new Ua,this.cfg.mappingFiles.length>0?this.fetchMappings(this.cfg.mappingFiles):this.cfg.mappingService.findMappingFiles("UI").subscribe(function(e){t.fetchMappings(e)},function(e){t.handleError("could not load mapping files.",e)}))},e.prototype.fetchDocuments=function(){var e=this;this.updateLoadingStatus("Loading source/target documents.");for(var t=function(t){if(t==n.cfg.propertyDoc||t==n.cfg.constantDoc)return t.initCfg.initialized=!0,"continue";var i=t.initCfg.shortIdentifier;return t.initCfg.type.isJava()&&null==n.cfg.initCfg.baseJavaInspectionServiceUrl?(n.cfg.errorService.warn("Java inspection service is not configured. Document will not be loaded: "+i,t),t.initCfg.initialized=!0,n.updateStatus(),"continue"):t.initCfg.type.isXML()&&null==n.cfg.initCfg.baseXMLInspectionServiceUrl?(n.cfg.errorService.warn("XML inspection service is not configured. Document will not be loaded: "+i,t),t.initCfg.initialized=!0,n.updateStatus(),"continue"):t.initCfg.type.isJSON()&&null==n.cfg.initCfg.baseJSONInspectionServiceUrl?(n.cfg.errorService.warn("JSON inspection service is not configured. Document will not be loaded: "+i,t),t.initCfg.initialized=!0,n.updateStatus(),"continue"):void n.cfg.documentService.fetchDocument(t,n.cfg.initCfg.classPath).subscribe(function(t){e.updateStatus()},function(n){e.handleError("Could not load document '"+t.initCfg.documentIdentifier+"'.",n)})},n=this,i=0,a=this.cfg.getAllDocs();i<a.length;i++){t(a[i])}},e.prototype.fetchMappings=function(e){var t=this;if(0==e.length)return this.cfg.initCfg.mappingInitialized=!0,void this.updateStatus();this.cfg.mappingService.fetchMappings(e,this.cfg.mappings).subscribe(function(e){t.cfg.initCfg.mappingInitialized=!0,t.updateStatus()},function(e){t.handleError("could not load mapping definitions.",e)})},e.prototype.fetchFieldActions=function(){var e=this;return null==this.cfg.mappingService?(this.cfg.errorService.warn("Mapping service is not provided. Field Actions will not be used.",null),this.cfg.initCfg.fieldActionsInitialized=!0,void this.updateStatus()):null==this.cfg.initCfg.baseMappingServiceUrl?(this.cfg.errorService.warn("Mapping service URL is not provided. Field Actions will not be used.",null),this.cfg.initCfg.fieldActionsInitialized=!0,void this.updateStatus()):void this.cfg.mappingService.fetchFieldActions().subscribe(function(t){Ta.actionConfigs=t,e.cfg.initCfg.fieldActionsInitialized=!0,e.updateStatus()},function(t){e.handleError("Could not load field action configs.",t)})},e.prototype.updateStatus=function(){for(var e=this.cfg.getAllDocs().length,t=0,n=0,i=this.cfg.getAllDocs();n<i.length;n++){var a=i[n];(a.initCfg.initialized||a.initCfg.errorOccurred)&&t++}if(e==t&&this.cfg.initCfg.mappingInitialized&&this.cfg.initCfg.fieldActionsInitialized){this.cfg.mappings.detectTableIdentifiers(),this.cfg.mappings.updateDocumentNamespacesFromMappings(this.cfg),this.cfg.mappings.updateMappingsFromDocuments(this.cfg);for(var o=0,r=this.cfg.getAllDocs();o<r.length;o++){r[o].updateFromMappings(this.cfg.mappings,this.cfg)}this.cfg.mappings.removeStaleMappings(this.cfg),this.updateLoadingStatus("Initialization complete."),this.cfg.initCfg.initialized=!0,this.systemInitializedSource.next()}},e.prototype.handleError=function(e,t){e="Data Mapper UI Initialization Error: "+e,this.cfg.errorService.error(e,t),this.updateLoadingStatus(e),this.cfg.initCfg.initializationErrorOccurred=!0,this.updateStatus()},e.prototype.updateLoadingStatus=function(e){this.cfg.initCfg.loadingStatus=e,this.initializationStatusChangedSource.next()},e.createExamplePom=function(){return'\n            <project xmlns="http://maven.apache.org/POM/4.0.0"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">\n\n                <modelVersion>4.0.0</modelVersion>\n                <groupId>foo.bar</groupId>\n                <artifactId>test.model</artifactId>\n                <version>1.10.0</version>\n                <packaging>jar</packaging>\n                <name>Test :: Model</name>\n\n                <dependencies>\n                    <dependency>\n                        <groupId>com.fasterxml.jackson.core</groupId>\n                        <artifactId>jackson-annotations</artifactId>\n                        <version>2.8.5</version>\n                    </dependency>\n                    <dependency>\n                        <groupId>com.fasterxml.jackson.core</groupId>\n                        <artifactId>jackson-databind</artifactId>\n                        <version>2.8.5</version>\n                    </dependency>\n                    <dependency>\n                        <groupId>com.fasterxml.jackson.core</groupId>\n                        <artifactId>jackson-core</artifactId>\n                        <version>2.8.5</version>\n                    </dependency>\n                </dependencies>\n            </project>\n        '},e.createExampleMappingsJSON=function(){return{AtlasMapping:{jsonType:wa.mappingServicesPackagePrefix+".AtlasMapping",fieldMappings:{fieldMapping:[{jsonType:wa.mappingServicesPackagePrefix+".MapFieldMapping",inputField:{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:[]},name:"text",className:"java.lang.String",type:"STRING",getMethod:"getText",primitive:!0,array:!1,synthetic:!1,path:"Text"},fieldActions:null},outputField:{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:["PRIVATE"]},name:"Description",className:"java.lang.String",type:"STRING",getMethod:"getDescription",setMethod:"setDescription",primitive:!0,array:!1,synthetic:!1,path:"Description"},fieldActions:null}},{jsonType:wa.mappingServicesPackagePrefix+".SeparateFieldMapping",inputField:{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:[]},name:"name",className:"java.lang.String",type:"STRING",getMethod:"getName",primitive:!0,array:!1,synthetic:!1,path:"User.Name"},fieldActions:null},outputFields:{mappedField:[{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:["PRIVATE"]},name:"FirstName",className:"java.lang.String",type:"STRING",getMethod:"getFirstName",setMethod:"setFirstName",primitive:!0,array:!1,synthetic:!1,path:"FirstName"},fieldActions:{fieldAction:[{jsonType:wa.mappingServicesPackagePrefix+".MapAction",index:0}]}},{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:["PRIVATE"]},name:"LastName",className:"java.lang.String",type:"STRING",getMethod:"getLastName",setMethod:"setLastName",primitive:!0,array:!1,synthetic:!1,path:"LastName"},fieldActions:{fieldAction:[{jsonType:wa.mappingServicesPackagePrefix+".MapAction",index:1}]}}]},strategy:"SPACE"},{jsonType:wa.mappingServicesPackagePrefix+".MapFieldMapping",inputField:{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:[]},name:"screenName",className:"java.lang.String",type:"STRING",getMethod:"getScreenName",primitive:!0,array:!1,synthetic:!1,path:"User.ScreenName"},fieldActions:null},outputField:{jsonType:wa.mappingServicesPackagePrefix+".MappedField",field:{jsonType:wa.javaServicesPackagePrefix+".JavaField",status:"SUPPORTED",modifiers:{modifier:["PRIVATE"]},name:"Title",className:"java.lang.String",type:"STRING",getMethod:"getTitle",setMethod:"setTitle",primitive:!0,array:!1,synthetic:!1,path:"Title"},fieldActions:null}}]},name:"UI.867332",sourceUri:"atlas:java?className=twitter4j.Status",targetUri:"atlas:java?className=org.apache.camel.salesforce.dto.Contact",lookupTables:{lookupTable:[]}}}},e}();Wa.decorators=[{type:t.Injectable}],Wa.ctorParameters=function(){return[{type:Sa},{type:Ba},{type:za}]};var Ja=function(){function e(e){this.initializationService=e}return e.prototype.ngOnInit=function(){var e=this.initializationService.cfg;e.initCfg.baseJavaInspectionServiceUrl="http://localhost:8585/v2/atlas/java/",e.initCfg.baseXMLInspectionServiceUrl="http://localhost:8585/v2/atlas/xml/",e.initCfg.baseJSONInspectionServiceUrl="http://localhost:8585/v2/atlas/json/",e.initCfg.baseMappingServiceUrl="http://localhost:8585/v2/atlas/",e.initCfg.pomPayload=Wa.createExamplePom(),e.initCfg.classPathFetchTimeoutInMilliseconds=3e4,e.initCfg.classPath=null,e.initCfg.debugDocumentServiceCalls=!0,e.initCfg.debugDocumentParsing=!1,e.initCfg.debugMappingServiceCalls=!1,e.initCfg.debugClassPathServiceCalls=!1,e.initCfg.debugValidationServiceCalls=!1,e.initCfg.debugFieldActionServiceCalls=!1,e.initCfg.addMockJSONMappings=!1,e.initCfg.addMockJavaSingleSource=!1,e.initCfg.addMockJavaSources=!0,e.initCfg.addMockJavaCachedSource=!1,e.initCfg.addMockXMLInstanceSources=!1,e.initCfg.addMockXMLSchemaSources=!1,e.initCfg.addMockJSONSources=!1,e.initCfg.addMockJSONInstanceSources=!1,e.initCfg.addMockJSONSchemaSources=!0,e.initCfg.addMockJavaTarget=!1,e.initCfg.addMockJavaCachedTarget=!1,e.initCfg.addMockXMLInstanceTarget=!1,e.initCfg.addMockXMLSchemaTarget=!1,e.initCfg.addMockJSONTarget=!1,e.initCfg.addMockJSONInstanceTarget=!1,e.initCfg.addMockJSONSchemaTarget=!0,this.initializationService.initialize(),e.mappingService.saveMappingOutput$.subscribe(function(t){e.mappingService.saveMappingToService(),e.mappingService.handleMappingSaveSuccess(t)})},e}();Ja.decorators=[{type:t.Component,args:[{selector:"data-mapper-example-host",template:"\n        <data-mapper #dataMapperComponent></data-mapper>\n    ",providers:[Ba,za,Sa]}]}],Ja.ctorParameters=function(){return[{type:Wa}]},Ja.propDecorators={dataMapperComponent:[{type:t.ViewChild,args:["dataMapperComponent"]}]};var Ya=function(){function e(e){this.detector=e,this.loadingStatus="Loading."}return e.prototype.getConfig=function(){return wa.getConfig()},e.prototype.ngOnInit=function(){var e=this;this.getConfig().initializationService.systemInitialized$.subscribe(function(){e.updateFromConfig()}),this.getConfig().initializationService.initializationStatusChanged$.subscribe(function(){e.loadingStatus=e.getConfig().initCfg.loadingStatus,setTimeout(function(){e.detector.detectChanges()},10)})},e.prototype.updateFromConfig=function(){var e=this;setTimeout(function(){e.lineMachine.redrawLinesForMappings()},1)},e}();Ya.decorators=[{type:t.Component,args:[{selector:"data-mapper",moduleId:module.id,encapsulation:t.ViewEncapsulation.None,template:'\n      <div class="DataMapperUI">\n          \x3c!-- <div class="DataMapperUIBackground"></div> --\x3e\n          \x3c!-- <div class="DataMapperUIBackgroundCover"></div> --\x3e\n          <div [attr.class]="getConfig().initCfg.initialized ? \'dataMapperBody\' : \'dataMapperBodyHidden\'">\n              <div class="row">\n                  <data-mapper-error #errorPanel [isValidation]="false" [errorService]="getConfig().errorService"></data-mapper-error>\n              </div>\n              <div class="row" style="min-height:0px;"><modal-window #modalWindow [cfg]="getConfig()"></modal-window></div>\n              <div class="row">\n                  <dm-toolbar #toolbarComponent [cfg]="getConfig()" [lineMachine]="lineMachine" [modalWindow]="modalWindow"></dm-toolbar>\n              </div>\n              <div class="row" style="height:calc(100% - 32px); position:relative; padding-top:10px;">\n                  <div style=\'height:100%; padding:0;\' [attr.class]="(getConfig().showMappingTable || getConfig().showNamespaceTable) ? \'col-md-9 hidden\' : \'col-md-9\'">\n                      <div style="float:left; width:40%; height:100%;">\n                          <document-definition #docDefInput [cfg]="getConfig()" [modalWindow]="modalWindow"\n                              [isSource]="true" [lineMachine]="lineMachine"></document-definition>\n                      </div>\n                      <div style="float:left; width:20%; height:100%; margin-left:-5px; margin-right:-5px;">\n                          <line-machine #lineMachine [cfg]="getConfig()"\n                              [docDefInput]="docDefInput" [docDefOutput]="docDefOutput"></line-machine>\n                      </div>\n                      <div style="float:left; width:40%; height:100%;">\n                          <document-definition #docDefOutput [cfg]="getConfig()" [modalWindow]="modalWindow"\n                              [isSource]="false" [lineMachine]="lineMachine"></document-definition>\n                      </div>\n                      <div class="clear"></div>\n                  </div>\n                  <div class="col-md-9" style=\'height:100%; padding:0;\' *ngIf="getConfig().showMappingTable">\n                      <mapping-list [cfg]="getConfig()"></mapping-list>\n                  </div>\n                  <div class="col-md-9" style=\'height:100%; padding:0;\' *ngIf="getConfig().showNamespaceTable">\n                      <namespace-list [cfg]="getConfig()" [modalWindow]="modalWindow"></namespace-list>\n                  </div>\n\n                  <div class="col-md-3" style="padding:0px; height:100%;">\n                      <mapping-detail #mappingDetailComponent [cfg]="getConfig()" [modalWindow]="modalWindow"></mapping-detail>\n                  </div>\n              </div>\n          </div>\n          <div class="DataMapperLoadingMessage" *ngIf="!getConfig().initCfg.initialized">\n              <label [attr.class]="getConfig().initCfg.initializationErrorOccurred ? \'error\' : \'\'">{{ loadingStatus }}</label>\n              <span class="spinner spinner-xs spinner-inline" *ngIf="!getConfig().initCfg.initializationErrorOccurred"></span>\n          </div>\n      </div>\n    ',styles:['\n      /*\n          Copyright (C) 2017 Red Hat, Inc.\n\n          Licensed under the Apache License, Version 2.0 (the "License");\n          you may not use this file except in compliance with the License.\n          You may obtain a copy of the License at\n\n                  http://www.apache.org/licenses/LICENSE-2.0\n\n          Unless required by applicable law or agreed to in writing, software\n          distributed under the License is distributed on an "AS IS" BASIS,\n          WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n          See the License for the specific language governing permissions and\n          limitations under the License.\n      */\n\n      /* general data mapper wide styles */\n      .DataMapperUI { height:100%; width:100%; position:relative; }\n\n      .DataMapperUI .tooltip-inner { max-width:600px; color:white; }\n      .DataMapperUI .clear { clear:both; height:0px; }\n\n      .DataMapperUI .hidden { visibility:hidden; }\n\n      .DataMapperUI I { display:inline-block; }\n      .DataMapperUI I.link:hover, .DataMapperUI I.selected { color:#5CBADF; cursor:pointer; }\n      .DataMapperUI I.selectedIcon { color:#5CBADF; }\n      .DataMapperUI LABEL { font-weight:normal; }\n      .DataMapperUI A:hover { color:#0088ce; cursor:pointer; text-decoration:none; }\n      .DataMapperUI input[disabled] { color:rgb(175,175,175); }\n\n      .DataMapperUI .form-group { margin-left:auto; margin-right:auto; margin-bottom:10px; margin-top:10px; }\n      .DataMapperUI .form-group LABEL { width:75px; }\n      .DataMapperUI .form-group LABEL.disabled { color:rgb(175,175,175); }\n      .DataMapperUI .form-group SELECT { width:100px; }\n\n      .DataMapperUI .modal-body { max-height:400px; overflow:auto; overflow-x:hidden; margin-bottom:5px; }\n      .DataMapperUI .row { margin:0px; }\n\n      .DataMapperUI .card-pf { margin:0; padding-left:0; padding-right:0; height:100%;\n          -webkit-animation-name:dm-fade-in; -webkit-animation-duration:0.4s;\n          animation-name:dm-fade-in; animation-duration:0.4s; }\n      .DataMapperUI .dm-swipe-left { -webkit-animation-name:dm-swipe-left; -webkit-animation-duration:0.4s;\n          animation-name:dm-swipe-left; animation-duration:0.4s; }\n      .DataMapperUI .dm-swipe-right { -webkit-animation-name:dm-swipe-right; -webkit-animation-duration:0.4s;\n          animation-name:dm-swipe-right; animation-duration:0.4s; }\n      .DataMapperUI .card-pf-title { font-size:20px; padding:0px 12px; }\n      .DataMapperUI .card-pf-heading { margin:0; padding:0; }\n      .DataMapperUI .card-pf-body { padding:0px; margin:0px; }\n\n      .DataMapperUI .alert { margin-bottom:5px; }\n      .DataMapperUI .alert .close { font-size:18px; color:#888888; }\n\n      @-webkit-keyframes dm-fade-in { from {opacity:0} to {opacity:1} }\n      @keyframes dm-fade-in { from {opacity:0} to {opacity:1} }\n\n      @-webkit-keyframes dm-fade-out { from {opacity:1} to {opacity:0} }\n      @keyframes dm-fade-out { from {opacity:1} to {opacity:0} }\n\n      @-webkit-keyframes dm-swipe-right { from {margin-left:-100%;} to {margin-left:0%;} }\n      @keyframes dm-swipe-right { from {margin-left:-100%;} to {margin-left:0%;} }\n\n      @-webkit-keyframes dm-swipe-left { from {margin-left:0%;} to {margin-left:-100%;} }\n      @keyframes dm-swipe-left { from {margin-left:0%;} to {margin-left:-100%;} }\n\n      /* background styles */\n      .DataMapperUIBackgroundCover { height:100%; width:100%; position:absolute; top:0px; left:0px;\n          background-image:url(\'/assets/dm/images/arrow_background.png\'); background-repeat:repeat; opacity:0.15; }\n      .DataMapperUIBackground { height:100%; width:100%; position:absolute; top:0px; left:0px; background-color:#4E5258; }\n      .DataMapperUIBackground, .DataMapperUIBackgroundCover { display:none; background-image:none; }\n\n      /* loading screen styles */\n      .dataMapperBodyHidden { visibility:hidden; position:relative; height:0px; }\n      .dataMapperBody { visibility:visible; height:100%; position:relative; }\n      .DataMapperLoadingMessage { position:absolute; height:100%; top:0%; left:0%; padding-top:20%; width:100%; text-align:center; }\n      .DataMapperLoadingMessage .error { color:crimson; }\n      .DataMapperLoadingMessage .spinner { vertical-align:text-bottom; }\n      .DataMapperLoadingMessage LABEL { vertical-align:text-top; margin-right:3px; }\n      .DataMapperLoadingMessage IMG { height:12px; width:12px; vertical-align:middle; }\n\n      /* toolbar styles */\n      .dm-toolbar { margin:1px 0px; padding:10px; }\n      .dm-toolbar .dm-toolbar-icons I { font-size:20px; margin-left:10px; vertical-align:middle; }\n      .dm-toolbar .dropdown-menu { margin-top:5px; }\n      .dm-toolbar .dropdown-menu LI { background-color:transparent; width:200px; }\n      .dm-toolbar .dropdown-menu LI A { color:rgb(54,54,54); }\n      .dm-toolbar .dropdown-menu LI I { color:rgb(54,54,54); font-size:10px; margin-right:10px;\n              vertical-align:baseline; }\n      .dm-toolbar .dropdown-menu LI I.fa-check { margin-top:3px; }\n      .dm-toolbar .dropdown-menu LI:hover { background-color:rgba(92, 186, 223, 0.75); }\n      .dm-toolbar .dropdown-menu LI:hover A { }\n      .dm-toolbar .dropdown-menu LI:hover I { }\n\n      /* document cards */\n      .docDef { position:relative; border:1px solid #CAC9C9; height:100%; background-color:white; overflow:hidden; }\n      .docDef .docName { overflow:hidden; display:inline-block; width:calc(100% - 45px); margin-left:3px; float:left; }\n      .docDef .docName I { margin-right:5px; vertical-align:baseline; margin-bottom:4px; }\n      .docDef I.searchBoxIcon { float:right; }\n      .searchBox { position:relative; }\n      .searchBox INPUT { width:100%; border:1px solid #FBFBFB; border-bottom:1px solid #CAC9C9; padding:5px 10px; float:left;}\n      .searchBox INPUT:placeholder-shown { font-style:italic; }\n      .searchBoxCloseIcon { position:absolute; right:10px; top:10px; }\n      .docDef .fieldList { height:calc(100% - 90px); }\n      .docDef .fieldListSearchOpen { height:calc(100% - 122px); }\n      .docDef .fieldsCount { padding:5px; font-size:10px; font-weight:bold;\n          text-align:right; margin:0; width:100%; border-top:1px solid #CAC9C9; padding-right:12px;\n          border-bottom:0px solid black; }\n      .docDef .documentHeader { color:white; background-image:-webkit-gradient(linear, left top, left bottom, from(rgb(125,125,125)), to(rgb(54,54,54))); background-image:linear-gradient(to bottom, rgb(125,125,125), rgb(54,54,54));\n          font-size:16px; padding-top:5px; margin:0px; overflow:hidden; }\n      .docDef .documentHeader I.link:hover { color:rgb(54,54,54); }\n      I.docCollapseIcon { width:10px; margin-left:5px; }\n\n      .noSearchResults { width:100%; padding:10px; text-align:center; }\n\n      .DocumentFieldDetailComponent { width:100%; margin:0px; }\n      .DocumentFieldDetailComponent .fieldDetail { padding:5px 10px; border-bottom:1px solid #d1d1d1; }\n      .DocumentFieldDetailComponent LABEL { padding:0; margin:0; margin-bottom:1px; vertical-align:middle; }\n      .DocumentFieldDetailComponent .selectedField { background-color:#02A2D8; color:white; }\n      .DocumentFieldDetailComponent .selectedField I { color:white; }\n      .DocumentFieldDetailComponent .dragHover { background-color:#02A2D8; color:white; }\n      .DocumentFieldDetailComponent .dragHover I { color:white; }\n      .docDef .DocumentFieldDetailComponent I { text-shadow:0 1px 2px rgba(3, 3, 3, 0.24); margin-right:2px; font-size:10px; }\n      .DocumentFieldDetailComponent I.partOfMappingIcon { color:#0088ce; }\n      .DocumentFieldDetailComponent I.arrow { text-shadow:none; width:8px; font-size:14px; margin-bottom:2px; margin-right:3px; }\n      .DocumentFieldDetailComponent I.parentFolder { color:#363636; text-shadow:none; margin-right:2px; font-size:12px; }\n      .DocumentFieldDetailComponent .selectedField I.partOfMappingIcon { color:white; }\n      .DocumentFieldDetailComponent I.partOfMappingIconHidden { visibility:hidden; }\n      .DocumentFieldDetailComponent .disableSelection LABEL { text-decoration:line-through; color: rgb(220,220,220); }\n      .DocumentFieldDetailComponent .propertyFieldIcons I { font-size:12px; vertical-align:middle; text-shadow:none; }\n\n      .DataMapperEditComponent INPUT, .DataMapperEditComponent .form-group SELECT { width:300px; }\n      .DataMapperEditComponent .form-group TEXTAREA { margin:auto; }\n\n      .dataMapperItemList  { border:1px solid black; border:1px solid #CAC9C9; margin-right:10px; height:100%; }\n      .dataMapperItemList  LABEL { float:left; margin-bottom:0px; padding-left:5px; }\n      .dataMapperItemList  .items { height:calc(100% - 125px); position:relative; overflow:scroll; overflow-x:hidden;\n          float:left; clear:left; width:100%; }\n      .dataMapperItemList  .items.searchShown { height:calc(100% - 157px); }\n      .dataMapperItemList .item { border-bottom:1px solid #d1d1d1; }\n      .dataMapperItemList .item.even { background-color:rgba(201,201,201,0.10); }\n      .dataMapperItemList .item.active { background-color:#39a5dc; color:white; }\n      .dataMapperItemList .item.active .fieldPath I { color:white; text-shadow:0 1px 2px rgba(54,54,54,0.24); }\n      .dataMapperItemList .searchBox {  }\n\n      .dataMapperItemList .itemCount { padding:5px; font-size:10px; font-weight:bold;\n          text-align:right; margin:0; width:100%; border-top:1px solid #CAC9C9; padding-right:12px;\n          border-bottom:0px solid black; }\n      .dataMapperItemList .itemCount { float:left; clear:left; }\n      .dataMapperItemList .card-pf-title .name { overflow:hidden; display:inline-block; width:calc(100% - 45px); margin-left:3px; float:left; }\n      .dataMapperItemList .card-pf-title .name I { margin-right:5px; vertical-align:baseline; }\n      .dataMapperItemList .card-pf-title .name LABEL { float:none; padding-left:0px; }\n      .dataMapperItemList .card-pf-title { border-bottom:1px solid #CAC9C9; margin:0; padding-top:20px; padding-bottom:20px; }\n      .dataMapperItemList I.searchBoxIcon { float:right; }\n      .dataMapperItemList .rows { border-top:1px solid #d1d1d1; }\n      .dataMapperItemList .rows.searchShown { }\n      .dataMapperItemList .searchHeaderWrapper { width:100%; float:left; clear:left; position:relative; }\n      .dataMapperItemList .rowTitles { background-color:white; width:calc(100% - 0px); overflow:scroll; overflow-x:hidden; padding: 2px 6px; }\n      .dataMapperItemList .rowTitles.searchShown { }\n      .dataMapperItemList .rowTitles LABEL { width:calc(40% - 20px); padding:5px 5px; float:left; margin-bottom:0px; }\n      .dataMapperItemList .rowTitles LABEL I { margin-right:5px; vertical-align:baseline; text-shadow: 0 1px 2px rgba(3, 3, 3, 0.24); }\n      .dataMapperItemList .itemRow { padding:5px 6px;}\n      .dataMapperItemList .noSearchResults { font-weight:bolder; font-size:14px; text-align:center; padding:30px; }\n      .dataMapperItemList .noSearchResults LABEL { float:none; }\n\n      .mappingList .fieldNames { float:left; width:calc(40% - 20px);  }\n      .mappingList .targetFieldNames { }\n      .mappingList .fieldPath {  clear:left; }\n      .mappingList .fieldPath I { margin-left:5px; font-size:12px; color:#0088ce; text-shadow: 0 1px 2px rgba(3, 3, 3, 0.24); }\n      .mappingList .transition { float:left; width:calc(15% - 20px); }\n      .mappingList .error { float:right; font-size:14px; }\n      .mappingList .rowTitles LABEL.type { width:calc(15% - 20px); }\n\n      .namespaceList LABEL.alias { width:calc(15% - 0px); }\n      .namespaceList LABEL.uri { width:calc(30% - 0px); }\n      .namespaceList LABEL.locationUri { width:calc(30% - 0px); }\n\n      /* mapping detail panel */\n      .fieldMappingDetail { border-left:1px solid #d1d1d1; height:100%; background-color:#d1d1d1; border:1px solid #CAC9C9; }\n      .fieldMappingDetail .fieldDetail { }\n      .fieldDetailTooltip LABEL { color:white; float:left; clear:left; }\n      .fieldDetailTooltip LABEL.parentObjectName { color:white; font-style:italic; }\n      .fieldDetailTooltip LABEL.parentObjectName I { vertical-align:baseline; }\n      .fieldMappingDetail .fieldDetail INPUT { padding:2px 4px; width:calc(100% - 5px);\n          color: #4d5258; -webkit-box-shadow: inset 0 2px 2px 0 rgba(0, 0, 0, 0.08); box-shadow: inset 0 2px 2px 0 rgba(0, 0, 0, 0.08); border:solid 1px #bbbbbb; }\n      .fieldMappingDetail .fieldDetail .dropdown { width:calc(100% - 71px);}\n      .fieldMappingDetail .fieldDetail .dropdown-menu { padding:0px; width:100%; }\n      .fieldMappingDetail .fieldDetail .dropdown-menu LI A { margin:0px; }\n      .fieldMappingDetail .fieldDetail .dropdown-menu button.dropdown-item { background-color:white;\n              display:block; border:0px solid black; width:100%; text-align:left; }\n      .fieldMappingDetail .fieldDetail .dropdown-menu button.active { background-color:#F5F5F5; }\n      .fieldDetail .parentObjectName { font-style:italic; }\n      .fieldDetail .parentObjectName I { font-size:12px; vertical-align:text-bottom; margin-right:2px; }\n      .fieldMappingDetail I { vertical-align:middle; }\n      .fieldMappingDetail A.button I { margin-right:5px; font-size:10px; }\n      .fieldMappingDetail A.button { margin:10px; margin-left:0px; border:1px solid #02A2D7; padding:5px 10px; border-radius:5px; }\n      .fieldMappingDetail A.button:hover { border:1px solid #363636; }\n      .fieldMappingDetail HR { margin-top:15px; margin-bottom:15px; border-top:1px solid #d1d1d1; }\n      .fieldMappingDetail .sectionHeader { font-weight:bold; }\n      .fieldMappingDetail .fieldMappingDetail-body { height:calc(100% - 65px); overflow:auto; }\n      .fieldMappingDetail A.small-primary { padding:5px 15px; border-radius:1px; border:solid 1px #00659c;\n          background-image:-webkit-gradient(linear, left top, left bottom, from(#39a5dc), to(#0088ce));\n          background-image:linear-gradient(to bottom, #39a5dc, #0088ce); -webkit-box-shadow:0 2px 3px 0 rgba(3, 3, 3, 0.1); box-shadow:0 2px 3px 0 rgba(3, 3, 3, 0.1);\n          text-align:center; color:#ffffff; }\n      .fieldMappingDetail A.small-primary:active { background-image:-webkit-gradient(linear, left top, left bottom, from(#0088ce), to(#39a5dc)); background-image:linear-gradient(to bottom, #0088ce, #39a5dc); }\n      .fieldMappingDetail .collectionSectionContainer { width:100%; overflow:hidden; overflow-y:auto; height:100%; }\n      .fieldMappingDetail .collectionSection { width:200%; }\n      .fieldMappingDetail .collectionSectionLeft { margin-left:-100%; }\n\n      .fieldMappingDetail .alert>.pficon { top:8px; font-size:16px; left:8px; }\n      .fieldMappingDetail .alert { margin:0; border-left-width:0px; border-right-width:0px; padding:5px; }\n      .fieldMappingDetail .alert LABEL { width:calc(100% - 60px); margin-left:28px; margin-bottom:0; }\n      .fieldMappingDetail .alert .close { margin-right:5px; }\n\n      .mappingFieldAction .form-group LABEL { float:left; clear:left; width:30%; }\n      .mappingFieldAction .form-group SELECT { float:left; clear:left; width:calc(100% - 3px); }\n      .mappingFieldAction .form-group INPUT { float:left; width:69%; text-align:right; }\n      .fieldMappingDetail .mappingFieldAction .linkContainer { padding-right:6px; padding-top:15px; padding-bottom:5px; }\n      .mappingFieldAction .actionContainer { -webkit-box-shadow: 0 0 1px 1px rgba(51, 51, 51, 0.25); box-shadow: 0 0 1px 1px rgba(51, 51, 51, 0.25); width:calc(100% - 7px);\n          padding:2px 10px; margin-left:1px; margin-top:15px; }\n\n      .CollapsableCardHeader {  border-top:1px solid #d1d1d1; }\n      .CollapsableCardHeader .card-pf-heading { border-bottom:0; padding-left:5px; }\n      .sources .CollapsableCardHeader .card-pf-heading { border-top:0; }\n      .CollapsableCardHeader .card-pf-title { font-size:16px; }\n      .CollapsableCardHeader I { margin-right:0px; vertical-align:middle; width:24px; font-size:20px; }\n\n      .mappingFieldContainer { padding:0px 14px; }\n      .fieldMappingDetail .linkContainer { width:100%; text-align:right; padding-bottom:15px; }\n\n      .MappingFieldSection { background-color:white; padding:10px; margin:0; margin-bottom:15px; -webkit-box-shadow:0 0 1px 1px rgba(51, 51, 51, 0.25); box-shadow:0 0 1px 1px rgba(51, 51, 51, 0.25); }\n      .MappingFieldSection LABEL { color:#363636; }\n      .MappingFieldSection .fieldDetailTooltip LABEL { color:white; }\n\n      .TransitionSelector LABEL { width:100%; }\n      .TransitionSelector .enumSection LABEL { width:calc(100% - 25px); margin-bottom:0; }\n      .TransitionSelector SELECT { display:block; width:100%; }\n\n      /* modal window */\n      .DataMapperUI .modal { z-index:1000; width:100%; height:100%; overflow:auto; display:block; }\n\n      .DataMapperUI .modal-content { position:fixed; top:50%; left:50%; -webkit-transform:translate(-50%, -50%); transform:translate(-50%, -50%);\n          -webkit-animation-name:dm-animatetop; -webkit-animation-duration:0.8s;\n          animation-name:dm-animatetop; animation-duration:0.8s }\n      .DataMapperUI .modal-footer .btn { margin-left:10px; }\n      .DataMapperUI .modal-footer { margin:0; }\n\n      @-webkit-keyframes dm-animatetop { from {top:-300px; opacity:0}  to {top:50%; opacity:1} }\n      @keyframes dm-animatetop { from {top:-300px; opacity:0} to {top:50%; opacity:1} }\n\n      .DataMapperUI .modal-message { padding:10px 20px; }\n\n      .MappingSelectionComponent { margin-left:20px; margin-right:20px; margin-bottom:10px; width:500px; }\n      .MappingSelectionComponent .MappingSelectionOptions { overflow:auto; max-height:300px; }\n      .MappingSelectionComponent .inputFields,\n          .MappingSelectionComponent .outputFields { width:200px; padding:5px; padding-left:10px; vertical-align:top; }\n\n      .MappingSelectionSection { padding:0px 8px; margin-bottom:5px; border:1px solid #F6F6F6; }\n      .MappingSelectionSection .pathName, .MappingSelectionSection .pathContainer,\n          .MappingSelectionSection .fieldName, .MappingSelectionSection .numberWrapper { display:inline; padding:0; margin:0; float:left; }\n      .MappingSelectionSection .numberWrapper { width:30px; height:30px; text-align:center; color:#fafafa; background-color:#0088ce;\n          border-radius:15px; font-size:16px; margin-right:10px; margin-left:5px; margin-top:15px; }\n      .MappingSelectionSection .number { display:block; font-weight:bold; margin-top:2px; }\n      .SelectedMappingSelectionSection .numberWrapper { background-color:white; color:#0088ce; }\n      .MappingSelectionSection .fieldName { }\n      .MappingSelectionSection .pathName { word-break:break-word; }\n      .MappingSelectionSection .pathContainer { display:inline-block; width:calc(100% - 45px); }\n      .MappingSelectionComponent .odd { background-color:#F6F6F6; }\n\n      .SelectedMappingSelectionSection, .MappingSelectionComponent .SelectedMappingSelectionSection.odd { background-color:#0088ce; color:#fafafa; border-color:#0088ce; }\n\n      .MappingSelectionSection .sourceTargetSection LABEL { display:none; }\n      .MappingSelectionSection .sourceTargetSection I { font-size:16px; margin-right:5px; vertical-align:text-bottom; }\n      .MappingSelectionSection .sourceTargetSection I:hover { color:inherit; }\n\n      .MappingSelectionComponent .pathHeader .pathName, .MappingSelectionComponent .pathHeader,\n          .MappingSelectionComponent .pathHeader .fieldName, { display:inline; padding:0; margin:0; float:left; }\n      .MappingSelectionComponent .pathHeader .pathName { word-break:break-word; }\n      .MappingSelectionComponent .pathHeader { display:inline-block; width:100%; margin-top:2px; margin-bottom:20px; }\n      .MappingSelectionComponent .pathHeader .fieldName { }\n      .MappingSelectionComponent .sourceTargetHeader { font-size:16px; }\n\n      .MappingSelectionComponent .fieldPair { margin-bottom:10px; border-left:1px solid rgb(54, 54, 54); padding-left:5px; margin-top:10px; }\n      .SelectedMappingSelectionSection .fieldPair { border-left-color:rgb(250,250,250); }\n\n      .MappingSelectionComponent BUTTON.addButton I { margin-right:5px; }\n      .MappingSelectionComponent .header { margin-bottom:20px; }\n\n      /* enum lookup table creation */\n      .LookupTableComponent .lookupTableRow { margin:0px 10px 10px 5px; padding:5px 0px; }\n      .LookupTableComponent LABEL { width:150px; margin-right:20px; overflow:hidden; vertical-align:bottom; }\n      .LookupTableComponent SELECT { width:200px; vertical-align:super; }\n    ']}]}],Ya.ctorParameters=function(){return[{type:t.ChangeDetectorRef}]},Ya.propDecorators={lineMachine:[{type:t.ViewChild,args:["lineMachine"]}],errorPanel:[{type:t.ViewChild,args:["errorPanel"]}],modalWindow:[{type:t.ViewChild,args:["modalWindow"]}],docDefInput:[{type:t.ViewChild,args:["docDefInput"]}],docDefOutput:[{type:t.ViewChild,args:["docDefOutput"]}],mappingDetailComponent:[{type:t.ViewChild,args:["mappingDetailComponent"]}],toolbarComponent:[{type:t.ViewChild,args:["toolbarComponent"]}]};var Ga=function(){function e(){this.isValidation=!1}return e.prototype.getErrors=function(){return this.isValidation?wa.getConfig().validationErrors.filter(function(e){return e.level>=Pa.ERROR}):wa.getConfig().errors},e.prototype.getWarnings=function(){return this.isValidation?wa.getConfig().validationErrors.filter(function(e){return e.level===Pa.WARN}):Ea[0]},e.prototype.handleClick=function(e){var t=e.target.attributes.getNamedItem("errorIdentifier").value;this.errorService.removeError(t)},e}();Ga.decorators=[{type:t.Component,args:[{selector:"data-mapper-error",template:'\n        <div class="DataMapperErrorComponent" *ngIf="errorService && getErrors().length">\n            <div class="alert alert-danger" *ngFor="let e of getErrors()">\n                <a class="close" (click)="handleClick($event)">\n                    <i class="fa fa-close" attr.errorIdentifier="{{e.identifier}}"></i>\n                </a>\n                <span class="pficon pficon-error-circle-o"></span>\n                {{ e.message }}\n            </div>\n            <div class="alert alert-warning" *ngFor="let w of getWarnings()">\n                <a class="close" (click)="handleClick($event)">\n                    <i class="fa fa-close" attr.errorIdentifier="{{w.identifier}}"></i>\n                </a>\n                <span class="pficon pficon-warning-triangle-o"></span>\n                {{ w.message }}\n            </div>\n        </div>\n    '}]}],Ga.ctorParameters=function(){return[]},Ga.propDecorators={errorService:[{type:t.Input}],isValidation:[{type:t.Input}]};var $a=function(){return function(){}}();$a.decorators=[{type:t.Component,args:[{selector:"empty-modal-body",template:""}]}],$a.ctorParameters=function(){return[]};var Xa=function(){function e(e,t){this.componentFactoryResolver=e,this.detector=t,this.headerText="",this.message=null,this.confirmButtonText="OK",this.visible=!1,this.componentLoaded=!1}return e.prototype.ngAfterViewInit=function(){var e=this;this.myTarget.changes.subscribe(function(t){setTimeout(function(){!e.componentLoaded&&e.visible&&e.myTarget&&e.myTarget.toArray().length&&e.loadComponent(),setTimeout(function(){e.detector.detectChanges()},10)},10)})},e.prototype.loadComponent=function(){var e=this.myTarget.toArray()[0];e.clear();var t=this.componentFactoryResolver.resolveComponentFactory(this.nestedComponentType);this.nestedComponent=e.createComponent(t).instance,null!=this.nestedComponentInitializedCallback&&this.nestedComponentInitializedCallback(this)},e.prototype.closeClicked=function(e){this.buttonClicked(!1)},e.prototype.close=function(){this.visible=!1},e.prototype.show=function(){this.visible=!0},e.prototype.reset=function(){this.cfg.errorService.clearValidationErrors(),this.nestedComponentInitializedCallback=null,this.confirmButtonText="OK",this.message="",this.headerText="",this.componentLoaded=!1,this.nestedComponentType=$a,this.okButtonHandler=null,this.cancelButtonHandler=null},e.prototype.buttonClicked=function(e){if(e){var t=this.nestedComponent;if(null!=t&&t.isDataValid&&(this.cfg.errorService.clearValidationErrors(),!t.isDataValid()))return;this.okButtonHandler&&this.okButtonHandler(this)}else this.cancelButtonHandler&&this.cancelButtonHandler(this);this.close()},e}();Xa.decorators=[{type:t.Component,args:[{selector:"modal-window",template:'\n        <div id="modalWindow" [attr.class]="visible ? \'modal fade in\' : \'modal fade dm-out\'" *ngIf="visible">\n            <div class="modalWindow">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <a (click)="closeClicked($event)"><span class=\'close\'><i class="fa fa-close"></i></span></a>\n                        {{ headerText }}\n                    </div>\n                    <div class="modal-error">\n                        <data-mapper-error [isValidation]="true" [errorService]="cfg.errorService"></data-mapper-error>\n                    </div>\n                    <div class="modal-body">\n                        <div class="modal-message" *ngIf="message">{{ message }}</div>\n                        <ng-template #dyn_target></ng-template>\n                    </div>\n                    <div class="modal-footer">\n                        <div class="modal-buttons">\n                            <button class="pull-right btn btn-primary" (click)="buttonClicked(true)">{{ confirmButtonText }}</button>\n                            <button class="pull-right btn btn-cancel" (click)="buttonClicked(false)">Cancel</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    '}]}],Xa.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ChangeDetectorRef}]},Xa.propDecorators={headerText:[{type:t.Input}],nestedComponentType:[{type:t.Input}],nestedComponentInitializedCallback:[{type:t.Input}],okButtonHandler:[{type:t.Input}],cancelButtonHandler:[{type:t.Input}],cfg:[{type:t.Input}],myTarget:[{type:t.ViewChildren,args:["dyn_target",{read:t.ViewContainerRef}]}]};var qa=function(){function e(){this.templateText=null}return e.prototype.isDataValid=function(){return!0},e}();qa.decorators=[{type:t.Component,args:[{selector:"template-edit",template:'\n        <div class="DataMapperEditComponent">\n            <div class="form-group">\n                <textarea [(ngModel)]="templateText" rows="16" cols="100"></textarea>\n            </div>\n        </div>\n    '}]}],qa.ctorParameters=function(){return[]};var Za=function(){function e(){}return e.prototype.getCSSClass=function(e){if("showDetails"==e)return"fa fa-exchange link"+(this.cfg.mappings.activeMapping?" selected":"");if("showLines"==e)return"fa fa-share-alt link"+(this.cfg.showLinesAlways?" selected":"");if("advancedMode"==e){var t="fa fa-cog link ";return!this.cfg.showLinesAlways&&!this.cfg.showTypes&&this.cfg.showMappedFields&&this.cfg.showUnmappedFields||(t+="selected"),t}return"showMappingTable"==e?"fa fa-table link"+(this.cfg.showMappingTable?" selected":""):"showNamespaceTable"==e?"fa fa-code link"+(this.cfg.showNamespaceTable?" selected":""):"editTemplate"==e?"fa fa-file-text-o link"+(this.cfg.mappings.templateExists()?" selected":""):void 0},e.prototype.targetSupportsTemplate=function(){var e=this.cfg.targetDocs[0];return e.initCfg.type.isXML()||e.initCfg.type.isJSON()},e.prototype.toolbarButtonClicked=function(e,t){var n=this;t.preventDefault(),"showDetails"==e?null==this.cfg.mappings.activeMapping?(this.cfg.mappingService.addNewMapping(null),this.cfg.mappings.activeMapping.brandNewMapping=!0):this.cfg.mappingService.deselectMapping():"editTemplate"==e?this.editTemplate():"showLines"==e?(this.cfg.showLinesAlways=!this.cfg.showLinesAlways,this.lineMachine.redrawLinesForMappings()):"showTypes"==e?this.cfg.showTypes=!this.cfg.showTypes:"showMappedFields"==e?this.cfg.showMappedFields=!this.cfg.showMappedFields:"showUnmappedFields"==e?this.cfg.showUnmappedFields=!this.cfg.showUnmappedFields:"addMapping"==e?this.cfg.mappingService.addNewMapping(null):"showMappingTable"==e?(this.cfg.showMappingTable=!this.cfg.showMappingTable,this.cfg.showMappingTable&&(this.cfg.showNamespaceTable=!1)):"showNamespaceTable"==e&&(this.cfg.showNamespaceTable=!this.cfg.showNamespaceTable,this.cfg.showNamespaceTable&&(this.cfg.showMappingTable=!1)),setTimeout(function(){n.lineMachine.redrawLinesForMappings()},10)},e.prototype.editTemplate=function(){var e=this,t=this;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Save",this.modalWindow.headerText=this.cfg.mappings.templateExists()?"Edit Template":"Add Template",this.modalWindow.nestedComponentInitializedCallback=function(t){t.nestedComponent.templateText=e.cfg.mappings.templateText},this.modalWindow.nestedComponentType=qa,this.modalWindow.okButtonHandler=function(n){var i=n.nestedComponent;e.cfg.mappings.templateText=i.templateText,t.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()},e}();Za.decorators=[{type:t.Component,args:[{selector:"dm-toolbar",template:'\n    <div class="dm-toolbar">\n        <div class="dm-toolbar-icons" style="float:right;">\n            <i class="fa fa-plus link" (click)="toolbarButtonClicked(\'addMapping\', $event);"\n                tooltip="Add new mapping"></i>\n            <i [attr.class]="getCSSClass(\'editTemplate\')"  *ngIf="targetSupportsTemplate()"\n                (click)="toolbarButtonClicked(\'editTemplate\', $event);"></i>\n            <i [attr.class]="getCSSClass(\'showMappingTable\')" (click)="toolbarButtonClicked(\'showMappingTable\', $event);"\n               tooltip="Show / hide mapping table"></i>\n            <i *ngIf="cfg.getFirstXmlDoc(false)" [attr.class]="getCSSClass(\'showNamespaceTable\')"\n                (click)="toolbarButtonClicked(\'showNamespaceTable\', $event);"></i>\n            <i [attr.class]="getCSSClass(\'showDetails\')" (click)="toolbarButtonClicked(\'showDetails\', $event);"\n                tooltip="Show / hide mapping details"></i>\n            <div dropdown placement="bottom right" style="display:inline; position:relative;">\n                <i [attr.class]="getCSSClass(\'advancedMode\')" dropdownToggle (click)="false"\n                    tooltip="Editor settings"></i>\n                \x3c!-- <a href dropdownToggle (click)="false">X</a> --\x3e\n                <ul *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu">\n                    <li role="menuitem" (click)="toolbarButtonClicked(\'showTypes\', $event);">\n                        <div style="float:left">\n                            <a class="dropdown-item" href="#">\n                                <i class="fa fa-tag"></i>Show Types\n                            </a>\n                        </div>\n                        <i class="fa fa-check" *ngIf="cfg.showTypes" style="float:right"></i>\n                        <div class="clear"></div>\n                    </li>\n                    <li role="menuitem" (click)="toolbarButtonClicked(\'showLines\', $event);">\n                        <div style="float:left">\n                            <a class="dropdown-item" href="#">\n                                <i class="fa fa-share-alt"></i>Show Lines\n                            </a>\n                        </div>\n                        <i class="fa fa-check" *ngIf="cfg.showLinesAlways" style="float:right"></i>\n                        <div class="clear"></div>\n                    </li>\n                    <li role="menuitem" (click)="toolbarButtonClicked(\'showMappedFields\', $event);">\n                        <div style="float:left">\n                            <a class="dropdown-item" href="#">\n                                <i class="fa fa-chain"></i>Show Mapped Fields\n                            </a>\n                        </div>\n                        <i class="fa fa-check" *ngIf="cfg.showMappedFields" style="float:right"></i>\n                        <div class="clear"></div>\n                    </li>\n                    <li role="menuitem" (click)="toolbarButtonClicked(\'showUnmappedFields\', $event);">\n                        <div style="float:left">\n                            <a class="dropdown-item" href="#">\n                                <i class="fa fa-chain-broken"></i>Show Unmapped Fields\n                            </a>\n                        </div>\n                        <i class="fa fa-check" *ngIf="cfg.showUnmappedFields" style="float:right"></i>\n                        <div class="clear"></div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div style="clear:both; height:0px;"></div>\n    </div>\n'}]}],Za.ctorParameters=function(){return[]},Za.propDecorators={cfg:[{type:t.Input}],lineMachine:[{type:t.Input}],modalWindow:[{type:t.Input}]};var Ka=function(){return function(){this.stroke="url(#line-gradient-dormant)"}}(),Qa=function(){function e(e,t){this.sanitizer=e,this.detector=t,this.lines=[],this.drawingLine=!1,this.yOffset=3}return e.prototype.ngOnInit=function(){var e=this;this.cfg.mappingService.mappingUpdated$.subscribe(function(){e.mappingChanged()})},e.prototype.addLineFromParams=function(e,t,n,i,a){var o=new Ka;o.sourceX=e,o.sourceY=t,o.targetX=n,o.targetY=i,o.stroke=a,this.addLine(o)},e.prototype.addLine=function(e){this.createLineStyle(e),this.lines.push(e)},e.prototype.setLineBeingFormed=function(e){null!=e&&this.createLineStyle(e),this.lineBeingFormed=e},e.prototype.clearLines=function(){this.lines=[]},e.prototype.drawLine=function(e){this.drawCurrentLine(e.offsetX.toString(),e.offsetY.toString())},e.prototype.drawCurrentLine=function(e,t){this.drawingLine&&this.lineBeingFormed&&(this.lineBeingFormed.targetX=e,this.lineBeingFormed.targetY=t)},e.prototype.handleDocumentFieldMouseOver=function(e,t,n){if(this.drawingLine&&!n){var i=this.docDefOutput.getFieldDetailComponentPosition(e.field).y;this.drawCurrentLine("100%",(i+this.yOffset).toString())}},e.prototype.mappingChanged=function(){this.drawingLine=!1,this.setLineBeingFormed(null),this.redrawLinesForMappings()},e.prototype.redrawLinesForMappings=function(){var e=this;if(this.cfg.initCfg.initialized){this.cfg.mappings.activeMapping||this.setLineBeingFormed(null),this.clearLines();for(var t=this.cfg.mappings.mappings,n=this.cfg.mappings.activeMapping,i=!1,a=0,o=t;a<o.length;a++){var r=o[a];i=i||r==n,this.drawLinesForMapping(r)}!i&&n&&this.drawLinesForMapping(n),setTimeout(function(){e.detector.detectChanges()},10)}},e.prototype.createLineStyle=function(e){e.style=this.sanitizer.bypassSecurityTrustStyle("stroke:"+e.stroke+"; stroke-width:4px;")},e.prototype.drawLinesForMapping=function(e){for(var t=this.lineMachineElement.nativeElement.offsetHeight,n=this.cfg.mappings.activeMapping==e,i="url(#line-gradient-"+(n?"active":"dormant")+")",a=0,o=e.fieldMappings;a<o.length;a++){var r=o[a];if(!r.sourceFields.length||!r.targetFields.length)return;for(var s=0,l=r.sourceFields;s<l.length;s++){var p=l[s].field;if(this.checkFieldEligibiltyForLineDrawing(p,"input",e)){var c=this.getScreenPosForField(p,this.docDefInput);if(null!=c){var d=c.y;d=(d=d<55?55:d)>t-27?t-27:d;for(var u=0,h=r.targetFields;u<h.length;u++){var f=h[u].field;if(this.checkFieldEligibiltyForLineDrawing(f,"output",e)){var g=this.getScreenPosForField(f,this.docDefOutput);if(null!=g){var m=g.y;m=(m=m<55?55:m)>t-27?t-27:m,(n||this.cfg.showLinesAlways)&&this.addLineFromParams("0",(d+this.yOffset).toString(),"100%",(m+this.yOffset).toString(),i)}}}}}}}},e.prototype.getScreenPosForField=function(e,t){if(null==e||null==e.docDef)return null;if(!e.docDef.showFields){var n=t.getDocDefElementPosition(e.docDef);return n&&(n.y=n.y+5),n}for(var i=e;null!=i;){var a=t.getFieldDetailComponentPosition(i);if(null!=a)return a;i=i.parentField}return null},e.prototype.checkFieldEligibiltyForLineDrawing=function(e,t,n){return!!e&&!!e.visibleInCurrentDocumentSearch},e}();Qa.decorators=[{type:t.Component,args:[{selector:"line-machine",template:'\n        <div class="LineMachineComponent" #lineMachineElement on-mousemove="drawLine($event)" style="height:100%; margin-top:6%;">\n            <svg style="width:100%; height:100%;">\n                <defs>\n                    <linearGradient id=\'line-gradient-active\' gradientUnits="userSpaceOnUse">\n                        <stop stop-color=\'#0088ce\'/>\n                        <stop offset=\'100%\' stop-color=\'#0088ce\'/> \x3c!-- was #bee1f4 --\x3e\n                    </linearGradient>\n                    <linearGradient id=\'line-gradient-dormant\' gradientUnits="userSpaceOnUse">\n                        <stop stop-color=\'#8b8d8f\'/>\n                        <stop offset=\'100%\' stop-color=\'#8b8d8f\'/> \x3c!-- was #EEEEEE --\x3e\n                    </linearGradient>\n                </defs>\n                <svg:line *ngFor="let l of lines"\n                    [attr.x1]="l.sourceX" [attr.y1]="l.sourceY"\n                    [attr.x2]="l.targetX" [attr.y2]="l.targetY"\n                    shape-rendering="optimizeQuality"\n                    [attr.style]="l.style"></svg:line>\n                <svg:line *ngIf="lineBeingFormed && lineBeingFormed.targetY"\n                    [attr.x1]="lineBeingFormed.sourceX" [attr.y1]="lineBeingFormed.sourceY"\n                    [attr.x2]="lineBeingFormed.targetX" [attr.y2]="lineBeingFormed.targetY"\n                    shape-rendering="optimizeQuality"\n                    [attr.style]="lineBeingFormed.style"></svg:line>\n            </svg>\n        </div>\n    '}]}],Qa.ctorParameters=function(){return[{type:_.DomSanitizer},{type:t.ChangeDetectorRef}]},Qa.propDecorators={cfg:[{type:t.Input}],docDefInput:[{type:t.Input}],docDefOutput:[{type:t.Input}],lineMachineElement:[{type:t.ViewChild,args:["lineMachineElement"]}]};var eo=function(){function e(){this.collapsed=!1}return e.prototype.handleMouseClick=function(e){this.collapsed=!this.collapsed},e.prototype.getCSSClass=function(){return"arrow fa fa-angle-"+(this.collapsed?"right":"down")},e}();eo.decorators=[{type:t.Component,args:[{selector:"collapsable-header",template:'\n        <div class="CollapsableCardHeader" (click)="handleMouseClick($event)">\n            <h2 class="card-pf-title"><i [attr.class]="getCSSClass()"></i>{{ title }}</h2>\n        </div>\n    '}]}],eo.ctorParameters=function(){return[]},eo.propDecorators={title:[{type:t.Input}],collapsed:[{type:t.Input}]};var to=function(){function e(){this.field=new fa,this.valueType="STRING"}return e.prototype.initialize=function(e){null!=e&&(this.valueType=e.type),this.field=null==e?new fa:e.copy()},e.prototype.valueTypeSelectionChanged=function(e){this.valueType=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value},e.prototype.getField=function(){return this.field.displayName=this.field.name,this.field.path=this.field.name,this.field.type=this.valueType,this.field.userCreated=!0,this.field},e.prototype.isDataValid=function(){return ga.isRequiredFieldValid(this.field.name,"Name")},e}();to.decorators=[{type:t.Component,args:[{selector:"property-field-edit",template:'\n        <div class="DataMapperEditComponent">\n            <div class="form-group">\n                <label>Name:</label>\n                <input name="name" type="text" [(ngModel)]="field.name"/>\n            </div>\n            <div class="form-group">\n                <label>Value:</label>\n                <input name="value" type="text" [(ngModel)]="field.value"/>\n            </div>\n            <div class="form-group">\n                <label>Value Type</label>\n                <select (change)="valueTypeSelectionChanged($event);" [ngModel]="valueType">\n                    <option value="BOOLEAN">Boolean</option>\n                    <option value="BYTE">Byte</option>\n                    <option value="BYTE_ARRAY">ByteArray</option>\n                    <option value="CHAR">Char</option>\n                    <option value="COMPLEX">Complex</option>\n                    <option value="DECIMAL">Decimal</option>\n                    <option value="DOUBLE">Double</option>\n                    <option value="FLOAT">Float</option>\n                    <option value="INTEGER">Integer</option>\n                    <option value="LONG">Long</option>\n                    <option value="SHORT">Short</option>\n                    <option value="STRING">String</option>\n                    <option value="TIME">Time</option>\n                    <option value="DATE">Date</option>\n                    <option value="DATE_TIME">DateTime</option>\n                    <option value="DATE_TZ">DateTZ</option>\n                    <option value="TIME_TZ">TimeTZ</option>\n                    <option value="DATE_TIME_TZ">DateTimeTZ</option>\n                    <option value="UNSIGNED_BYTE">Unsigned Byte</option>\n                    <option value="UNSIGNED_INTEGER">Unsigned Integer</option>\n                    <option value="UNSIGNED_LONG">Unsigned Long</option>\n                    <option value="UNSIGNED_SHORT">Unsigned Short</option>\n                </select>\n            </div>\n        </div>\n    '}]}],to.ctorParameters=function(){return[]};var no=function(){function e(){this.field=new fa,this.valueType="STRING"}return e.prototype.initialize=function(e){null!=e&&(this.valueType=e.type),this.field=null==e?new fa:e.copy()},e.prototype.valueTypeSelectionChanged=function(e){this.valueType=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value},e.prototype.getField=function(){return this.field.displayName=this.field.value,this.field.name=this.field.value,this.field.path=this.field.value,this.field.type=this.valueType,this.field.userCreated=!0,this.field},e.prototype.isDataValid=function(){return ga.isRequiredFieldValid(this.field.value,"Value")},e}();no.decorators=[{type:t.Component,args:[{selector:"constant-field-edit",template:'\n        <div class="DataMapperEditComponent">\n            <div class="form-group">\n                <label>Value:</label>\n                <input name="value" type="text" [(ngModel)]="field.value"/>\n            </div>\n            <div class="form-group">\n                <label>Value Type</label>\n                <select (change)="valueTypeSelectionChanged($event);" [ngModel]="valueType">\n                    <option value="BOOLEAN">Boolean</option>\n                    <option value="BYTE">Byte</option>\n                    <option value="BYTE_ARRAY">ByteArray</option>\n                    <option value="CHAR">Char</option>\n                    <option value="COMPLEX">Complex</option>\n                    <option value="DECIMAL">Decimal</option>\n                    <option value="DOUBLE">Double</option>\n                    <option value="FLOAT">Float</option>\n                    <option value="INTEGER">Integer</option>\n                    <option value="LONG">Long</option>\n                    <option value="SHORT">Short</option>\n                    <option value="STRING">String</option>\n                    <option value="TIME">Time</option>\n                    <option value="DATE">Date</option>\n                    <option value="DATE_TIME">DateTime</option>\n                    <option value="DATE_TZ">DateTZ</option>\n                    <option value="TIME_TZ">TimeTZ</option>\n                    <option value="DATE_TIME_TZ">DateTimeTZ</option>\n                    <option value="UNSIGNED_BYTE">Unsigned Byte</option>\n                    <option value="UNSIGNED_INTEGER">Unsigned Integer</option>\n                    <option value="UNSIGNED_LONG">Unsigned Long</option>\n                    <option value="UNSIGNED_SHORT">Unsigned Short</option>\n                </select>\n            </div>\n        </div>\n    '}]}],no.ctorParameters=function(){return[]};var io=function(){function e(){var e=this;this.cfg=wa.getConfig(),this.field=new fa,this.parentField=_a.getNoneField(),this.parentFieldName=null,this.isSource=!1,this.fieldType="element",this.valueType="STRING",this.namespaceAlias="",this.editMode=!1,this.namespaces=[],this.docDef=null,this.dataSource=o.Observable.create(function(t){t.next(e.executeSearch(t.outerValue))})}return e.prototype.initialize=function(e,t,n){if(this.docDef=t,this.editMode=!n,this.field=null==e?new fa:e.copy(),this.valueType=null==this.field.type?"STRING":this.field.type,this.parentField=null==this.field.parentField?_a.getNoneField():this.field.parentField,this.docDef.initCfg.type.isXML()){this.fieldType=this.field.isAttribute?"attribute":"element",this.parentField=null==this.field.parentField?t.fields[0]:this.field.parentField;var i=ma.getUnqualifiedNamespace();this.namespaceAlias=i.alias,this.field.namespaceAlias&&(this.namespaceAlias=this.field.namespaceAlias),n&&(this.namespaceAlias=null==this.parentField.namespaceAlias?i.alias:this.parentField.namespaceAlias),this.namespaces=[i].concat(this.docDef.namespaces);for(var a=!1,o=0,r=this.namespaces;o<r.length;o++){if(r[o].alias==this.namespaceAlias){a=!0;break}}if(!a){var s=new ma;s.alias=this.namespaceAlias,this.namespaces.push(s)}}this.parentFieldName=this.parentField.name},e.prototype.handleOnBlur=function(e){this.parentFieldName=this.parentField.name},e.prototype.parentSelectionChanged=function(e){var t=this.parentField;this.parentField=e.item.field,this.parentField=null==this.parentField?t:this.parentField,this.parentFieldName=this.parentField.name;var n=ma.getUnqualifiedNamespace();this.namespaceAlias=null==this.parentField.namespaceAlias?n.alias:this.parentField.namespaceAlias},e.prototype.fieldTypeSelectionChanged=function(e){this.fieldType=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value},e.prototype.valueTypeSelectionChanged=function(e){this.valueType=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value},e.prototype.namespaceSelectionChanged=function(e){this.namespaceAlias=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value},e.prototype.executeSearch=function(e){var t=[];if(this.docDef.initCfg.type.isJSON()){var n=_a.getNoneField();t.push({field:n,displayName:n.getFieldLabel(!0)})}for(var i=0,a=this.docDef.getAllFields();i<a.length;i++){var o=a[i];if(o.isParentField()){var r={field:o,displayName:null==o?"":o.getFieldLabel(!0)};if(null!=e&&""!=e&&-1==r.displayName.toLowerCase().indexOf(e.toLowerCase())||t.push(r),t.length>9)break}}return t},e.prototype.getField=function(){if(this.field.displayName=this.field.name,this.field.parentField=this.parentField,this.field.type=this.valueType,this.field.userCreated=!0,this.field.serviceObject.jsonType="io.atlasmap.json.v2.JsonField",this.docDef.initCfg.type.isXML()){this.field.isAttribute="attribute"==this.fieldType,this.field.namespaceAlias=this.namespaceAlias;var e=ma.getUnqualifiedNamespace();this.namespaceAlias==e.alias&&(this.field.namespaceAlias=null),this.field.serviceObject.jsonType="io.atlasmap.xml.v2.XmlField"}return this.field},e.prototype.isDataValid=function(){return ga.isRequiredFieldValid(this.field.name,"Name")},e}();io.decorators=[{type:t.Component,args:[{selector:"field-edit",template:'\n        \x3c!-- our template for type ahead --\x3e\n        <ng-template #typeaheadTemplate let-model="item" let-index="index">\n            <h5 style="font-style:italic;" *ngIf="model[\'field\'].docDef">{{ model[\'field\'].docDef.name }}</h5>\n            <h5>{{ model[\'field\'].path }}</h5>\n        </ng-template>\n\n        <div class="DataMapperEditComponent">\n            <div class="form-group">\n                <label>Parent</label>\n                <input type="text" [(ngModel)]="parentFieldName" [typeahead]="dataSource"\n                    typeaheadWaitMs="200" (typeaheadOnSelect)="parentSelectionChanged($event)" (blur)="handleOnBlur($event)"\n                    typeaheadOptionField="displayName" [typeaheadItemTemplate]="typeaheadTemplate" disabled="{{editMode}}">\n            </div>\n            <div class="form-group">\n                <label>Name</label>\n                <input name="value" type="text" [(ngModel)]="field.name"/>\n            </div>\n            <div class="form-group" *ngIf="docDef.initCfg.type.isXML()">\n                <label>Namespace</label>\n                <select (change)="namespaceSelectionChanged($event);" [ngModel]="namespaceAlias">\n                    <option *ngFor="let ns of namespaces" value="{{ns.alias}}" [selected]="namespaceAlias == ns.alias">\n                        {{ ns.getPrettyLabel() }}\n                    </option>\n                </select>\n            </div>\n            <div class="form-group" *ngIf="docDef.initCfg.type.isXML()">\n                <label>Field Type</label>\n                <select (change)="fieldTypeSelectionChanged($event);" [ngModel]="fieldType">\n                    <option value="element">Element</option>\n                    <option value="attribute">Attribute</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label>Value Type</label>\n                <select (change)="valueTypeSelectionChanged($event);" [ngModel]="valueType">\n                    <option value="BOOLEAN">Boolean</option>\n                    <option value="BYTE">Byte</option>\n                    <option value="BYTE_ARRAY">ByteArray</option>\n                    <option value="CHAR">Char</option>\n                    <option value="COMPLEX">Complex</option>\n                    <option value="DECIMAL">Decimal</option>\n                    <option value="DOUBLE">Double</option>\n                    <option value="FLOAT">Float</option>\n                    <option value="INTEGER">Integer</option>\n                    <option value="LONG">Long</option>\n                    <option value="SHORT">Short</option>\n                    <option value="STRING">String</option>\n                    <option value="TIME">Time</option>\n                    <option value="DATE">Date</option>\n                    <option value="DATE_TIME">DateTime</option>\n                    <option value="DATE_TZ">DateTZ</option>\n                    <option value="TIME_TZ">TimeTZ</option>\n                    <option value="DATE_TIME_TZ">DateTimeTZ</option>\n                    <option value="UNSIGNED_BYTE">Unsigned Byte</option>\n                    <option value="UNSIGNED_INTEGER">Unsigned Integer</option>\n                    <option value="UNSIGNED_LONG">Unsigned Long</option>\n                    <option value="UNSIGNED_SHORT">Unsigned Short</option>\n                </select>\n            </div>\n        </div>\n    '}]}],io.ctorParameters=function(){return[]};var ao=function(){function e(){this.isSource=!1,this.searchMode=!1,this.searchFilter="",this.scrollTop=0,this.searchResultsExist=!1}return e.prototype.getDocDefElementPosition=function(e){for(var t=0,n=this.docElements.toArray();t<n.length;t++){var i=n[t];if(i.nativeElement.id==e.name){var a=this.getElementPositionForElement(i.nativeElement,!1,!0),o=this.documentDefinitionElement.nativeElement,r=this.getElementPositionForElement(o,!1,!1);return{x:a.x-r.x,y:a.y-r.y}}}return null},e.prototype.getFieldDetailComponent=function(e){for(var t=0,n=this.fieldComponents.toArray();t<n.length;t++){var i=n[t].getFieldDetailComponent(e);if(null!=i)return i}return null},e.prototype.getElementPosition=function(){return this.getElementPositionForElement(this.documentDefinitionElement.nativeElement,!0,!1)},e.prototype.getElementPositionForElement=function(e,t,n){for(var i=0,a=0;null!=e;)i+=e.offsetLeft,a+=e.offsetTop,e=e.offsetParent;return t&&(a+=this.scrollTop),n&&(a-=this.scrollTop),{x:i,y:a}},e.prototype.getFieldDetailComponentPosition=function(e){var t=this.getFieldDetailComponent(e);if(null==t)return null;var n=t.getElementPosition(),i=this.getElementPosition();return{x:n.x-i.x,y:n.y-i.y}},e.prototype.getSearchIconCSSClass=function(){var e="fa fa-search searchBoxIcon link";return this.searchMode?e+" selectedIcon":e},e.prototype.getSourcesTargetsLabel=function(){return this.isSource?"Sources":this.cfg.targetDocs.length>1?"Targets":"Target"},e.prototype.getFieldCount=function(){for(var e=0,t=0,n=this.cfg.getDocs(this.isSource);t<n.length;t++){var i=n[t];i&&i.allFields&&(e+=i.allFields.length)}return e},e.prototype.handleScroll=function(e){this.scrollTop=e.target.scrollTop,this.lineMachine.redrawLinesForMappings()},e.prototype.toggleSearch=function(){this.searchMode=!this.searchMode,this.search(this.searchMode?this.searchFilter:"")},e.prototype.addField=function(e,t){var n=this;t.stopPropagation();var i=this;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Save";var a=e.initCfg.type.isProperty(),o=e.initCfg.type.isConstant();this.modalWindow.headerText=a?"Create Property":o?"Create Constant":"Create Field",this.modalWindow.nestedComponentInitializedCallback=function(t){if(a){t.nestedComponent.initialize(null)}else if(o){t.nestedComponent.initialize(null)}else{var i=t.nestedComponent;i.isSource=n.isSource,i.initialize(null,e,!0)}},this.modalWindow.nestedComponentType=a?to:o?no:io,this.modalWindow.okButtonHandler=function(t){if(a){var n=t.nestedComponent;e.addField(n.getField())}else if(o){var r=t.nestedComponent;e.addField(r.getField())}else{var s=t.nestedComponent;e.addField(s.getField())}i.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()},e.prototype.isDocNameVisible=function(e){return!(this.searchMode&&!e.visibleInCurrentDocumentSearch)},e.prototype.toggleFieldVisibility=function(e){var t=this;e.showFields=!e.showFields,setTimeout(function(){t.lineMachine.redrawLinesForMappings()},10)},e.prototype.isAddFieldAvailable=function(e){return e.initCfg.type.isPropertyOrConstant()||!e.isSource&&e.initCfg.type.isJSON()||!e.isSource&&e.initCfg.type.isXML()},e.prototype.search=function(e){this.searchResultsExist=!1;for(var t=null==e||""==e,n=!!t,i=0,a=this.cfg.getDocs(this.isSource);i<a.length;i++){var o=a[i];o.visibleInCurrentDocumentSearch=n;for(var r=0,s=o.getAllFields();r<s.length;r++){(c=s[r]).visibleInCurrentDocumentSearch=n}if(!t)for(var l=0,p=o.getTerminalFields();l<p.length;l++){var c=p[l];if(c.visibleInCurrentDocumentSearch=c.name.toLowerCase().includes(e.toLowerCase()),this.searchResultsExist=this.searchResultsExist||c.visibleInCurrentDocumentSearch,c.visibleInCurrentDocumentSearch){o.visibleInCurrentDocumentSearch=!0;for(var d=c.parentField;null!=d;)d.visibleInCurrentDocumentSearch=!0,d.collapsed=!1,d=d.parentField}}}},e}();ao.decorators=[{type:t.Component,args:[{selector:"document-definition",template:'\n        <div #documentDefinitionElement class=\'docDef\' *ngIf="cfg && cfg.initCfg.initialized">\n            <div class="card-pf">\n                <div class="card-pf-heading">\n                    <h2 class="card-pf-title">\n                        <div class="docName">\n                            <i class="fa {{ isSource ? \'fa-hdd-o\' : \'fa-download\' }}"></i>\n                            <label>{{ getSourcesTargetsLabel() }}</label>\n                        </div>\n                        <i (click)="toggleSearch()" [attr.class]="getSearchIconCSSClass()"></i>\n                        <div class="clear"></div>\n                    </h2>\n\n                </div>\n                <div *ngIf="searchMode" class="searchBox">\n                    <input type="text" #searchFilterBox\n                        id="search-filter-box" (keyup)="search(searchFilterBox.value)" placeholder="Search"\n                        [(ngModel)]="searchFilter" />\n                    <i class="fa fa-close searchBoxCloseIcon link" (click)="toggleSearch()"></i>\n                    <div class="clear"></div>\n                </div>\n                <div [attr.class]="searchMode ? \'fieldListSearchOpen\' : \'fieldList\'" style="overflow:auto;"\n                    (scroll)="handleScroll($event)">\n                    <div *ngFor="let docDef of cfg.getDocs(isSource)" #docDetail class="docIdentifier" [attr.id]=\'docDef.name\'>\n                        <div class="card-pf-title documentHeader" tooltip="{{ docDef.fullyQualifiedName }}" placement="bottom"\n                            *ngIf="isDocNameVisible(docDef)" (click)="toggleFieldVisibility(docDef)">\n                            <div style="float:left">\n                                <i class="fa fa-angle-right docCollapseIcon" *ngIf="!docDef.showFields"></i>\n                                <i class="fa fa-angle-down docCollapseIcon" *ngIf="docDef.showFields"></i>\n                                <i class="fa {{ isSource ? \'fa-hdd-o\' : \'fa-download\' }}"></i>\n                                <label>{{ docDef.getName(cfg.showTypes) }}</label>\n                            </div>\n                            <div style="float:right;" *ngIf="isAddFieldAvailable(docDef)">\n                                <i class="fa fa-plus link" (click)="addField(docDef, $event)"></i>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        <div *ngIf="docDef.showFields">\n                            <document-field-detail #fieldDetail *ngFor="let f of docDef.fields" [modalWindow]="modalWindow"\n                                [field]="f" [cfg]="cfg" [lineMachine]="lineMachine"></document-field-detail>\n                            <div class="FieldDetail"\n                                *ngIf="!searchMode && docDef.initCfg.type.isPropertyOrConstant() && !docDef.fields.length">\n                                <label style="width:100%; padding:5px 16px; margin:0">\n                                    No {{ docDef.initCfg.type.isProperty() ? \'properties\' : \'constants\' }} exist.\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="noSearchResults" *ngIf="searchMode && !searchResultsExist">\n                        <label>No search results.</label>\n                    </div>\n                </div>\n                <div class="card-pf-heading fieldsCount">{{ getFieldCount() }} fields</div>\n            </div>\n        </div>\n    '}]}],ao.ctorParameters=function(){return[]},ao.propDecorators={cfg:[{type:t.Input}],isSource:[{type:t.Input}],lineMachine:[{type:t.Input}],modalWindow:[{type:t.Input}],documentDefinitionElement:[{type:t.ViewChild,args:["documentDefinitionElement"]}],fieldComponents:[{type:t.ViewChildren,args:["fieldDetail"]}],docElements:[{type:t.ViewChildren,args:["docDetail"]}]};var oo=function(){function e(e){this.sanitizer=e,this.isDragDropTarget=!1}return e.prototype.startDrag=function(e){this.field.isTerminal()&&(this.cfg.currentDraggedField=this.field)},e.prototype.dragEnterLeave=function(e,t){this.field.isTerminal()&&this.field.isSource()!=this.cfg.currentDraggedField.isSource()?this.isDragDropTarget=t:this.isDragDropTarget=!1},e.prototype.allowDrop=function(e){this.field.isTerminal()&&this.field.isSource()!=this.cfg.currentDraggedField.isSource()?(e.preventDefault(),this.isDragDropTarget=!0):this.isDragDropTarget=!1},e.prototype.endDrag=function(e){if(this.isDragDropTarget=!1,this.field.isTerminal()&&this.field.isSource()!=this.cfg.currentDraggedField.isSource()){var t=this.cfg.currentDraggedField;null!=t&&(this.cfg.mappingService.addNewMapping(t),this.cfg.mappingService.fieldSelected(this.field))}},e.prototype.getFieldTypeIcon=function(){return this.field.enumeration?"fa fa-file-text-o":this.field.isCollection?"fa fa-list-ul":this.field.docDef.initCfg.type.isXML()?this.field.isAttribute?"fa fa-at":"fa fa-code":"fa fa-file-o"},e.prototype.fieldShouldBeVisible=function(){return this.field.partOfMapping?this.cfg.showMappedFields:this.cfg.showUnmappedFields},e.prototype.getTransformationClass=function(){return this.field.partOfMapping&&this.field.partOfTransformation?"partOfMappingIcon fa fa-bolt":"partOfMappingIcon partOfMappingIconHidden"},e.prototype.getMappingClass=function(){if(!this.field.partOfMapping)return"partOfMappingIcon partOfMappingIconHidden";var e="fa fa-circle";return!this.field.isTerminal()&&this.field.hasUnmappedChildren&&(e="fa fa-adjust"),"partOfMappingIcon "+e},e.prototype.getCssClass=function(){var e="fieldDetail";return this.field.selected&&(e+=" selectedField"),this.field.isTerminal()||(e+=" parentField"),this.field.isSource()||(e+=" outputField"),this.isDragDropTarget&&(e+=" dragHover"),e},e.prototype.getElementPosition=function(){for(var e=0,t=0,n=this.fieldDetailElement.nativeElement;null!=n;)e+=n.offsetLeft,t+=n.offsetTop,n=n.offsetParent;return{x:e,y:t}},e.prototype.handleMouseOver=function(e){this.field.isTerminal()&&this.lineMachine.handleDocumentFieldMouseOver(this,e,this.field.isSource())},e.prototype.getParentToggleClass=function(){return"arrow fa fa-angle-"+(this.field.collapsed?"right":"down")},e.prototype.handleMouseClick=function(e){var t=this;this.cfg.mappingService.fieldSelected(this.field),setTimeout(function(){t.lineMachine.redrawLinesForMappings()},10)},e.prototype.getFieldDetailComponent=function(e){if(this.field==e)return this;for(var t=0,n=this.fieldComponents.toArray();t<n.length;t++){var i=n[t].getFieldDetailComponent(e);if(null!=i)return i}return null},e.prototype.editField=function(e){var t=this;e.stopPropagation();var n=this,i=this.field.path;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Save";var a=this.field.isProperty(),o=this.field.isConstant();this.modalWindow.headerText=a?"Edit Property":o?"Edit Constant":"Edit Field",this.modalWindow.nestedComponentInitializedCallback=function(e){if(a){e.nestedComponent.initialize(n.field)}else if(o){e.nestedComponent.initialize(n.field)}else{var i=e.nestedComponent;i.isSource=n.field.isSource(),i.initialize(n.field,t.field.docDef,!1)}},this.modalWindow.nestedComponentType=a?to:o?no:io,this.modalWindow.okButtonHandler=function(e){var t=null;if(a){t=e.nestedComponent.getField()}else if(o){t=e.nestedComponent.getField()}else{t=e.nestedComponent.getField()}n.field.copyFrom(t),n.field.docDef.updateField(n.field,i),n.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()},e.prototype.removeField=function(e){e.stopPropagation();var t=this;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Remove",this.field.isPropertyOrConstant()?this.modalWindow.headerText=this.field.isProperty()?"Remove Property?":"Remove Constant?":this.modalWindow.headerText="Remove field?",this.modalWindow.message="Are you sure you want to remove '"+this.field.displayName+"'?",this.modalWindow.okButtonHandler=function(e){t.cfg.mappings.removeFieldFromAllMappings(t.field),t.field.docDef.removeField(t.field),t.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()},e.prototype.getSpacerWidth=function(){var e=(30*this.field.fieldDepth).toString();return this.sanitizer.bypassSecurityTrustStyle("display:inline; margin-left:"+e+"px")},e}();oo.decorators=[{type:t.Component,args:[{selector:"document-field-detail",template:'\n        <div class="DocumentFieldDetailComponent" [attr.id]="field.name" #fieldDetailElement on-mouseover=\'handleMouseOver($event)\'\n            *ngIf="fieldShouldBeVisible()" [attr.draggable]="field.isTerminal()" (dragstart)="startDrag($event)" (drop)="endDrag($event)"\n            (dragenter)="dragEnterLeave($event, true)" (dragleave)="dragEnterLeave($event, false)" (dragover)="allowDrop($event)">\n            <div [attr.class]=\'getCssClass()\' (click)="handleMouseClick($event)" *ngIf="field.visibleInCurrentDocumentSearch">\n                <div style="float:left;">\n                    <div style="display:inline-block; width:24px;" *ngIf="!field.isSource()">\n                        <i [attr.class]=\'getMappingClass()\'></i>\n                        <i [attr.class]=\'getTransformationClass()\'></i>\n                    </div>\n                    <div class="spacer" [attr.style]="getSpacerWidth()">&nbsp;</div>\n                    <div *ngIf="!field.isTerminal()" style="display:inline-block;">\n                        <i [attr.class]="getParentToggleClass()"></i>\n                        <i *ngIf="!field.isCollection" class="fa fa-folder parentFolder"></i>\n                        <i *ngIf="field.isCollection" class="fa fa-list-ul parentFolder"></i>\n                    </div>\n                    <div *ngIf="field.isTerminal()" style="display:inline-block;">\n                        <i [attr.class]="getFieldTypeIcon()"></i>\n                    </div>\n                        <label>{{ field.getFieldLabel(false) }}</label>\n                    </div>\n                    <div style="float:right; width:24px; text-align:right;" *ngIf="field.isSource()">\n                        <i [attr.class]=\'getTransformationClass()\'></i>\n                        <i [attr.class]=\'getMappingClass()\'></i>\n                    </div>\n                    <div class="propertyFieldIcons" style="float:right; text-align:right" *ngIf="field.userCreated">\n                        <i class="fa fa-edit link" aria-hidden="true" (click)="editField($event);"></i>\n                        <i class="fa fa-trash link" aria-hidden="true" (click)="removeField($event);"></i>\n                    </div>\n                    <div class="clear"></div>\n            </div>\n            <div class="childrenFields" *ngIf="!field.isTerminal() && !field.collapsed">\n                <document-field-detail #fieldDetail *ngFor="let f of field.children"\n                    [field]="f" [lineMachine]="lineMachine" [modalWindow]="modalWindow"\n                    [cfg]="cfg"></document-field-detail>\n            </div>\n        </div>\n    '}]}],oo.ctorParameters=function(){return[{type:_.DomSanitizer}]},oo.propDecorators={cfg:[{type:t.Input}],field:[{type:t.Input}],lineMachine:[{type:t.Input}],modalWindow:[{type:t.Input}],fieldDetailElement:[{type:t.ViewChild,args:["fieldDetailElement"]}],fieldComponents:[{type:t.ViewChildren,args:["fieldDetail"]}]};var ro=function(){function e(){this.namespace=new ma,this.targetEnabled=!0}return e.prototype.initialize=function(e,t){if(this.namespace=null==e?new ma:e.copy(),!e.isTarget)for(var n=0,i=t;n<i.length;n++){if(i[n].isTarget){this.targetEnabled=!1;break}}},e.prototype.targetToggled=function(){this.namespace.isTarget=!this.namespace.isTarget,this.namespace.alias=this.namespace.isTarget?"tns":""},e.prototype.isDataValid=function(){var e=ga.isRequiredFieldValid(this.namespace.alias,"Alias");return e=ga.isRequiredFieldValid(this.namespace.uri,"URI")&&e},e}();ro.decorators=[{type:t.Component,args:[{selector:"namespace-edit",template:'\n        <div class="PropertyEditFieldComponent">\n            <div class="form-group">\n                <label>Alias</label>\n                <input type="text" [(ngModel)]="namespace.alias" disabled="{{namespace.isTarget || !namespace.createdByUser}}">\n            </div>\n            <div class="form-group">\n                <label>URI</label>\n                <input type="text" [(ngModel)]="namespace.uri"/>\n            </div>\n            <div class="form-group">\n                <label>Location URI</label>\n                <input type="text" [(ngModel)]="namespace.locationUri"/>\n            </div>\n            <div class="form-group">\n                <label>Type</label>\n                <input type="checkbox" [ngModel]="namespace.isTarget" style="width:20px; vertical-align:middle;"\n                    disabled="{{!targetEnabled}}" (click)="targetToggled()" />\n                <label [attr.class]="(targetEnabled ? \'\' : \'disabled\')" style="width:105px; ">Target Namespace</label>\n                <div class="clear"></div>\n            </div>\n        </div>\n    '}]}],ro.ctorParameters=function(){return[]};var so=function(){function e(){}return e.prototype.getSourceIconCSSClass=function(){return this.isSource?"fa fa-hdd-o":"fa fa-download"},e.prototype.getFieldPath=function(){return null==this.mappedField||null==this.mappedField.field||this.mappedField.field==_a.getNoneField()?"[None]":this.mappedField.field.getFieldLabel(!0)},e.prototype.displayParentObject=function(){return null!=this.mappedField&&null!=this.mappedField.field&&null!=this.mappedField.field.docDef&&this.mappedField.field!=_a.getNoneField()},e.prototype.getParentObjectName=function(){return null==this.mappedField||null==this.mappedField.field||null==this.mappedField.field.docDef?"":this.mappedField.field.docDef.getName(!0)},e}();so.decorators=[{type:t.Component,args:[{selector:"mapping-list-field",template:'\n        <ng-template #tolTemplate>\n            <div class="fieldDetailTooltip" *ngIf="displayParentObject()">\n                <label class="parentObjectName">\n                    <i [attr.class]="isSource ? \'fa fa-hdd-o\' : \'fa fa-download\'"></i>\n                    {{ getParentObjectName() }}\n                </label>\n                <label>{{ getFieldPath() }}</label>\n                <label *ngIf="displayParentObject() && mappedField.field.type">({{ mappedField.field.type }})</label>\n                <div class="clear"></div>\n            </div>\n        </ng-template>\n\n        <label class="fieldPath" [tooltip]="tolTemplate" placement="bottom" [isDisabled]="!displayParentObject()">\n            {{ getFieldPath() }}\n            <i class="fa fa-bolt" *ngIf="mappedField.actions.length != 0"></i>\n        </label>\n    '}]}],so.ctorParameters=function(){return[]},so.propDecorators={mappedField:[{type:t.Input}],isSource:[{type:t.Input}],cfg:[{type:t.Input}]};var lo=function(){function e(){this.searchMode=!1,this.searchFilter="",this.searchResults=[]}return e.prototype.getItemsCSSClass=function(){return"items mappings"+(this.searchMode?" searchShown":"")},e.prototype.searchResultsVisible=function(){return!(!this.searchMode||null==this.searchFilter||""==this.searchFilter)&&0==this.searchResults.length},e.prototype.getMappingCSSClass=function(e,t){var n="item ";return n+=t%2==1?" even":"",e==this.cfg.mappings.activeMapping&&(n+=" active"),n},e.prototype.selectMapping=function(e){this.cfg.mappings.activeMapping==e?this.cfg.mappingService.deselectMapping():this.cfg.mappingService.selectMapping(e)},e.prototype.getRowTitleCSSClass=function(){return this.searchMode?"rowTitles searchShown":"rowTitles"},e.prototype.getMappingRowsCSSClass=function(){return this.searchMode?"rows searchShown":"rows"},e.prototype.getMappings=function(){return this.searchMode?this.searchResults:[].concat(this.cfg.mappings.getAllMappings(!0))},e.prototype.getMappedFields=function(e,t){var n=e.getMappedFields(t);if(0==(n=Na.sortMappedFieldsByPath(n,!1)).length){var i=new Na;i.field=_a.getNoneField(),n.push(i)}return n},e.prototype.toggleSearch=function(){this.searchMode=!this.searchMode,this.search(this.searchFilter)},e.prototype.getSearchIconCSSClass=function(){var e="fa fa-search searchBoxIcon link";return this.searchMode?e+" selectedIcon":e},e.prototype.fieldPairMatchesSearch=function(e){if(!this.searchMode||null==this.searchFilter||""==this.searchFilter)return!0;var t=this.searchFilter.toLowerCase(),n=e.transition.getPrettyName();if(null!=n&&n.toLowerCase().includes(t))return!0;for(var i=0,a=e.getAllMappedFields();i<a.length;i++){var o=a[i].field;if(null!=o&&null!=o.path&&o.path.toLowerCase().includes(t))return!0}return!1},e.prototype.search=function(e){if(this.searchFilter=e,this.searchMode&&null!=this.searchFilter&&""!=this.searchFilter){this.searchResults=[];for(var t=0,n=this.cfg.mappings.getAllMappings(!0);t<n.length;t++)for(var i=n[t],a=0,o=i.fieldMappings;a<o.length;a++){var r=o[a];if(this.fieldPairMatchesSearch(r)){this.searchResults.push(i);break}}}else this.searchResults=[].concat(this.cfg.mappings.getAllMappings(!0))},e}();lo.decorators=[{type:t.Component,args:[{selector:"mapping-list",template:'\n        <div class="dataMapperItemList mappingList">\n            <div class="card-pf">\n                <div class="card-pf-heading">\n                    <h2 class="card-pf-title">\n                        <div class="name">\n                        <i class="fa fa-table"></i>\n                            <label>Mappings</label>\n                        </div>\n                        <i (click)="toggleSearch()" [attr.class]="getSearchIconCSSClass()"></i>\n                        <div class="clear"></div>\n                    </h2>\n                    <div class="searchHeaderWrapper">\n                        <div *ngIf="searchMode" class="searchBox">\n                            <input type="text" #searchFilterBox id="search-filter-box" [(ngModel)]="searchFilter"\n                                (keyup)="search(searchFilterBox.value)" placeholder="Search" />\n                            <i class="fa fa-close searchBoxCloseIcon link" (click)="toggleSearch()"></i>\n                            <div class="clear"></div>\n                        </div>\n                        <div [attr.class]="getRowTitleCSSClass()">\n                            <label class="sources"><i class="fa fa-hdd-o"></i>Sources</label>\n                            <label class="targets"><i class="fa fa-download"></i>Targets</label>\n                            <label class="type"><i class="fa fa-sliders"></i>Type</label>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div [attr.class]="getItemsCSSClass()">\n                    <div [attr.class]="getMappingRowsCSSClass()">\n                        <div *ngFor="let mapping of getMappings(); let index=index;"\n                            [attr.class]="getMappingCSSClass(mapping, index)" (click)="selectMapping(mapping)">\n                            <div *ngFor="let fieldPair of mapping.fieldMappings" class="itemRow">\n                                <div class="sourceFieldNames fieldNames">\n                                    <mapping-list-field *ngFor="let mappedField of getMappedFields(fieldPair, true)"\n                                        [mappedField]="mappedField" [isSource]="true" [cfg]="cfg"></mapping-list-field>\n                                    <div class="clear"></div>\n                                </div>\n                                <div class="targetFieldNames fieldNames">\n                                    <mapping-list-field *ngFor="let mappedField of getMappedFields(fieldPair, false)"\n                                        [mappedField]="mappedField" [isSource]="false" [cfg]="cfg"></mapping-list-field>\n                                    <div class="clear"></div>\n                                </div>\n                                <div class="transition">\n                                    <label>{{ fieldPair.transition.getPrettyName() }}</label>\n                                    <div class="clear"></div>\n                                </div>\n                                <div class="error">\n                                    <span class="pficon pficon-error-circle-o"\n                                    *ngIf="mapping.validationErrors.length"></span>\n                                </div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="noSearchResults" *ngIf="searchResultsVisible()">\n                        <label>No search results.</label>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div class="card-pf-heading itemCount">{{ cfg.mappings.mappings.length }} mappings</div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    '}]}],lo.ctorParameters=function(){return[]},lo.propDecorators={cfg:[{type:t.Input}]};var po=function(){function e(){this.searchMode=!1,this.searchFilter="",this.selectedNamespace=null,this.searchResults=[]}return e.prototype.getNamespaceCSSClass=function(e,t){var n="item itemRow ";return n+=t%2==1?" even":"",e==this.selectedNamespace&&(n+=" active"),n},e.prototype.searchResultsVisible=function(){return!(!this.searchMode||null==this.searchFilter||""==this.searchFilter)&&0==this.searchResults.length},e.prototype.selectNamespace=function(e){this.selectedNamespace=this.selectedNamespace==e?null:e},e.prototype.getItemsCSSClass=function(){return"items namespaces"+(this.searchMode?" searchShown":"")},e.prototype.getRowTitleCSSClass=function(){return this.searchMode?"rowTitles searchShown":"rowTitles"},e.prototype.getRowsCSSClass=function(){return this.searchMode?"rows searchShown":"rows"},e.prototype.getNamespaces=function(){return this.searchMode?this.searchResults:this.cfg.getFirstXmlDoc(!1).namespaces},e.prototype.addEditNamespace=function(e,t){var n=this;t.stopPropagation();var i=null!=e;i||((e=new ma).createdByUser=!0),this.modalWindow.reset(),this.modalWindow.confirmButtonText="Save",this.modalWindow.headerText=null==e?"Add Namespace":"Edit Namespace",this.modalWindow.nestedComponentInitializedCallback=function(t){t.nestedComponent.initialize(e,n.cfg.getFirstXmlDoc(!1).namespaces)},this.modalWindow.nestedComponentType=ro,this.modalWindow.okButtonHandler=function(t){var a=t.nestedComponent.namespace;i?e.copyFrom(a):n.cfg.getFirstXmlDoc(!1).namespaces.push(a),n.search(n.searchFilter),n.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()},e.prototype.toggleSearch=function(){this.searchMode=!this.searchMode,this.search(this.searchFilter)},e.prototype.getSearchIconCSSClass=function(){var e="fa fa-search searchBoxIcon link";return this.searchMode?e+" selectedIcon":e},e.prototype.namespaceMatchesSearch=function(e){if(!this.searchMode||null==this.searchFilter||""==this.searchFilter)return!0;var t=this.searchFilter.toLowerCase();return!(!e.isTarget||!"tns".includes(t)&&!"target".includes(t))||(!(null==e.alias||!e.alias.toLowerCase().includes(t))||(!(null==e.uri||!e.uri.toLowerCase().includes(t))||!(null==e.locationUri||!e.locationUri.toLowerCase().includes(t))))},e.prototype.removeNamespace=function(e,t){var n=this;t.stopPropagation(),this.modalWindow.reset(),this.modalWindow.confirmButtonText="Remove",this.modalWindow.headerText="Remove Namespace?",this.modalWindow.message="Are you sure you want to remove '"+e.alias+"' ?",this.modalWindow.okButtonHandler=function(t){ga.removeItemFromArray(e,n.cfg.getFirstXmlDoc(!1).namespaces),n.selectedNamespace=null,n.search(n.searchFilter)},this.modalWindow.show()},e.prototype.search=function(e){if(this.searchMode&&null!=this.searchFilter&&""!=this.searchFilter){this.searchFilter=e,this.searchResults=[];for(var t=0,n=this.cfg.getFirstXmlDoc(!1).namespaces;t<n.length;t++){var i=n[t];this.namespaceMatchesSearch(i)?this.searchResults.push(i):null!=this.selectedNamespace&&(this.selectNamespace=null)}}else this.searchResults=[].concat(this.cfg.getFirstXmlDoc(!1).namespaces)},e}();po.decorators=[{type:t.Component,args:[{selector:"namespace-list",template:'\n        <div class="dataMapperItemList namespaceList">\n            <div class="card-pf">\n                <div class="card-pf-heading">\n                    <h2 class="card-pf-title">\n                        <div class="name">\n                            <i class="fa fa-table"></i>\n                            <label>Namespaces for {{ cfg.getFirstXmlDoc(false).initCfg.shortIdentifier }}</label>\n                        </div>\n                        <i (click)="toggleSearch()" [attr.class]="getSearchIconCSSClass()"></i>\n                        <i (click)="addEditNamespace(null, $event)" class="fa fa-plus link"></i>\n                        <div class="clear"></div>\n                    </h2>\n                    <div class="searchHeaderWrapper">\n                        <div *ngIf="searchMode" class="searchBox">\n                            <input type="text" #searchFilterBox id="search-filter-box" [(ngModel)]="searchFilter"\n                                (keyup)="search(searchFilterBox.value)" placeholder="Search" />\n                            <i class="fa fa-close searchBoxCloseIcon link" (click)="toggleSearch()"></i>\n                            <div class="clear"></div>\n                        </div>\n                        <div [attr.class]="getRowTitleCSSClass()">\n                            <label class="alias">Alias</label>\n                            <label class="uri">Uri</label>\n                            <label class="locationUri">Location URI</label>\n                            <div class="clear"></div>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div [attr.class]="getItemsCSSClass()">\n                    <div [attr.class]="getRowsCSSClass()">\n                        <div *ngFor="let namespace of getNamespaces(); let index=index;"\n                            [attr.class]="getNamespaceCSSClass(namespace, index)" (click)="selectNamespace(namespace)">\n                            <label class="alias">{{ namespace.isTarget ? \'Target (tns)\' : namespace.alias }}</label>\n                            <label class="uri">{{ namespace.uri }}</label>\n                            <label class="locationUri">{{ namespace.locationUri }}</label>\n                            <div class="actions" style="float:right">\n                                <i class="fa fa-edit link" aria-hidden="true" (click)="addEditNamespace(namespace, $event);"></i>\n                                <i class="fa fa-trash link" aria-hidden="true" (click)="removeNamespace(namespace, $event);"></i>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                    </div>\n                    <div class="noSearchResults" *ngIf="searchResultsVisible()">\n                        <label>No search results.</label>\n                        <div class="clear"></div>\n                    </div>\n                </div>\n                <div class="card-pf-heading itemCount">{{ getNamespaces().length }} namespaces</div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    '}]}],po.ctorParameters=function(){return[]},po.propDecorators={cfg:[{type:t.Input}],modalWindow:[{type:t.Input}]};var co=function(){function e(){this.selected=!1,this.selectedFieldIsSource=!1,this.isOddRow=!1}return e.prototype.getClass=function(){var e="MappingSelectionSection";return this.selected&&(e+=" SelectedMappingSelectionSection"),this.isOddRow&&(e+=" odd"),e},e.prototype.getSourceTargetLabelText=function(e,t){return e?t.sourceFields.length>0?"Sources":"Source":t.targetFields.length>0?"Targets":"Target"},e.prototype.getFormattedOutputPath=function(e,t){if(null==e)return"";var n=(e=e.replace(".","/")).lastIndexOf("/"),i=-1==n?e:e.substr(e.lastIndexOf("/")+1);return e=-1==n?"":e.substr(0,e.lastIndexOf("/")+1),t?i:e},e.prototype.handleMouseClick=function(e){this.selectedCallback(this)},e}();co.decorators=[{type:t.Component,args:[{selector:"mapping-selection-section",template:'\n        <div [attr.class]="getClass()" (click)="handleMouseClick($event)">\n            <div class="numberWrapper"><div class="number">{{ outputNumber + 1 }}</div></div>\n            <div class="pathContainer">\n                <div class="fieldPair" *ngFor="let fieldPair of mapping.fieldMappings">\n                    <div class="sourceTargetSection sourcePaths">\n                        <label>{{ getSourceTargetLabelText(true, fieldPair) }}</label>\n                        <div class="paths" *ngFor="let sourceField of fieldPair.sourceFields">\n                            <div class="path">\n                                <div class="pathName">\n                                    <i class="fa fa-hdd-o" aria-hidden="true"></i>\n                                    {{ getFormattedOutputPath(sourceField.field.path, false) }}\n                                </div>\n                                <div class="fieldName">{{ getFormattedOutputPath(sourceField.field.path, true) }}</div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="sourceTargetSection targetPaths">\n                        <label>{{ getSourceTargetLabelText(false, fieldPair) }}</label>\n                        <div class="paths" *ngFor="let targetField of fieldPair.targetFields">\n                            <div class="path">\n                                <div class="pathName">\n                                    <i class="fa fa-download" aria-hidden="true"></i>\n                                    {{ getFormattedOutputPath(targetField.field.path, false) }}\n                                </div>\n                                <div class="fieldName">{{ getFormattedOutputPath(targetField.field.path, true) }}</div>\n                                <div class="clear"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="clear"></div>\n        </div>\n    '}]}],co.ctorParameters=function(){return[]},co.propDecorators={outputNumber:[{type:t.Input}],mapping:[{type:t.Input}],selectedCallback:[{type:t.Input}],selected:[{type:t.Input}],selectedFieldIsSource:[{type:t.Input}],parentComponent:[{type:t.Input}],isOddRow:[{type:t.Input}]};var uo=function(){function e(){this.selectedField=null,this.selectedMappingComponent=null}return e.prototype.selectionChanged=function(e){var t=e.parentComponent;t.getSelectedMappingComponent().selected=!1,e.selected=!0,t.selectedMappingComponent=e},e.prototype.getFormattedOutputPath=function(e,t){var n=(e=e.replace(".","/")).lastIndexOf("/"),i=-1==n?e:e.substr(e.lastIndexOf("/")+1);return e=-1==n?"":e.substr(0,e.lastIndexOf("/")+1),t?i:e},e.prototype.addMapping=function(){this.cfg.mappingService.addNewMapping(this.selectedField),this.modalWindow.close()},e.prototype.getSelectedMapping=function(){return this.getSelectedMappingComponent().mapping},e.prototype.getSelectedMappingComponent=function(){if(null==this.selectedMappingComponent)for(var e=0,t=this.sectionComponents.toArray();e<t.length;e++){var n=t[e];if(n.selected){this.selectedMappingComponent=n;break}}return this.selectedMappingComponent},e}();uo.decorators=[{type:t.Component,args:[{selector:"mapping-selection",template:'\n        <div class="MappingSelectionComponent" *ngIf="mappings">\n            <div class="header">\n                <div class="sourceTargetHeader">{{ selectedField.isSource() ? \'Source\' : \'Target\' }}</div>\n                <div class="pathHeader">\n                    <div class="pathName">{{ getFormattedOutputPath(selectedField.path, false) }}</div>\n                    <div class="fieldName">{{ getFormattedOutputPath(selectedField.path, true) }}</div>\n                    <div class="clear"></div>\n                </div>\n                <div class="clear"></div>\n                <button class="btn btn-primary addButton" (click)="addMapping()">\n                    <i class="fa fa-plus"></i>Add New Mapping\n                </button>\n            </div>\n            <div class="MappingSelectionOptions">\n                <mapping-selection-section *ngFor="let mapping of mappings; let i = index; let odd=odd; let even=even;"\n                    [mapping]="mapping" [outputNumber]="i" [selected]="i == 0" [selectedCallback]="selectionChanged"\n                    [selectedFieldIsSource]="selectedField.isSource()" [parentComponent]="this"\n                    [isOddRow]="odd" #mappingSection>\n                </mapping-selection-section>\n            </div>\n        </div>\n    '}]}],uo.ctorParameters=function(){return[]},uo.propDecorators={sectionComponents:[{type:t.ViewChildren,args:["mappingSection"]}]};var ho=function(){function e(){this.isSource=!1}return e.prototype.isAddButtonVisible=function(){return!(!this.isSource||!this.fieldPair.transition.isCombineMode())||!(this.isSource||!this.fieldPair.transition.isSeparateMode())},e.prototype.getTopFieldTypeLabel=function(){return this.isSource?"Source":"Target"},e.prototype.getAddButtonLabel=function(){return this.isSource?"Add Source":"Add Target"},e.prototype.addClicked=function(){this.fieldPair.addField(_a.getNoneField(),this.isSource),this.cfg.mappingService.updateMappedField(this.fieldPair)},e.prototype.removePair=function(){this.cfg.mappingService.removeMappedPair(this.fieldPair)},e.prototype.removeMappedField=function(e){this.fieldPair.removeMappedField(e,this.isSource),0==this.fieldPair.getMappedFields(this.isSource).length&&this.fieldPair.addField(_a.getNoneField(),this.isSource),this.cfg.mappingService.updateMappedField(this.fieldPair)},e}();ho.decorators=[{type:t.Component,args:[{selector:"simple-mapping",template:'\n        <div class="mappingFieldContainer" *ngIf="fieldPair">\n            <div *ngFor="let mappedField of fieldPair.getMappedFields(isSource)" class="MappingFieldSection">\n                \x3c!-- header label / trash icon --\x3e\n                <div style="float:left;"><label>{{ getTopFieldTypeLabel() }}</label></div>\n                <div style="float:right; margin-right:5px;">\n                    <i class="fa fa-trash link" aria-hidden="true"\n                        (click)="removeMappedField(mappedField)"></i>\n                </div>\n                <div class="clear"></div>\n\n                <mapping-field-detail [fieldPair]="fieldPair" [cfg]="cfg" [isSource]="isSource"\n                    [mappedField]="mappedField"></mapping-field-detail>\n                <mapping-field-action [mappedField]="mappedField" [cfg]="cfg" [isSource]="isSource"\n                    [fieldPair]="fieldPair"></mapping-field-action>\n            </div>\n            \x3c!-- add button --\x3e\n            <div class="linkContainer" *ngIf="isAddButtonVisible()">\n                <a (click)="addClicked()" class="small-primary">{{ getAddButtonLabel() }}</a>\n            </div>\n        </div>\n    '}]}],ho.ctorParameters=function(){return[]},ho.propDecorators={cfg:[{type:t.Input}],isSource:[{type:t.Input}],fieldPair:[{type:t.Input}]};var fo=function(){function e(){this.fieldPairForEditing=null,this.animateLeft=!1,this.animateRight=!1}return e.prototype.getAnimationCSSClass=function(){return this.animateLeft?"dm-swipe-left collectionSectionLeft":this.animateRight?"dm-swipe-right":""},e.prototype.getFields=function(e,t){var n=e.getFields(t);return n.length>0?n:[_a.getNoneField()]},e.prototype.addClicked=function(){this.cfg.mappingService.addMappedPair()},e.prototype.editPair=function(e){this.fieldPairForEditing=e,this.cfg.mappings.activeMapping.currentFieldMapping=e,this.animateLeft=!0},e.prototype.exitEditMode=function(){this.fieldPairForEditing=null,this.animateLeft=!1,this.animateRight=!0,this.cfg.mappings.activeMapping.currentFieldMapping=null},e.prototype.removePair=function(e){this.cfg.mappingService.removeMappedPair(e)},e}();fo.decorators=[{type:t.Component,args:[{selector:"collection-mapping",template:'\n        <div class="collectionSectionContainer">\n            <div [attr.class]="\'collectionSection \' + getAnimationCSSClass()">\n                \x3c!-- collection field pairing detail --\x3e\n                <div style="float:left; width:50%; padding-top:10px;" class="mappingFieldContainer">\n                    <div *ngFor="let fieldPair of cfg.mappings.activeMapping.fieldMappings">\n                        <div class="MappingFieldSection">\n                            \x3c!-- header label / trash icon --\x3e\n                            <div style="float:left;">\n                                <label>Source</label>\n                                <i class="fa fa-bolt" style="font-size:12px; vertical-align:baseline;"\n                                    *ngIf="fieldPair.hasTransition()"></i>\n                            </div>\n                            <div style="float:right; margin-right:5px; text-align:right">\n                                <i class="fa fa-edit link" aria-hidden="true"\n                                    (click)="editPair(fieldPair)"></i>\n                                <i class="fa fa-trash link" aria-hidden="true" (click)="removePair(fieldPair)"></i>\n                            </div>\n                            <div class="clear"></div>\n\n                            <mapping-field-detail *ngFor="let mappedField of fieldPair.getMappedFields(true)"\n                                [mappedField]="mappedField" [fieldPair]="fieldPair" [cfg]="cfg" [isSource]="true"></mapping-field-detail>\n                            <div style="float:left;"><label>Target</label></div>\n                            <div class="clear"></div>\n                            <mapping-field-detail *ngFor="let mappedField of fieldPair.getMappedFields(false)"\n                                [mappedField]="mappedField" [fieldPair]="fieldPair" [cfg]="cfg" [isSource]="false"></mapping-field-detail>\n                        </div>\n                    </div>\n                    \x3c!-- add button --\x3e\n                    <div class="linkContainer">\n                        <a (click)="addClicked()" class="small-primary">Add Mapping</a>\n                    </div>\n                </div>\n                <div style="float:left; width:50%; margin:0; padding:0" *ngIf="fieldPairForEditing">\n                    <div class="card-pf-title">\n                        <div style="float:left">Edit Details</div>\n                        <div style="float:right;">\n                            <i class="fa fa-close link" aria-hidden="true" (click)="exitEditMode()"></i>\n                        </div>\n                        <div class="clear"></div>\n                    </div>\n                    <mapping-pair-detail [cfg]="cfg" [fieldPair]="fieldPairForEditing"\n                        [modalWindow]="modalWindow"></mapping-pair-detail>\n                </div>\n                <div class="clear"></div>\n            </div>\n        </div>\n    '}]}],fo.ctorParameters=function(){return[]},fo.propDecorators={cfg:[{type:t.Input}]};var go=function(){return function(){}}();go.decorators=[{type:t.Component,args:[{selector:"mapping-pair-detail",template:'\n        <div>\n            <collapsable-header title="Sources" #sourcesHeader class="sources"></collapsable-header>\n            <simple-mapping [cfg]="cfg" [isSource]="true" *ngIf="!sourcesHeader.collapsed"\n                [fieldPair]="fieldPair"></simple-mapping>\n            <collapsable-header title="Action" #actionsHeader></collapsable-header>\n            <transition-selector [cfg]="cfg" [modalWindow]="modalWindow"\n                [fieldPair]="fieldPair" *ngIf="!actionsHeader.collapsed"></transition-selector>\n            <collapsable-header title="Targets" #targetsHeader></collapsable-header>\n            <simple-mapping [cfg]="cfg" [isSource]="false" *ngIf="!targetsHeader.collapsed"\n                [fieldPair]="fieldPair"></simple-mapping>\n        </div>\n    '}]}],go.ctorParameters=function(){return[]},go.propDecorators={cfg:[{type:t.Input}],fieldPair:[{type:t.Input}],modalWindow:[{type:t.Input}],sourcesHeader:[{type:t.ViewChild,args:["sourcesHeader"]}],actionsHeader:[{type:t.ViewChild,args:["actionsHeader"]}],targetsHeader:[{type:t.ViewChild,args:["targetsHeader"]}]};var mo=function(){function e(){}return e.prototype.ngOnInit=function(){var e=this;this.cfg.mappingService.mappingSelectionRequired$.subscribe(function(t){e.selectMapping(t)})},e.prototype.isMappingCollection=function(){return this.cfg.mappings.activeMapping.isCollectionMode()},e.prototype.getTitle=function(){return this.cfg.mappings.activeMapping.isLookupMode()?"Lookup Mapping":this.isMappingCollection()?"Repeating Mapping":"Mapping Details"},e.prototype.removeMapping=function(e){var t=this;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Remove",this.modalWindow.headerText="Remove Mapping?",this.modalWindow.message="Are you sure you want to remove the current mapping?",this.modalWindow.okButtonHandler=function(e){t.cfg.mappingService.removeMapping(t.cfg.mappings.activeMapping),t.cfg.showMappingDetailTray=!1},this.modalWindow.show()},e.prototype.selectMapping=function(e){var t=this,n=this.cfg.mappings.findMappingsForField(e),i=this;this.modalWindow.reset(),this.modalWindow.confirmButtonText="Select",this.modalWindow.headerText="Select Mapping",this.modalWindow.nestedComponentInitializedCallback=function(a){var o=a.nestedComponent;o.selectedField=e,o.cfg=i.cfg,o.mappings=n,o.modalWindow=t.modalWindow},this.modalWindow.nestedComponentType=uo,this.modalWindow.okButtonHandler=function(e){var t=e.nestedComponent.getSelectedMapping();i.cfg.mappingService.selectMapping(t)},this.modalWindow.cancelButtonHandler=function(e){i.cfg.mappingService.selectMapping(null)},this.modalWindow.show()},e}();mo.decorators=[{type:t.Component,args:[{selector:"mapping-detail",template:'\n        <div class=\'fieldMappingDetail\' *ngIf="cfg.mappings.activeMapping && cfg.showMappingDetailTray">\n            <div class="card-pf">\n                <div class="card-pf-heading">\n                    <h2 class="card-pf-title">\n                        <div style="float:left;">{{ getTitle() }}</div>\n                        <div style="float:right; text-align:right;">\n                            <i class="fa fa-trash link" aria-hidden="true" (click)="removeMapping($event)"></i>\n                        </div>\n                        <div style="clear:both; height:0px;"></div>\n                    </h2>\n                </div>\n                <div class="fieldMappingDetail-body">\n                    <div class="alert alert-danger" *ngFor="let error of cfg.mappings.activeMapping.getValidationErrors()">\n                        <a class="close" (click)="cfg.mappings.activeMapping.removeError(error.identifier)">\n                            <i class="fa fa-close"></i>\n                        </a>\n                        <span class="pficon pficon-error-circle-o"></span>\n                        <label>{{ error.message }}</label>\n                    </div>\n                    <div class="alert alert-warning" *ngFor="let warn of cfg.mappings.activeMapping.getValidationWarnings()">\n                        <a class="close" (click)="cfg.mappings.activeMapping.removeError(warn.identifier)">\n                            <i class="fa fa-close"></i>\n                        </a>\n                        <span class="pficon pficon-warning-triangle-o"></span>\n                        <label>{{ warn.message }}</label>\n                    </div>\n                    <div *ngIf="!isMappingCollection()">\n                        <mapping-pair-detail *ngFor="let fieldPair of cfg.mappings.activeMapping.fieldMappings"\n                            [cfg]="cfg" [fieldPair]="fieldPair" [modalWindow]="modalWindow"></mapping-pair-detail>\n                    </div>\n                    <collection-mapping [cfg]="cfg" *ngIf="isMappingCollection()"></collection-mapping>\n                </div>\n            </div>\n        </div>\n    '}]}],mo.ctorParameters=function(){return[]},mo.propDecorators={cfg:[{type:t.Input}],modalWindow:[{type:t.Input}]};var vo=function(){function e(){var e=this;this.dataSource=o.Observable.create(function(t){t.next(e.executeSearch(t.outerValue))})}return e.prototype.getFieldPath=function(){return null==this.mappedField||null==this.mappedField.field||this.mappedField.field==_a.getNoneField()?"[None]":this.mappedField.field.path},e.prototype.getSourceIconCSSClass=function(){return this.isSource?"fa fa-hdd-o":"fa fa-download"},e.prototype.displayParentObject=function(){return null!=this.mappedField&&null!=this.mappedField.field&&null!=this.mappedField.field.docDef&&this.mappedField.field!=_a.getNoneField()},e.prototype.getParentObjectName=function(){return null==this.mappedField||null==this.mappedField.field||null==this.mappedField.field.docDef?"":this.mappedField.field.docDef.getName(!0)},e.prototype.selectionChanged=function(e){this.mappedField.field=e.item.field,this.cfg.mappingService.updateMappedField(this.fieldPair)},e.prototype.executeSearch=function(e){for(var t=[],n=[_a.getNoneField()],i=0,a=this.cfg.getDocs(this.isSource);i<a.length;i++){var o=a[i];n=n.concat(o.getTerminalFields())}for(var r=this.cfg.mappings.activeMapping,s=0,l=n;s<l.length;s++){var p=l[s],c={field:p,displayName:null==p?"":p.getFieldLabel(!0)};if(null==e||""==e||-1!=c.displayName.toLowerCase().indexOf(e.toLowerCase())){if(!r.isFieldSelectable(p))continue;t.push(c)}if(t.length>9)break}return t},e}();vo.decorators=[{type:t.Component,args:[{selector:"mapping-field-detail",template:'\n        \x3c!-- our template for type ahead --\x3e\n        <ng-template #typeaheadTemplate let-model="item" let-index="index">\n            <h5 style="font-style:italic;">{{ model[\'field\'].docDef == null ? \'\' : model[\'field\'].docDef.name }}</h5>\n            <h5>{{ model[\'field\'].path }}</h5>\n        </ng-template>\n\n        \x3c!-- our template for tooltip popover --\x3e\n        <ng-template #tolTemplate>\n            <div class="fieldDetailTooltip">\n                <label class="parentObjectName" *ngIf="displayParentObject()">\n                    <i [attr.class]="getSourceIconCSSClass()"></i>\n                    {{ getParentObjectName() }}\n                </label>\n                <label>{{ getFieldPath() }}</label>\n                <label *ngIf="displayParentObject() && mappedField.field.type">({{ mappedField.field.type }})</label>\n                <div class="clear"></div>\n            </div>\n        </ng-template>\n\n        <div class=\'fieldDetail\' style="margin-bottom:5px;" *ngIf="mappedField"\n            [tooltip]="tolTemplate" placement="left">\n            <label class="parentObjectName" *ngIf="displayParentObject()">\n                <i [attr.class]="getSourceIconCSSClass()"></i>\n                {{ getParentObjectName() }}\n            </label>\n            <div style="width:100%;">\n                <input type="text" id="input-{{isSource?\'source\':\'target\'}}-{{mappedField.field.getFieldLabel(false)}}"\n                    [ngModel]="mappedField.field.getFieldLabel(false)" [typeahead]="dataSource"\n                    typeaheadWaitMs="200" (typeaheadOnSelect)="selectionChanged($event)"\n                    typeaheadOptionField="displayName" [typeaheadItemTemplate]="typeaheadTemplate">\n            </div>\n        </div>\n    '}]}],vo.ctorParameters=function(){return[]},vo.propDecorators={cfg:[{type:t.Input}],fieldPair:[{type:t.Input}],isSource:[{type:t.Input}],mappedField:[{type:t.Input}]};var yo=function(){function e(){}return e.prototype.getMappedFieldActions=function(){return this.mappedField.actions},e.prototype.getActionDescription=function(e){return e.isSeparateOrCombineMode?e.config.name:"Transformation"},e.prototype.actionsExistForField=function(){return this.getActionConfigs().length>0},e.prototype.getActionConfigs=function(){for(var e=[],t=0,n=Ta.actionConfigs;t<n.length;t++){var i=n[t];i.appliesToField(this.mappedField.field,this.fieldPair)&&e.push(i)}return e},e.prototype.removeAction=function(e){this.mappedField.removeAction(e)},e.prototype.selectionChanged=function(e){this.cfg.mappingService.saveCurrentMapping()},e.prototype.addTransformation=function(){var e=this.getActionConfigs()[0],t=new xa;e.populateFieldAction(t),this.getMappedFieldActions().push(t),this.cfg.mappingService.saveCurrentMapping()},e.prototype.configSelectionChanged=function(e){var t=e.target.selectedOptions.item(0).attributes,n=t.getNamedItem("value").value,i=t.getNamedItem("actionIndex").value,a=this.getMappedFieldActions()[i];if(a.name!=n){Ta.getActionConfigForName(n).populateFieldAction(a)}this.cfg.mappingService.saveCurrentMapping()},e}();yo.decorators=[{type:t.Component,args:[{selector:"mapping-field-action",template:'\n        <div class="mappingFieldAction">\n            <div class="actionContainer" *ngFor="let action of getMappedFieldActions(); let actionIndex = index">\n                <div class="form-group">\n                    <label style="float:left;">{{ getActionDescription(action) }}</label>\n                    <div style="float:right; margin-right:5px;" *ngIf="!action.isSeparateOrCombineMode">\n                        <i class="fa fa-trash link" aria-hidden="true" (click)="removeAction(action)"></i>\n                    </div>\n                    <div class="clear"></div>\n\n                    <select (change)="configSelectionChanged($event);"\n                        [ngModel]="action.name" *ngIf="!action.isSeparateOrCombineMode">\n                        <option *ngFor="let actionConfig of getActionConfigs()"\n                            [attr.actionIndex]="actionIndex"\n                            [attr.value]="actionConfig.name">{{ actionConfig.name }}</option>\n                    </select>\n\n                    <div class="clear"></div>\n                </div>\n                <div class="form-group argument" *ngFor="let argConfig of action.config.arguments; let i = index">\n                    <label style="">{{ argConfig.name }}</label>\n                    <input type="text" id="input-index-{{action.getArgumentValue(argConfig.name).value}}"\n                        [(ngModel)]="action.getArgumentValue(argConfig.name).value" (change)="selectionChanged($event)"/>\n                    <div class="clear"></div>\n                </div>\n            </div>\n            <div *ngIf="actionsExistForField() && !isSource" class="linkContainer">\n                <a (click)="addTransformation()" class="small-primary">Add Transformation</a>\n            </div>\n        </div>\n    '}]}],yo.ctorParameters=function(){return[]},yo.propDecorators={cfg:[{type:t.Input}],mappedField:[{type:t.Input}],isSource:[{type:t.Input}],fieldPair:[{type:t.Input}]};var bo=function(){return function(){}}(),_o=function(){function e(){}return e.prototype.initialize=function(e,t){this.fieldPair=t;var n=t.getFields(!1)[0],i=[];i.push("[ None ]");for(var a=0,o=n.enumValues;a<o.length;a++){p=o[a];i.push(p.name)}this.table=e.mappings.getTableByName(t.transition.lookupTableName),null==this.table&&e.errorService.error("Could not find enum lookup table for mapping.",t);for(var r=[],s=0,l=t.getFields(!0)[0].enumValues;s<l.length;s++){var p=l[s],c=new bo;c.sourceEnumValue=p.name,c.targetEnumValues=[].concat(i);var d=this.table.getEntryForSource(c.sourceEnumValue,!1);c.selectedTargetEnumValue=null==d?"[ None ]":d.targetValue,r.push(c)}this.data=r},e.prototype.saveTable=function(){this.table.entries=[];for(var e=0,t=this.outputSelects.toArray();e<t.length;e++){var n=t[e],i=n.nativeElement.selectedOptions;if(i&&i.length){var a=i[0].label;if("[ None ]"==a)continue;var o=new ja;o.sourceValue=n.nativeElement.attributes.sourceValue.value,o.targetValue=a,this.table.entries.push(o)}}},e}();_o.decorators=[{type:t.Component,args:[{selector:"lookup-table",template:'\n        <div class="LookupTableComponent" *ngIf="data">\n            <div class="lookupTableRow" *ngFor="let d of data">\n                <label>{{ d.sourceEnumValue }}</label>\n                <select #outputSelect [ngModel]="d.selectedTargetEnumValue" [attr.sourceValue]="d.sourceEnumValue">\n                    <option *ngFor="let targetEnumValue of d.targetEnumValues" [ngValue]="targetEnumValue"\n                        [attr.enumvalue]="targetEnumValue">{{ targetEnumValue }}\n                    </option>\n                </select>\n            </div>\n        </div>\n    '}]}],_o.ctorParameters=function(){return[]},_o.propDecorators={outputSelects:[{type:t.ViewChildren,args:["outputSelect"]}]};var Co=function(){function e(){this.modes=Fa,this.delimeters=Oa}return e.prototype.selectionChanged=function(e){var t="mode"==e.target.attributes.getNamedItem("selector").value,n=e.target.selectedOptions.item(0).attributes.getNamedItem("value").value;t?this.fieldPair.transition.mode=parseInt(n,10):this.fieldPair.transition.delimiter=parseInt(n,10),this.cfg.mappingService.updateMappedField(this.fieldPair)},e.prototype.modeIsEnum=function(){return this.fieldPair.transition.isEnumerationMode()},e.prototype.getMappedValueCount=function(){var e=this.fieldPair.transition.lookupTableName;if(null==e)return 0;var t=this.cfg.mappings.getTableByName(e);return t&&t.entries?t.entries.length:0},e.prototype.showLookupTable=function(){var e=this,t=this.cfg.mappings.activeMapping;t.hasMappedFields(!0)&&t.hasMappedFields(!1)?(this.modalWindow.reset(),this.modalWindow.confirmButtonText="Finish",this.modalWindow.headerText="Map Enumeration Values",this.modalWindow.nestedComponentInitializedCallback=function(t){t.nestedComponent.initialize(e.cfg,e.fieldPair)},this.modalWindow.nestedComponentType=_o,this.modalWindow.okButtonHandler=function(t){t.nestedComponent.saveTable(),e.cfg.mappingService.saveCurrentMapping()},this.modalWindow.show()):this.cfg.errorService.warn("Please select source and target fields before mapping values.",null)},e}();Co.decorators=[{type:t.Component,args:[{selector:"transition-selector",template:'\n        <div class="mappingFieldContainer TransitionSelector" *ngIf="cfg.mappings.activeMapping">\n            <div class="MappingFieldSection">\n                <div *ngIf="modeIsEnum()" class="enumSection">\n                    <label>{{ getMappedValueCount() }} values mapped</label>\n                    <i class="fa fa-edit link" (click)="showLookupTable()"></i>\n                </div>\n                <div *ngIf="!modeIsEnum()">\n                    <label>Action</label>\n                    <select  id="select-action" (change)="selectionChanged($event);" selector="mode"\n                        [ngModel]="fieldPair.transition.mode">\n                        <option value="{{modes.COMBINE}}">Combine</option>\n                        <option value="{{modes.MAP}}">Map</option>\n                        <option value="{{modes.SEPARATE}}">Separate</option>\n                    </select>\n                    <div class="clear"></div>\n                </div>\n                <div *ngIf="fieldPair.transition.isSeparateMode() || fieldPair.transition.isCombineMode()" style="margin-top:10px;">\n                    <label>Separator:</label>\n                    <select  id="select-separator" (change)="selectionChanged($event);" selector="separator"\n                        [ngModel]="fieldPair.transition.delimiter">\n                        <option value="{{delimeters.COLON}}">Colon</option>\n                        <option value="{{delimeters.COMMA}}">Comma</option>\n                        <option value="{{delimeters.MULTISPACE}}">Multispace</option>\n                        <option value="{{delimeters.SPACE}}">Space</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n    '}]}],Co.ctorParameters=function(){return[]},Co.propDecorators={cfg:[{type:t.Input}],modalWindow:[{type:t.Input}],fieldPair:[{type:t.Input}]};var wo=function(){return function(){}}();wo.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule,i.HttpModule,a.FormsModule,zi.forRoot(),Ri.forRoot(),si.forRoot()],declarations:[Ya,ao,mo,ho,fo,go,Xa,Ja,yo,vo,oo,Ga,Co,Qa,uo,co,Za,_o,$a,io,ro,to,no,eo,lo,so,po,qa],exports:[Ja,Xa,Ya],providers:[Sa,Ba,za,Wa],entryComponents:[uo,_o,$a,io,ro,to,no,qa],bootstrap:[Ja]}]}],wo.ctorParameters=function(){return[]},e.ErrorHandlerService=za,e.DocumentManagementService=Sa,e.MappingManagementService=Ba,e.InitializationService=Wa,e.DocumentDefinition=_a,e.MappingDefinition=Ua,e.ConfigModel=wa,e.MappingModel=Ra,e.MappingSerializer=Ha,e.DataMapperAppComponent=Ya,e.DataMapperModule=wo,e.ɵw=eo,e.ɵv=no,e.ɵl=Ga,e.ɵh=Ja,e.ɵa=ao,e.ɵk=oo,e.ɵs=io,e.ɵn=Qa,e.ɵr=_o,e.ɵc=fo,e.ɵe=mo,e.ɵd=go,e.ɵb=ho,e.ɵi=yo,e.ɵj=vo,e.ɵy=lo,e.ɵx=so,e.ɵp=uo,e.ɵo=co,e.ɵm=Co,e.ɵf=$a,e.ɵg=Xa,e.ɵt=ro,e.ɵz=po,e.ɵu=to,e.ɵba=qa,e.ɵq=Za,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=atlasmap-data-mapper.umd.min.js.map
